var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var r={},o={},i=e.parcelRequire63d7;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequire63d7=i),i.register("94frH",(function(e,t){var n=i("l0CXE"),r=i("XwkFr"),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c})),i.register("l0CXE",(function(e,t){var n=i("cKotg"),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();e.exports=o})),i.register("cKotg",(function(t,n){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r})),i.register("XwkFr",(function(e,t){e.exports=function(){return!1}})),i.register("f0aqH",(function(e,t){var n=i("cKotg"),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s})),i.register("bEVqM",(function(e,t){var n=i("l0CXE"),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}})),i.register("gL7ev",(function(e,n){t(e.exports,"isNodeEnv",(function(){return a}),(function(e){return a=e})),t(e.exports,"dynamicRequire",(function(){return s}),(function(e){return s=e}));var r=i("hoEGD"),o=i("3crZL");function a(){return!(0,r.isBrowserBundle)()&&"[object process]"===Object.prototype.toString.call(void 0!==o?o:0)}function s(e,t){return e.require(t)}})),i.register("hoEGD",(function(e,n){function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}t(e.exports,"isBrowserBundle",(function(){return r}))})),i.register("3crZL",(function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}})),i.register("3Wlpk",(function(e,n){t(e.exports,"dateTimestampInSeconds",(function(){return u}),(function(e){return u=e})),t(e.exports,"timestampInSeconds",(function(){return l}),(function(e){return l=e}));var r=i("k6cxq"),o=i("gL7ev"),a={nowSeconds:()=>Date.now()/1e3};var s=(0,o.isNodeEnv)()?function(){try{return(0,o.dynamicRequire)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=(0,r.getGlobalObject)();if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},u=a.nowSeconds.bind(a),l=c.nowSeconds.bind(c);let p;(()=>{const{performance:e}=(0,r.getGlobalObject)();if(e&&e.now){var t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,a=i<t,s=e.timing&&e.timing.navigationStart,c="number"==typeof s?Math.abs(s+n-o):t;return a||c<t?i<=c?(p="timeOrigin",e.timeOrigin):(p="navigationStart",s):(p="dateNow",o)}p="none"})()})),i.register("k6cxq",(function(n,r){t(n.exports,"getGlobalObject",(function(){return s})),t(n.exports,"getGlobalSingleton",(function(){return c}));var o=i("gL7ev"),a={};function s(){return(0,o.isNodeEnv)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:a}function c(e,t,n){var r=n||s(),o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}}));var a,s={},c={},u={},l={};l=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var p,d;d=(Ce=i("l0CXE")).Symbol;var f={},h={},g={},v={},_=Object.prototype,m=_.hasOwnProperty,y=_.toString,b=d?d.toStringTag:void 0;v=function(e){var t=m.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var o=y.call(e);return r&&(t?e[b]=n:delete e[b]),o};var w={},E=Object.prototype.toString;w=function(e){return E.call(e)};var k=d?d.toStringTag:void 0;g=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?v(e):w(e)};var x={};x=function(e){return null!=e&&"object"==typeof e};h=function(e){return x(e)&&"[object Arguments]"==g(e)};var S=Object.prototype,T=S.hasOwnProperty,O=S.propertyIsEnumerable,j=h(function(){return arguments}())?h:function(e){return x(e)&&T.call(e,"callee")&&!O.call(e,"callee")};f=j;var C={},N=Array.isArray;C=N;var R=d?d.isConcatSpreadable:void 0;p=function(e){return C(e)||f(e)||!!(R&&e&&e[R])},u=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=p),i||(i=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):l(i,c):o||(i[i.length]=c)}return i};c=function(e){return(null==e?0:e.length)?u(e,Infinity):[]};var D={},I={},L={},$={},B={};B=function(e){return"symbol"==typeof e||x(e)&&"[object Symbol]"==g(e)};var A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/;$=function(e,t){if(C(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!B(e))||(U.test(e)||!A.test(e)||null!=t&&e in Object(t))};var P,G,M={},Y={},q={},F={},H={},z={},W={},V={},X={};X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};V=function(e){if(!X(e))return!1;var t=g(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var K,J,Z={},Q=(Ce=i("l0CXE"))["__core-js_shared__"],ee=(J=/[^.]+$/.exec((K=Q)&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"";Z=function(e){return!!ee&&ee in e};var te={},ne=Function.prototype.toString;te=function(e){if(null!=e){try{return ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var re=/^\[object .+?Constructor\]$/,oe=Function.prototype,ie=Object.prototype,ae=oe.toString,se=ie.hasOwnProperty,ce=RegExp("^"+ae.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");W=function(e){return!(!X(e)||Z(e))&&(V(e)?ce:re).test(te(e))};var ue={};ue=function(e,t){return null==e?void 0:e[t]};var le=(z=function(e,t){var n=ue(e,t);return W(n)?n:void 0})(Object,"create");H=le,G=function(){this.__data__=H?H(null):{},this.size=0};var pe;pe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var de,fe=Object.prototype.hasOwnProperty;de=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return fe.call(t,e)?t[e]:void 0};var he,ge=Object.prototype.hasOwnProperty;he=function(e){var t=this.__data__;return H?void 0!==t[e]:ge.call(t,e)};var ve;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ve=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},_e.prototype.clear=G,_e.prototype.delete=pe,_e.prototype.get=de,_e.prototype.has=he,_e.prototype.set=ve,F=_e;var me,ye={};me=function(){this.__data__=[],this.size=0};var be,we={},Ee={};Ee=function(e,t){return e===t||e!=e&&t!=t},we=function(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1};var ke=Array.prototype.splice;be=function(e){var t=this.__data__,n=we(t,e);return!(n<0)&&(n==t.length-1?t.pop():ke.call(t,n,1),--this.size,!0)};var xe;xe=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]};var Se;Se=function(e){return we(this.__data__,e)>-1};var Te;function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Te=function(e,t){var n=this.__data__,r=we(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=me,Oe.prototype.delete=be,Oe.prototype.get=xe,Oe.prototype.has=Se,Oe.prototype.set=Te,ye=Oe;var je={},Ce=i("l0CXE"),Ne=z(Ce,"Map");je=Ne,P=function(){this.size=0,this.__data__={hash:new F,map:new(je||ye),string:new F}};var Re,De={},Ie={};Ie=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},De=function(e,t){var n=e.__data__;return Ie(t)?n["string"==typeof t?"string":"hash"]:n.map},Re=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t};var Le;Le=function(e){return De(this,e).get(e)};var $e;$e=function(e){return De(this,e).has(e)};var Be;function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Be=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ae.prototype.clear=P,Ae.prototype.delete=Re,Ae.prototype.get=Le,Ae.prototype.has=$e,Ae.prototype.set=Be,q=Ae;function Ue(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ue.Cache||q),n}Ue.Cache=q,Y=Ue;var Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ge=/\\(\\)?/g,Me=function(e){var t=Y(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pe,(function(e,n,r,o){t.push(r?o.replace(Ge,"$1"):n||e)})),t}));M=Me;var Ye={},qe={},Fe={};Fe=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var He=d?d.prototype:void 0,ze=He?He.toString:void 0;qe=function e(t){if("string"==typeof t)return t;if(C(t))return Fe(t,e)+"";if(B(t))return ze?ze.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},Ye=function(e){return null==e?"":qe(e)},L=function(e,t){return C(e)?e:$(e,t)?[e]:M(Ye(e))};var We={};We=function(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},I=function(e,t){for(var n=0,r=(t=L(t,e)).length;null!=e&&n<r;)e=e[We(t[n++])];return n&&n==r?e:void 0},D=function(e,t,n){var r=null==e?void 0:I(e,t);return void 0===r?n:r};var Ve,Xe,Ke=Object.prototype.hasOwnProperty;Xe=function(e,t){return null!=e&&Ke.call(e,t)};var Je={},Ze={},Qe=/^(?:0|[1-9]\d*)$/;Ze=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qe.test(e))&&e>-1&&e%1==0&&e<t};var et={};et=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Je=function(e,t,n){for(var r=-1,o=(t=L(t,e)).length,i=!1;++r<o;){var a=We(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&et(o)&&Ze(a,o)&&(C(e)||f(e))},Ve=function(e,t){return null!=e&&Je(e,t,Xe)};var tt={},nt={},rt={};var ot=(rt=function(e,t){return function(n){return e(t(n))}})(Object.getPrototypeOf,Object);nt=ot;var it=Function.prototype,at=Object.prototype,st=it.toString,ct=at.hasOwnProperty,ut=st.call(Object);tt=function(e){if(!x(e)||"[object Object]"!=g(e))return!1;var t=nt(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&st.call(n)==ut};var lt,pt={},dt={},ft=function(){try{var e=z(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();dt=ft,pt=function(e,t,n){"__proto__"==t&&dt?dt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var ht={},gt={};var vt=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();gt=vt;var _t={},mt={},yt={};yt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var bt,wt=i("94frH"),Et={},kt={};kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object Boolean]"]=kt["[object DataView]"]=kt["[object Date]"]=kt["[object Error]"]=kt["[object Function]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object WeakMap]"]=!1,bt=function(e){return x(e)&&et(e.length)&&!!kt[g(e)]};var xt={};xt=function(e){return function(t){return e(t)}};var St=i("f0aqH"),Tt=St&&St.isTypedArray,Ot=Tt?xt(Tt):bt;Et=Ot;var jt=Object.prototype.hasOwnProperty;mt=function(e,t){var n=C(e),r=!n&&f(e),o=!n&&!r&&wt(e),i=!n&&!r&&!o&&Et(e),a=n||r||o||i,s=a?yt(e.length,String):[],c=s.length;for(var u in e)!t&&!jt.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ze(u,c))||s.push(u);return s};var Ct={},Nt={},Rt=Object.prototype;Nt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Rt)};var Dt={},It=rt(Object.keys,Object);Dt=It;var Lt=Object.prototype.hasOwnProperty;Ct=function(e){if(!Nt(e))return Dt(e);var t=[];for(var n in Object(e))Lt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var $t={};$t=function(e){return null!=e&&et(e.length)&&!V(e)},_t=function(e){return $t(e)?mt(e):Ct(e)},ht=function(e,t){return e&&gt(e,t,_t)};var Bt,At={},Ut={},Pt={},Gt={};Bt=function(){this.__data__=new ye,this.size=0};var Mt;Mt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Yt;Yt=function(e){return this.__data__.get(e)};var qt;qt=function(e){return this.__data__.has(e)};var Ft;function Ht(e){var t=this.__data__=new ye(e);this.size=t.size}Ft=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!je||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new q(r)}return n.set(e,t),this.size=n.size,this},Ht.prototype.clear=Bt,Ht.prototype.delete=Mt,Ht.prototype.get=Yt,Ht.prototype.has=qt,Ht.prototype.set=Ft,Gt=Ht;var zt,Wt={},Vt={},Xt={},Kt={};zt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Jt;function Zt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new q;++t<n;)this.add(e[t])}Jt=function(e){return this.__data__.has(e)},Zt.prototype.add=Zt.prototype.push=zt,Zt.prototype.has=Jt,Kt=Zt;var Qt={};Qt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var en={};en=function(e,t){return e.has(t)};Xt=function(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var p=-1,d=!0,f=2&n?new Kt:void 0;for(i.set(e,t),i.set(t,e);++p<s;){var h=e[p],g=t[p];if(r)var v=a?r(g,h,p,t,e,i):r(h,g,p,e,t,i);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!Qt(t,(function(e,t){if(!en(f,t)&&(h===e||o(h,e,n,r,i)))return f.push(t)}))){d=!1;break}}else if(h!==g&&!o(h,g,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d};var tn={},nn={},rn=(Ce=i("l0CXE")).Uint8Array;nn=rn;var on;on=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var an;an=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var sn=d?d.prototype:void 0,cn=sn?sn.valueOf:void 0;tn=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new nn(e),new nn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=on;case"[object Set]":var c=1&r;if(s||(s=an),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=Xt(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(cn)return cn.call(e)==cn.call(t)}return!1};var un={},ln={},pn={};pn=function(e,t,n){var r=t(e);return C(e)?r:l(r,n(e))};var dn,fn={};fn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var hn;hn=function(){return[]};var gn=Object.prototype.propertyIsEnumerable,vn=Object.getOwnPropertySymbols;dn=vn?function(e){return null==e?[]:(e=Object(e),fn(vn(e),(function(t){return gn.call(e,t)})))}:hn,ln=function(e){return pn(e,_t,dn)};var _n=Object.prototype.hasOwnProperty;un=function(e,t,n,r,o,i){var a=1&n,s=ln(e),c=s.length;if(c!=ln(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:_n.call(t,l)))return!1}var p=i.get(e),d=i.get(t);if(p&&d)return p==t&&d==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<c;){var g=e[l=s[u]],v=t[l];if(r)var _=a?r(v,g,l,t,e,i):r(g,v,l,e,t,i);if(!(void 0===_?g===v||o(g,v,n,r,i):_)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var m=e.constructor,y=t.constructor;m==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f};var mn={},yn={};Ce=i("l0CXE");yn=z(Ce,"DataView");var bn={};Ce=i("l0CXE");bn=z(Ce,"Promise");var wn={};Ce=i("l0CXE");wn=z(Ce,"Set");var En={};Ce=i("l0CXE");En=z(Ce,"WeakMap");var kn=te(yn),xn=te(je),Sn=te(bn),Tn=te(wn),On=te(En),jn=g;(yn&&"[object DataView]"!=jn(new yn(new ArrayBuffer(1)))||je&&"[object Map]"!=jn(new je)||bn&&"[object Promise]"!=jn(bn.resolve())||wn&&"[object Set]"!=jn(new wn)||En&&"[object WeakMap]"!=jn(new En))&&(jn=function(e){var t=g(e),n="[object Object]"==t?e.constructor:void 0,r=n?te(n):"";if(r)switch(r){case kn:return"[object DataView]";case xn:return"[object Map]";case Sn:return"[object Promise]";case Tn:return"[object Set]";case On:return"[object WeakMap]"}return t}),mn=jn;wt=i("94frH");var Cn=Object.prototype.hasOwnProperty;Vt=function(e,t,n,r,o,i){var a=C(e),s=C(t),c=a?"[object Array]":mn(e),u=s?"[object Array]":mn(t),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=c==u;if(d&&wt(e)){if(!wt(t))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new Gt),a||Et(e)?Xt(e,t,n,r,o,i):tn(e,t,c,n,r,o,i);if(!(1&n)){var f=l&&Cn.call(e,"__wrapped__"),h=p&&Cn.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new Gt),o(g,v,n,r,i)}}return!!d&&(i||(i=new Gt),un(e,t,n,r,o,i))},Wt=function e(t,n,r,o,i){return t===n||(null==t||null==n||!x(t)&&!x(n)?t!=t&&n!=n:Vt(t,n,r,o,e,i))};Pt=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var p=new Gt;if(r)var d=r(u,l,c,e,t,p);if(!(void 0===d?Wt(l,u,3,r,p):d))return!1}}return!0};var Nn={},Rn={};Rn=function(e){return e==e&&!X(e)},Nn=function(e){for(var t=_t(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Rn(o)]}return t};var Dn={};Dn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},Ut=function(e){var t=Nn(e);return 1==t.length&&t[0][2]?Dn(t[0][0],t[0][1]):function(n){return n===e||Pt(n,e,t)}};var In,Ln={},$n={};In=function(e,t){return null!=e&&t in Object(e)},$n=function(e,t){return null!=e&&Je(e,t,In)};Ln=function(e,t){return $(e)&&Rn(t)?Dn(We(e),t):function(n){var r=D(n,e);return void 0===r&&r===t?$n(n,e):Wt(t,r,3)}};var Bn;Bn=function(e){return e};var An={},Un={};Un=function(e){return function(t){return null==t?void 0:t[e]}};var Pn={};Pn=function(e){return function(t){return I(t,e)}},An=function(e){return $(e)?Un(We(e)):Pn(e)},At=function(e){return"function"==typeof e?e:null==e?Bn:"object"==typeof e?C(e)?Ln(e[0],e[1]):Ut(e):An(e)},lt=function(e,t){var n={};return t=At(t,3),ht(e,(function(e,r,o){pt(n,r,t(e,r,o))})),n};var Gn={},Mn={},Yn={};Yn=function(e,t,n){(void 0!==n&&!Ee(e[t],n)||void 0===n&&!(t in e))&&pt(e,t,n)};var qn={},Fn=i("bEVqM"),Hn={},zn={};zn=function(e){var t=new e.constructor(e.byteLength);return new nn(t).set(new nn(e)),t},Hn=function(e,t){var n=t?zn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Wn={};Wn=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Vn={},Xn={},Kn=Object.create,Jn=function(){function e(){}return function(t){if(!X(t))return{};if(Kn)return Kn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();Xn=Jn,Vn=function(e){return"function"!=typeof e.constructor||Nt(e)?{}:Xn(nt(e))};var Zn={};Zn=function(e){return x(e)&&$t(e)};wt=i("94frH");var Qn={};Qn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var er={},tr={},nr={},rr=Object.prototype.hasOwnProperty;nr=function(e,t,n){var r=e[t];rr.call(e,t)&&Ee(r,n)&&(void 0!==n||t in e)||pt(e,t,n)},tr=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?pt(n,s,c):nr(n,s,c)}return n};var or={},ir={},ar={};ar=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var sr=Object.prototype.hasOwnProperty;ir=function(e){if(!X(e))return ar(e);var t=Nt(e),n=[];for(var r in e)("constructor"!=r||!t&&sr.call(e,r))&&n.push(r);return n},or=function(e){return $t(e)?mt(e,!0):ir(e)},er=function(e){return tr(e,or(e))},qn=function(e,t,n,r,o,i,a){var s=Qn(e,n),c=Qn(t,n),u=a.get(c);if(u)Yn(e,n,u);else{var l=i?i(s,c,n+"",e,t,a):void 0,p=void 0===l;if(p){var d=C(c),h=!d&&wt(c),g=!d&&!h&&Et(c);l=c,d||h||g?C(s)?l=s:Zn(s)?l=Wn(s):h?(p=!1,l=Fn(c,!0)):g?(p=!1,l=Hn(c,!0)):l=[]:tt(c)||f(c)?(l=s,f(s)?l=er(s):X(s)&&!V(s)||(l=Vn(c))):p=!1}p&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),Yn(e,n,l)}},Mn=function e(t,n,r,o,i){t!==n&&gt(n,(function(a,s){if(i||(i=new Gt),X(a))qn(t,n,s,r,e,o,i);else{var c=o?o(Qn(t,s),a,s+"",t,n,i):void 0;void 0===c&&(c=a),Yn(t,s,c)}}),or)};var cr={},ur={},lr={};lr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var pr=Math.max;ur=function(e,t,n){return t=pr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=pr(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),lr(e,this,s)}};var dr,fr={},hr={};hr=function(e){return function(){return e}},dr=dt?function(e,t){return dt(e,"toString",{configurable:!0,enumerable:!1,value:hr(t),writable:!0})}:Bn;var gr=Date.now;var vr=function(e){var t=0,n=0;return function(){var r=gr(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(dr);fr=vr,cr=function(e,t){return fr(ur(e,t,Bn),e+"")};var _r={};_r=function(e,t,n){if(!X(n))return!1;var r=typeof t;return!!("number"==r?$t(n)&&Ze(t,n.length):"string"==r&&t in n)&&Ee(n[t],e)};var mr=function(e){return cr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&_r(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}((function(e,t,n){Mn(e,t,n)}));Gn=mr;var yr={},br={},wr={},Er={};Er=function(e,t,n,r){if(!X(e))return e;for(var o=-1,i=(t=L(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var c=We(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=X(l)?l:Ze(t[o+1])?[]:{})}nr(s,c,u),s=s[c]}return e},wr=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=I(e,a);n(s,a)&&Er(i,L(a,e),s)}return i},br=function(e,t){return wr(e,t,(function(t,n){return $n(e,n)}))};var kr;kr=function(e){return(null==e?0:e.length)?u(e,1):[]};var xr=function(e){return fr(ur(e,void 0,kr),e+"")}((function(e,t){return null==e?{}:br(e,t)}));yr=xr;var Sr;Sr=function(e,t,n){return null==e?e:Er(e,t,n)};var Tr={},Or={};Or=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},Tr=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Or(e,t,n)};var jr={},Cr=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");jr=function(e){return Cr.test(e)};var Nr={},Rr={};Rr=function(e){return e.split("")};var Dr={},Ir="[\ud800-\udfff]",Lr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$r="[^\ud800-\udfff]",Br="(?:\ud83c[\udde6-\uddff]){2}",Ar="[\ud800-\udbff][\udc00-\udfff]",Ur="(?:"+Lr+"|\ud83c[\udffb-\udfff])"+"?",Pr="[\\ufe0e\\ufe0f]?"+Ur+("(?:\\u200d(?:"+[$r,Br,Ar].join("|")+")[\\ufe0e\\ufe0f]?"+Ur+")*"),Gr="(?:"+[$r+Lr+"?",Lr,Br,Ar,Ir].join("|")+")",Mr=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Gr+Pr,"g");Dr=function(e){return e.match(Mr)||[]},Nr=function(e){return jr(e)?Dr(e):Rr(e)};var Yr=function(e){return function(t){t=Ye(t);var n=jr(t)?Nr(t):void 0,r=n?n[0]:t.charAt(0),o=n?Tr(n,1).join(""):t.slice(1);return r[e]()+o}}("toUpperCase");const qr=(e,t)=>Object.values(yr(e,t));s={get:D,has:Ve,isPlainFunction:e=>V(e)&&!(e.prototype&&e.prototype.constructor===e),isPlainObject:tt,override:(e,t={})=>Gn(e,yr(t,Object.keys(e))),mapValues:lt,merge:Gn,mergeConfig:(e,t)=>Gn({},...c(qr(e,t))),set:Sr,upperFirst:Yr};var Fr,Hr={};function zr(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Wr(e){return e}function Vr(e,t){const n=(t=t||{}).delimiter||".",r=t.maxDepth,o=t.transformKey||Wr,i={};return function e(a,s,c){c=c||1,Object.keys(a).forEach((function(u){const l=a[u],p=t.safe&&Array.isArray(l),d=Object.prototype.toString.call(l),f=zr(l),h="[object Object]"===d||"[object Array]"===d,g=s?s+n+o(u):o(u);if(!p&&!f&&h&&Object.keys(l).length&&(!t.maxDepth||c<r))return e(l,g,c+1);i[g]=l}))}(e),i}Hr=Vr,Vr.flatten=Vr,Vr.unflatten=function e(t,n){const r=(n=n||{}).delimiter||".",o=n.overwrite||!1,i=n.transformKey||Wr,a={};if(zr(t)||"[object Object]"!==Object.prototype.toString.call(t))return t;function s(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||n.object?e:t}return t=Object.keys(t).reduce((function(e,o){const i=Object.prototype.toString.call(t[o]);return!("[object Object]"===i||"[object Array]"===i)||function(e){const t=Object.prototype.toString.call(e),n="[object Array]"===t,r="[object Object]"===t;if(!e)return!0;if(n)return!e.length;if(r)return!Object.keys(e).length}(t[o])?(e[o]=t[o],e):(a=o,s=e,c=Vr(t[o],n),Object.keys(c).reduce((function(e,t){return e[a+r+t]=c[t],e}),s));var a,s,c}),{}),Object.keys(t).forEach((function(c){const u=c.split(r).map(i);let l=s(u.shift()),p=s(u[0]),d=a;for(;void 0!==p;){if("__proto__"===l)return;const e=Object.prototype.toString.call(d[l]),t="[object Object]"===e||"[object Array]"===e;if(!o&&!t&&void 0!==d[l])return;(o&&!t||!o&&null==d[l])&&(d[l]="number"!=typeof p||n.object?{}:[]),d=d[l],u.length>0&&(l=s(u.shift()),p=s(u[0]))}d[l]=e(t[c],n)})),a},Fr=(e,t)=>{const n=Object.keys(t),r=Object.entries(t).flatMap((([t,n])=>{const r=t.split(".").pop(),o=Object.keys(Hr({[r]:s.get(e,t)}));return["",`const ${r} = { ...modules.${t} };`,`const ${r}Dependencies = { ${[r,...n].join(", ")} };`,...o.map((e=>`${e} = ${e}({ ...${r}Dependencies });`))]})).concat("",`return { ${["...modules",...n.map((e=>e.split(".").pop()))].join(", ")} };`,"");return[`(modules, { ${Array.from(new Set(Object.values(t).flat())).filter((t=>!e[t])).join(", ")} }) => {`,`${r.map((e=>" ".repeat(e?4:0)+e)).join("\n")}`,"};"].join("\n")};var Xr;Xr=(e,t={})=>{const{omit:n=[]}=t;return["graph TD;",...Object.entries(e).flatMap((e=>e[1].map((t=>[e[0],t])))).filter((e=>!e.some((e=>n.includes(e))))).map((e=>`    ${e.join("--\x3e")};`))].join("\n")},a=(e,t={})=>{const n={stats:!0,configKeys:["defaultConfig","config","configs"],customiserFunction:"setup",customiser:e=>e[o.customiserFunction]?e[o.customiserFunction]():e};let r=!1;const o=s.merge({},n,t),i=s.mergeConfig(o,o.configKeys),a={defaultOptions:n,userOptions:t,options:o,config:i,target:e,modules:{...e},dependencies:s.mapValues(e,(()=>[])),composedDependencies:{},stats:{totalDuration:0,modules:{}},mermaid:e=>Xr(a.dependencies,e),eject:()=>Fr(e,a.composedDependencies)},c=(e,t,[n,...r])=>{if(!s.isPlainObject(e))return e;const o={},i={...n};s.set(i,t,o);const a=[i,...r],u=s.mapValues(e,((e,t)=>s.isPlainFunction(e)?e(...a):c(e,t,a)));return Object.assign(o,u)},u=(t,n={},...i)=>{if(r)throw new Error("Composition has ended");if(!t)throw new Error("key is required");if(!s.has(e,t))throw new Error(`${t} not found`);if(a.composedDependencies[t])throw new Error(`${t} already composed`);const u={...o.defaults,...n},l=o.customiser(c(s.get(e,t),t,[u,...i])??{});return s.set(a.modules,t,s.override({[t]:l},o.overrides)[t]),a.dependencies[t]=a.composedDependencies[t]=Object.keys(u),a.modules},l=o.stats?(e,t={},...n)=>{const r=performance.now(),o=u(e,t,...n),i=performance.now()-r;return s.set(a.stats.modules,[e,"duration"],i),a.stats.totalDuration+=i,o}:u;return Object.assign(l,a,{end:()=>(r=!0,a)}),{compose:l,config:i}};var Kr={app:({ui:e,components:t,vendorComponents:n,subscriptions:r})=>()=>{const o=Object.values(t.modals).map((e=>e())),i=e.el("div","app").append(n.gtagScript(),e.el("div","modals").append(...o),t.header.container(),t.dropzone().append(e.el("div","control-panel").append(t.imageUploadOptions.container(),t.roleList.container(),t.optionsBar.container()),t.tagList.container()));return r.settings.onChange("app","modal",(t=>{e.toggleBoolClass(i,"modal",t)})),i},dropzone:({elements:e,services:t})=>()=>e.dropzone().addEventListener("drop",(e=>{t.tags.insertFileBatchAsync(e.dataTransfer.files)})),gravatar:{actions:{container:({ui:e,actions:t})=>()=>e.el("div").append(t.importButton(),t.loading(),t.error()),error:({ui:e,services:t,subscriptions:n})=>()=>{const r=e.el("div","error-message"),o=e.el("a","dismiss",{textContent:"Dismiss"}).addEventListener("click",t.gravatar.status.to.ready),i=e.el("div","error").append(r,o);return n.settings.onChange("gravatar","status",(()=>{e.toggleBoolClass(i,"visible",t.gravatar.status.is.error())})),n.settings.onChange("gravatar","errorMessage",(e=>{r.textContent=e})),i},importButton:({ui:e,services:t,subscriptions:n})=>()=>{const r=e.el("button","import",{textContent:"Import"}).addEventListener("click",(()=>{const{emails:e,fallback:n}=t.settings.getGravatar();t.tags.insertGravatarBatchAsync(e,n)}));return n.settings.onChange("gravatar","status",(()=>{e.toggleBoolClass(r,"visible",t.gravatar.status.is.ready())})),n.settings.onChange("gravatar","freetext",(e=>{r.disabled=!e.trim()})),r},loading:({ui:e,services:t,subscriptions:n})=>()=>{const r=e.el("div","loading-indicator lds-dual-ring");return n.settings.onChange("gravatar","status",(()=>{e.toggleBoolClass(r,"visible",t.gravatar.status.is.working())})),r}},content:{container:({ui:e,content:t})=>()=>e.el("div","gravatar").append(t.freetext(),t.fallbacks()),fallback:({ui:e,services:t,subscriptions:n})=>r=>{const o=e.el("img","fallback",{title:r,src:`img/gravatar-fallbacks/${r}.png`}).addEventListener("click",(()=>{t.gravatar.changeFallback(r)}));return n.settings.onChange("gravatar","fallback",(t=>{e.toggleBoolClass(o,"selected",r===t)})),o},fallbacks:({ui:e,content:t,elements:n,config:r})=>()=>{const o=r.gravatar.fallbacks.map(t.fallback),i=e.el("div").append(...o);return n.label("Select a generated image style to use in case profile image is not found.",i)},freetext:({ui:e,services:t,subscriptions:n,elements:r})=>()=>{const o=e.el("textarea","freetext").addEventListener("input",(()=>{t.gravatar.changeFreetext(o.value)}));n.settings.onChange("gravatar","freetext",(e=>{o.value=e})),n.settings.onChange("gravatar","status",(()=>{o.disabled=t.gravatar.status.is.working()}));return r.label("Email addresses:",o)}},title:({ui:e})=>()=>{const t=e.el("span","gravatar-title",{textContent:"Import images from Gravatar"}),n=e.el("a","about-gravatar",{text:"What is Gravatar?",href:"https://en.gravatar.com/support/what-is-gravatar/",target:"_blank"});return e.el("div").append(t,n)}},header:{container:({ui:e,header:t})=>()=>e.el("header").append(t.titleBar()),titleBar:({services:e,ui:t,config:n})=>()=>{const r=t.el("a","tips",{textContent:"Tips & tricks"}).addEventListener("click",(()=>{e.settings.changeModal("tips")})),o=t.el("a",{textContent:"Send feedback",target:"_blank",href:n.app.issues}),i=t.el("a",{textContent:"Source code",target:"_blank",href:n.app.source}),a=t.el("dev-bar").append(r,o,i);return a.setAttribute("app-name",n.app.name),a}},imageUploadOptions:{chooseImages:({ui:e,services:t})=>()=>{const n=e.el("input",{type:"file",multiple:!0,accept:"image/*"}).addEventListener("change",(e=>{t.tags.insertFileBatchAsync(e.target.files)})),r=e.el("a",{textContent:"Choose images"}).addEventListener("click",(e=>{e.preventDefault(),n.click(),e.fileInput=n}));return e.el("span").append(r)},container:({ui:e,imageUploadOptions:t})=>()=>e.el("div","image-upload-options").append(e.el("span",{textContent:"Drag & drop images"}),t.chooseImages(),t.gravatar()),gravatar:({ui:e,services:t,vendorServices:n})=>()=>e.el("a",{textContent:"Import images from Gravatar"}).addEventListener("click",(()=>{n.gtag("event","gravatar-clicked"),t.settings.changeModal("gravatar")}))},modal:({elements:e,services:t,subscriptions:n})=>({name:r,title:o,content:i,actions:a})=>e.modal({title:o,content:i,actions:a,onVisibilityChange:e=>{n.settings.onChange("app","modal",(t=>{e(t===r)}))}}).addEventListener("dismiss",t.settings.clearModal),modals:{gravatar:({components:e})=>()=>e.modal({name:"gravatar",title:e.gravatar.title(),content:e.gravatar.content.container(),actions:e.gravatar.actions.container()}),tips:({ui:e,components:t})=>()=>{const{roleShortcut:n,naming:r,images:o,laminating:i,multiples:a,badges:s}=t.tips,c=[n,r,o,i,a,s],u=e.el("div","tips");return c.forEach((t=>{const n=t();n.className="tip";const r=e.el("div","heading",{textContent:n.title});n.prepend(r),u.append(n)})),t.modal({name:"tips",content:u,title:"Tips & tricks"})},welcome:({ui:e,components:t,services:n,config:r})=>()=>{const o=e.el("h1","welcome-title",{textContent:`Welcome to ${r.app.name}`}),i=e.el("img",{src:"img/welcome.png",width:800}),a=e.el("button",{textContent:"Continue"});a.addEventListener("click",n.settings.clearModal);const s=e.el("div","welcome").append(o,i);return t.modal({name:"welcome",content:s,actions:a})}},optionsBar:{container:({components:e,elements:t,subscriptions:n,ui:r,config:o})=>()=>{const i=t.layout({layout:o.options.layout,components:e.optionsBar.options});return i.className="options-bar visible-false",n.tags.onFirstInsert((()=>{r.toggleBoolClass(i,"visible",!0)})),i},numberOption:({elements:e,services:t,subscriptions:n,util:r,config:o})=>i=>{const{min:a,max:s,step:c}=o.options[i],u=e.number({min:a,max:s,step:c}).addEventListener("change",(e=>{t.settings.changeOption(i,parseInt(e.target.value))}));n.settings.onChange("options",i,(e=>{u.value=e}));const l=r.upperFirst(i);return e.label(l,u)},options:{modes:({ui:e,components:t,config:n})=>()=>{const r=n.options.modes.map(t.optionsBar.numberOption);return e.el("span").append(...r)},outline:({ui:e,elements:t,services:n,subscriptions:r})=>()=>{const o=e.el("input",{type:"checkbox"}).addEventListener("change",(()=>{n.settings.changeOption("outline",o.checked)}));return r.settings.onChange("options","outline",(e=>{o.checked=e})),t.label(o,"Show outline")},shapes:({ui:e,components:t,config:n})=>()=>{const r=n.options.shapes.map(t.optionsBar.shapeOption);return e.el("span").append(...r)},size:({components:e})=>()=>e.optionsBar.numberOption("size"),sort:({ui:e,elements:t,services:n,subscriptions:r,config:o})=>()=>{const i=Object.entries(o.options.sort).map((([t,n])=>e.el("option",{value:t,textContent:n}))),a=e.el("select").append(...i).addEventListener("change",(()=>{n.settings.changeOption("sort",a.value)}));return r.settings.onChange("options","sort",(e=>{a.value=e})),t.label("Keep sorted by",a)},spacing:({components:e})=>()=>e.optionsBar.numberOption("spacing")},shapeOption:({ui:e,subscriptions:t,services:n,config:r})=>o=>{const i=e.el("span","shape-option",{title:`Change shape to ${o}`,tabIndex:0}).addEventListener("click",(()=>{n.settings.changeOption("shape",o)})).addEventListener("keydown",(e=>{["Enter","Space"].includes(e.code)&&(i.click(),e.preventDefault())})),a=r.options.shapeRadius[o]||0;return i.style.borderRadius=`${a}%`,t.settings.onChange("options","shape",(t=>{e.toggleBoolClass(i,"selected",o===t)})),i}},roleList:{container:({ui:e,roleList:t,subscriptions:n})=>()=>{const r=e.el("div","role-list visible-false");return n.roles.onInsert((e=>{const n=t.roleCustomiser.container(e);r.append(n)})),n.roles.onFirstInsert((()=>{e.toggleBoolClass(r,"visible",!0)})),r},roleCustomiser:{container:({ui:e,roleCustomiser:t,services:n})=>r=>{const o=t.masterRoleName(r),i=t.roleColorPicker(r),a=n.roles.isNilRole(r);return e.el("span",`role-customiser role${r}`,{hidden:a}).append(o,i)},masterRoleName:({elements:e,services:t,subscriptions:n})=>r=>{const o=e.editableSpan(`role-name role${r}`).addEventListener("change",(()=>{t.roles.changeRoleName(r,o.textContent)}));return n.roles.onChange(r,"roleName",(e=>{o.textContent=e})),o},roleColorPicker:({ui:e,vendorComponents:t,services:n})=>r=>{const o=n.roles.getRole(r);return t.vanillaPicker({parent:e.el("div","color-picker"),color:o.color,onChange:e=>n.roles.changeRoleColor(r,e.hex)})}}},tagList:{container:({ui:e,tagList:t,services:n,subscriptions:r,util:o,config:i})=>()=>{const a=new Map,s=e.el("div","tag-list");r.tagInstances.onInsert((e=>{const n=t.tag.container(e);a.set(e,n),s.append(n),u()})),r.tagInstances.onBeforeRemove((e=>{a.get(e).remove(),a.delete(e)}));const c=()=>{e.refocus((()=>{n.tags.sortTagInstances().forEach((e=>{s.append(a.get(e.id))}))}))},u=o.debounce(c,i.debounce.sortTagList);return r.settings.onChange("options","sort",c),r.tagInstances.onChangeAny("tagName",u),r.tagInstances.onChangeAny("roleName",u),s},tag:{components:{roleName:({elements:e,services:t,subscriptions:n})=>r=>{const o=e.editableSpan("role-name").addEventListener("change",(()=>{t.tags.changeTagRole(r,o.textContent)}));return n.tagInstances.onChange(r,"roleName",(e=>{o.textContent=e})),o},tagImage:({ui:e})=>()=>e.el("div","tag-image"),tagName:({elements:e,services:t,subscriptions:n})=>r=>{const o=e.editableSpan("tag-name").addEventListener("change",(()=>{t.tags.changeTagName(r,o.textContent)}));return n.tagInstances.onChange(r,"tagName",(e=>{o.textContent=e})),o}},container:({ui:e,tag:t,elements:n,services:r,subscriptions:o,config:i})=>a=>{const s=n.layout({layout:i.tags.layout,components:t.components,componentArgs:[a]}),c=e.el("div").append(s);return o.tagInstances.onChange(a,"roleId",((e,{tagId:t,mode:n})=>{const o=r.roles.isNilRole(e);c.className=`tag tag${t} role${e} nil-role-${o} ${n}`})),c}}},tips:{badges:({ui:e})=>()=>e.el("div",{title:"Blocked and other badges",innerHTML:"\n            <p>Create blocked and other badges in the same way as avatars.</p>\n            <img src='img/tips/blocked-risk.png' />\n        "}),images:({ui:e})=>()=>e.el("div",{title:"Images",innerHTML:"\n            <p>\n                Have you ever joined a new team and struggled to remember everyone's names?\n                You're not alone! Profile <mark>photos are the most effective</mark> way to identify people.\n                Cartoon characters may be cute, but unless your team never changes, they're unhelpful.\n            </p>            \n            <p>            \n                For a better looking result, <mark>make sure your images are square</mark> in shape.\n            </p>"}),laminating:({ui:e})=>()=>e.el("div",{title:"Laminating",innerHTML:"\n            <p>\n                For a more durable result, <mark>cut out the tags before your laminate them</mark>.\n                Keeping a small lip around the edges helps maintain adhesion.\n            </p>"}),multiples:({ui:e})=>()=>e.el("div","multiples",{title:"Multiples",innerHTML:'\n            <p>\n                Only needing a single avatar per team member may be a sign that user stories are well defined,\n                and that team members can take stories to completion without context switching.\n                It also makes it easier to gauge who is focused on what and can serve as a natural WIP limit for the\n                team.\n                See <a target="_blank" href="https://en.wikipedia.org/wiki/INVEST_(mnemonic)">INVEST</a> for\n                characteristics of good quality user stories.\n            </p>\n\n            <p>\n                If multiples are really needed, consider one <mark>active</mark>, and one or more <mark>passive</mark>\n                avatars for each team member.\n                The active avatar indicates what a team member is focused on, while\n                the passive avatar may be used to indicate the team member is across an activity which has\n                become blocked, dependent on another team, or otherwise only requires ad hoc attention.\n            </p>\n            \n            <img src=\'img/tips/active-passive.png\' />\n        '}),naming:({ui:e})=>()=>e.el("div",{title:"Naming",innerHTML:"\n            <p>\n                Prefer <mark>short names</mark> and <mark>abbreviated roles</mark>. \n                Less is more. Use just enough detail to identify people at a glance.\n                Avoid full names and position titles if possible.\n            </p>"}),roleShortcut:({ui:e})=>()=>e.el("div",{title:"Role shortcut",innerHTML:"\n            <p>Roles can be set quickly by appending <mark>+role</mark> to a name. This applies to:</p>\n\n            <ul>\n                <li>File names, e.g. matt+dev.jpg</li>\n                <li>Directly on the name field of each tag, e.g. matt+dev</li>\n                <li>Gravatar emails, e.g. matt@fakemail.com+dev</li>\n            </ul>\n        "})}},Jr={};!function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,o,i,a){return t((s=t(t(n,e),t(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function r(e,t,r,o,i,a,s){return n(t&r|~t&o,e,t,i,a,s)}function o(e,t,r,o,i,a,s){return n(t&o|r&~o,e,t,i,a,s)}function i(e,t,r,o,i,a,s){return n(t^r^o,e,t,i,a,s)}function a(e,t,r,o,i,a,s){return n(r^(t|~o),e,t,i,a,s)}function s(e,n){var s,c,u,l,p;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var d=1732584193,f=-271733879,h=-1732584194,g=271733878;for(s=0;s<e.length;s+=16)c=d,u=f,l=h,p=g,d=r(d,f,h,g,e[s],7,-680876936),g=r(g,d,f,h,e[s+1],12,-389564586),h=r(h,g,d,f,e[s+2],17,606105819),f=r(f,h,g,d,e[s+3],22,-1044525330),d=r(d,f,h,g,e[s+4],7,-176418897),g=r(g,d,f,h,e[s+5],12,1200080426),h=r(h,g,d,f,e[s+6],17,-1473231341),f=r(f,h,g,d,e[s+7],22,-45705983),d=r(d,f,h,g,e[s+8],7,1770035416),g=r(g,d,f,h,e[s+9],12,-1958414417),h=r(h,g,d,f,e[s+10],17,-42063),f=r(f,h,g,d,e[s+11],22,-1990404162),d=r(d,f,h,g,e[s+12],7,1804603682),g=r(g,d,f,h,e[s+13],12,-40341101),h=r(h,g,d,f,e[s+14],17,-1502002290),d=o(d,f=r(f,h,g,d,e[s+15],22,1236535329),h,g,e[s+1],5,-165796510),g=o(g,d,f,h,e[s+6],9,-1069501632),h=o(h,g,d,f,e[s+11],14,643717713),f=o(f,h,g,d,e[s],20,-373897302),d=o(d,f,h,g,e[s+5],5,-701558691),g=o(g,d,f,h,e[s+10],9,38016083),h=o(h,g,d,f,e[s+15],14,-660478335),f=o(f,h,g,d,e[s+4],20,-405537848),d=o(d,f,h,g,e[s+9],5,568446438),g=o(g,d,f,h,e[s+14],9,-1019803690),h=o(h,g,d,f,e[s+3],14,-187363961),f=o(f,h,g,d,e[s+8],20,1163531501),d=o(d,f,h,g,e[s+13],5,-1444681467),g=o(g,d,f,h,e[s+2],9,-51403784),h=o(h,g,d,f,e[s+7],14,1735328473),d=i(d,f=o(f,h,g,d,e[s+12],20,-1926607734),h,g,e[s+5],4,-378558),g=i(g,d,f,h,e[s+8],11,-2022574463),h=i(h,g,d,f,e[s+11],16,1839030562),f=i(f,h,g,d,e[s+14],23,-35309556),d=i(d,f,h,g,e[s+1],4,-1530992060),g=i(g,d,f,h,e[s+4],11,1272893353),h=i(h,g,d,f,e[s+7],16,-155497632),f=i(f,h,g,d,e[s+10],23,-1094730640),d=i(d,f,h,g,e[s+13],4,681279174),g=i(g,d,f,h,e[s],11,-358537222),h=i(h,g,d,f,e[s+3],16,-722521979),f=i(f,h,g,d,e[s+6],23,76029189),d=i(d,f,h,g,e[s+9],4,-640364487),g=i(g,d,f,h,e[s+12],11,-421815835),h=i(h,g,d,f,e[s+15],16,530742520),d=a(d,f=i(f,h,g,d,e[s+2],23,-995338651),h,g,e[s],6,-198630844),g=a(g,d,f,h,e[s+7],10,1126891415),h=a(h,g,d,f,e[s+14],15,-1416354905),f=a(f,h,g,d,e[s+5],21,-57434055),d=a(d,f,h,g,e[s+12],6,1700485571),g=a(g,d,f,h,e[s+3],10,-1894986606),h=a(h,g,d,f,e[s+10],15,-1051523),f=a(f,h,g,d,e[s+1],21,-2054922799),d=a(d,f,h,g,e[s+8],6,1873313359),g=a(g,d,f,h,e[s+15],10,-30611744),h=a(h,g,d,f,e[s+6],15,-1560198380),f=a(f,h,g,d,e[s+13],21,1309151649),d=a(d,f,h,g,e[s+4],6,-145523070),g=a(g,d,f,h,e[s+11],10,-1120210379),h=a(h,g,d,f,e[s+2],15,718787259),f=a(f,h,g,d,e[s+9],21,-343485551),d=t(d,c),f=t(f,u),h=t(h,l),g=t(g,p);return[d,f,h,g]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function p(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return c(s(u(e),8*e.length))}(p(e))}function f(e,t){return function(e,t){var n,r,o=u(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=s(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=s(i.concat(u(t)),512+8*t.length),c(s(a.concat(r),640))}(p(e),p(t))}function h(e,t,n){return t?n?f(t,e):l(f(t,e)):n?d(e):l(d(e))}"function"==typeof define&&define.amd?define((function(){return h})):Jr?Jr=h:e.md5=h}(Jr);const Zr=({tag:e,mode:t,count:n})=>{const r=n-e[t].length;return r?r>0?{insert:Array(r).fill({tagId:e.id,mode:t})}:{remove:e[t].slice(r)}:{}};var Qr={gravatar:{buildImageUrl:({core:e,config:t})=>(n,r)=>{const{domain:o,size:i}=t.gravatar;return`${o}/avatar/${e.gravatar.hashEmail(n)}?r=g&s=${i}&d=${r}`},buildProfileUrl:({config:e,core:t})=>n=>{const{domain:r}=e.gravatar;return`${r}/${t.gravatar.hashEmail(n)}.json`},getNameFromProfile:()=>(e,t)=>e.name?.givenName||e.displayName||t,hashEmail:()=>e=>n(Jr)(e.trim().toLowerCase())},roles:{assignColor:({core:e,config:t})=>n=>r=>{const o=t.roles.presetColors[r.roleName],i=e.roles.randomColor(n),a=o||r.color||i;return{...r,color:a}},buildRole:({core:e,util:t})=>(n,r)=>t.pipe((e=>{const t=(e.roleName||"").trim().toUpperCase();return{...e,roleName:t}}),e.roles.assignColor(r))(n),randomColor:()=>e=>"#"+("00000"+(16777216*e|0).toString(16)).slice(-6)},tags:{buildTag:({util:e})=>t=>{const n=e.upperFirst((t.tagName||"").trim());return{...t,tagName:n,instances:[],active:[],passive:[]}},parseEmailExpression:({util:e})=>t=>{const n=t.indexOf("@"),r=n>-1,[o]=(r?t.substr(0,n):t).split("+"),i=t.lastIndexOf("+"),a=i>n,[s,c]=a?e.splitAt(t,i,1):[t];return{email:r?s:"",username:o,emailOrUsername:s,roleName:c}},parseFileExpression:()=>e=>{const[t,n]=e.split("/").pop().match(/^(\d+)?(.+)/)[2].split(".")[0].split("+").map((e=>e.trim()));return{tagName:t,roleName:n}},parseTagExpression:()=>e=>{const[t,n]=e.split("+").map((e=>e.trim()));return{tagName:t,roleName:n}},planTagInstanceAdjustment:()=>(e,t)=>e.flatMap((e=>Object.entries(t).flatMap((([t,n])=>Zr({tag:e,mode:t,count:n}))))),sortTagInstancesByTagThenMode:({config:e})=>(t,n)=>t.flatMap((t=>e.options.modes.flatMap((e=>t[e].map((e=>n(e))))))),sortTagsByName:()=>e=>e.sort(((e,t)=>e.tagName.localeCompare(t.tagName))),sortTagsByRoleThenName:()=>(e,t)=>e.sort(((e,n)=>{const{roleName:r}=t(e.roleId),{roleName:o}=t(n.roleId),i=r.localeCompare(o),a=e.tagName.localeCompare(n.tagName);return i||a}))}},eo={dumpState:({stores:e,util:t})=>()=>t.mapValues(e,(e=>e.list()))},to={dropzone:({ui:e})=>()=>{const t=e=>e.preventDefault();return e.el("div","dropzone").addEventListener("dragenter",t).addEventListener("dragover",t).addEventListener("drop",t)},editableSpan:({ui:e})=>t=>{const n=()=>r.dispatchEvent(e.event("change")),r=e.el("span",t).addEventListener("blur",(()=>{n()})).addEventListener("keydown",(e=>{"Enter"===e.code&&(e.preventDefault(),n())}));return r.setAttribute("contenteditable",!0),r},label:({ui:e})=>(...t)=>{const n=t.map((t=>"string"==typeof t?e.el("span","label",{innerHTML:t}):t));return e.el("label").append(...n)},layout:({ui:e})=>({layout:t,components:n,componentArgs:r=[]})=>{const o=t.split("|").map((e=>e.trim().split(" "))).map((t=>{const o=t.map((e=>n[e](...r)));return e.el("span","group").append(...o)}));return e.el("div","layout").append(...o)},modal:({ui:e})=>(t={})=>{const n={visible:!1,onVisibilityChange:()=>{}},{title:r,content:o,actions:i,visible:a,onVisibilityChange:s}={...n,...t},c=()=>{h.dispatchEvent(e.event("dismiss"))},u=e.el("span","dismiss").addEventListener("click",c),l=e.el("div","modal-title").append(r,u);e.toggleBoolClass(l,"visible",Boolean(r));const p=e.el("div","modal-content").append(o),d=e.el("div","modal-actions").append(i);e.toggleBoolClass(d,"visible",Boolean(i));const f=e.el("div","modal-prompt").append(l,p,d).addEventListener("click",(e=>e.stopPropagation())),h=e.el("div","modal-overlay").append(f).addEventListener("click",c),g=t=>{e.toggleBoolClass(h,"visible",t)};return g(a),s(g,h),h},number:({ui:e,util:t})=>({min:n,max:r,step:o})=>{const i=()=>parseInt(c.value),a=t.pipe((e=>isNaN(e)?n:e),(e=>e<n?n:e),(e=>e>r?r:e)),s=()=>{const t=i();t===a(t)&&c.dispatchEvent(e.event("change"))},c=e.el("input",{type:"number",min:n,max:r,step:o}).addEventListener("input",s).addEventListener("blur",(()=>{c.value=a(i()),s()}));return c}},no={setup:({window:e})=>()=>({date:()=>new e.Date,fetch:(...t)=>e.fetch(...t),random:()=>e.Math.random(),fileReader:()=>new e.FileReader})};const ro={ready:"ready",working:"working",error:"error"};var oo,io={gravatar:{changeFallback:({stores:e})=>t=>{e.settings.update("gravatar",{fallback:t})},changeFreetext:({stores:e})=>t=>{e.settings.update("gravatar",{freetext:t})},fetchImageAsync:({core:e,io:t})=>async(n,r)=>{const o=e.gravatar.buildImageUrl(n,r),i=await t.fetch(o);if(!i.ok)throw new Error(`Unexpected Gravatar response status ${i.status}.`);return i.blob()},fetchProfileAsync:({core:e,io:t})=>async n=>{if(!n)return{};const r=e.gravatar.buildProfileUrl(n),o=await t.fetch(r);if(404===o.status)return{};if(!o.ok)throw new Error(`Unexpected Gravatar response status ${o.status}.`);const i=await o.json(),[a]=i.entry;return a},status:({stores:e})=>{const t=Object.keys(ro).reduce(((t,n)=>Object.assign(t,{[n]:()=>e.settings.find("gravatar").status===n})),{}),n={ready:()=>{const{freetext:n}=e.settings.find("gravatar");e.settings.update("gravatar",{status:ro.ready,freetext:t.error()?n:"",errorMessage:""})},working:()=>{e.settings.update("gravatar",{status:ro.working})},error:t=>{e.settings.update("gravatar",{status:ro.error,errorMessage:t})}};return{is:t,to:n}}},roles:{changeRoleColor:({stores:e})=>(t,n)=>{e.roles.update(t,{color:n})},changeRoleName:({core:e,stores:t})=>(n,r)=>{const o=t.roles.find(n),i=e.roles.buildRole({...o,roleName:r});t.roles.update(n,i)},findOrInsertRoleWithName:({services:e,stores:t})=>(n="")=>{const r=t.roles.list().find((e=>n.toUpperCase()===e.roleName.toUpperCase()));return r?r.id:e.roles.insertRole({roleName:n})},getNilRoleId:({stores:e})=>()=>e.settings.find("app").nilRoleId,getRole:({stores:e})=>t=>e.roles.find(t),insertRole:({core:e,services:t,subscriptions:n,stores:r,io:o})=>i=>{const a=e.roles.buildRole(i,o.random());return r.roles.insert(a,(e=>{n.roles.onChange(e,"roleName",t.roles.setupRolePropagation(e))}))},isNilRole:({services:e})=>t=>t===e.roles.getNilRoleId(),setupRolePropagation:({stores:e})=>t=>()=>{const{roleName:n}=e.roles.find(t),r={roleName:n};e.tagInstances.list().filter((e=>e.roleId===t)).forEach((t=>e.tagInstances.update(t.id,r)))}},settings:{changeModal:({stores:e})=>t=>{e.settings.update("app",{modal:t})},changeOption:({stores:e})=>(t,n)=>{e.settings.update("options",{[t]:n})},clearModal:({stores:e})=>()=>{e.settings.update("app",{modal:null})},getGravatar:({stores:e})=>()=>{const t=e.settings.find("gravatar");return{emails:t.freetext.split(/[\r\n,;]+/g).map((e=>e.trim())).filter((e=>e)),...t}}},tags:{adjustTagInstanceCounts:({core:e,config:t,stores:n,services:r})=>()=>{const o=n.tags.list(),i=n.settings.find("options"),a=Object.fromEntries(t.options.modes.map((e=>[e,i[e]])));e.tags.planTagInstanceAdjustment(o,a).forEach((e=>{(e={insert:[],remove:[],...e}).insert.forEach(r.tags.insertTagInstance),e.remove.forEach(r.tags.removeTagInstance)}))},attachImageAsync:({stores:e,io:t})=>n=>r=>new Promise(((o,i)=>{const a=t.fileReader();a.readAsDataURL(n),a.addEventListener("load",(()=>{const t=a.result;e.tags.update(r,{image:t}),o()})),a.addEventListener("error",(()=>{i(a.error)}))})),buildTagInstance:({stores:e})=>t=>{const{tagId:n,mode:r}=t,{tagName:o,roleId:i}=e.tags.find(n),{roleName:a}=e.roles.find(i);return{tagId:n,tagName:o,roleId:i,roleName:a,mode:r}},changeTagName:({core:e,services:t,stores:n})=>(r,o)=>{const{tagId:i}=t.tags.getTagInstance(r),{tagName:a,roleName:s}=e.tags.parseTagExpression(o);if(n.tags.update(i,{tagName:a}),s){const e=t.roles.findOrInsertRoleWithName(s);n.tags.update(i,{roleId:e})}},changeTagRole:({services:e,stores:t})=>(n,r)=>{const o=e.roles.findOrInsertRoleWithName(r),{tagId:i}=t.tagInstances.find(n);t.tags.update(i,{roleId:o})},getTagInstance:({stores:e})=>t=>e.tagInstances.find(t),insertFileAsync:({core:e,services:t,util:n})=>r=>n.pipe(e.tags.parseFileExpression,t.tags.insertTag,t.tags.attachImageAsync(r))(r.name),insertFileBatchAsync:({services:e})=>t=>Array.from(t).map(e.tags.insertFileAsync),insertGravatarAsync:({core:e,services:t})=>(n,r)=>{const{email:o,username:i,emailOrUsername:a,roleName:s}=e.tags.parseEmailExpression(n),c=t.gravatar.fetchProfileAsync(o).then((n=>{const r=e.gravatar.getNameFromProfile(n,i);return t.tags.insertTag({tagName:r,roleName:s})}));return t.gravatar.fetchImageAsync(a,r).then((async e=>{const n=await c;return t.tags.attachImageAsync(e)(n)}))},insertGravatarBatchAsync:({services:e,config:t})=>async(n,r)=>{try{e.gravatar.status.to.working();const t=async t=>{try{await e.tags.insertGravatarAsync(t,r)}catch(e){}};await Promise.all(n.map(t)),e.gravatar.status.to.ready(),e.settings.clearModal()}catch(n){throw e.gravatar.status.to.error(t.gravatar.errorMessage),n}},insertTag:({core:e,services:t,stores:n,subscriptions:r,util:o})=>i=>o.pipe((({roleName:e,...n})=>({roleId:n.roleId||t.roles.findOrInsertRoleWithName(e),...n})),e.tags.buildTag,(e=>n.tags.insert(e,(e=>{r.tags.onChange(e,"tagName",t.tags.setupTagPropagation(e)),r.tags.onChange(e,"roleId",t.tags.setupRolePropagation(e))}))))(i||{}),insertTagInstance:({services:e,stores:t})=>n=>{const r=e.tags.buildTagInstance(n);return t.tagInstances.insert(r,(e=>{const{tagId:n,mode:o}=r,i=t.tags.find(n);t.tags.update(n,{instances:i.instances.concat(e),[o]:i[o].concat(e)})}))},removeTagInstance:({stores:e})=>t=>{const{tagId:n,mode:r}=e.tagInstances.find(t),o=e.tags.find(n),i=e=>e!==t;e.tags.update(n,{instances:o.instances.filter(i),[r]:o[r].filter(i)}),e.tagInstances.remove(t)},setupRolePropagation:({stores:e})=>t=>()=>{const{roleId:n,instances:r}=e.tags.find(t),{roleName:o}=e.roles.find(n);r.forEach((t=>e.tagInstances.update(t,{roleId:n,roleName:o})))},setupTagPropagation:({stores:e})=>t=>()=>{const{tagName:n,instances:r}=e.tags.find(t);r.forEach((t=>e.tagInstances.update(t,{tagName:n})))},sortTagInstances:({core:e,stores:t})=>()=>{const n={orderAdded:t.tags.list,roleThenName:()=>e.tags.sortTagsByRoleThenName(t.tags.list(),t.roles.find),name:()=>e.tags.sortTagsByName(t.tags.list())},{sort:r}=t.settings.find("options"),o=n[r]();return e.tags.sortTagInstancesByTagThenMode(o,t.tagInstances.find)}}},ao={createHandlers:({services:e,subscriptions:t,util:n,config:r})=>()=>{const o=n.debounce(e.tags.adjustTagInstanceCounts,r.debounce.adjustTagInstanceCounts);r.options.modes.forEach((e=>{t.settings.onChange("options",e,o)})),t.tags.onInsert(o)},createStyleManager:({styles:e,subscriptions:t,ui:n,util:r})=>()=>{const{tagImage:o,roleColor:i,...a}=e,s=(...e)=>n.appendToHead(...e);s(...Object.values(a).map((e=>e()))),t.tags.onInsert(r.pipe(o,s)),t.roles.onInsert(r.pipe(i,s))},insertNilRole:({config:e,stores:t})=>()=>{const n=t.roles.insert(e.roles.nilRole);t.settings.update("app",{nilRoleId:n})},start:({startup:e,components:t})=>()=>(e.insertNilRole(),e.createHandlers(),e.createStyleManager(),t.app())},so={},co="object"==typeof Reflect?Reflect:null,uo=co&&"function"==typeof co.apply?co.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};oo=co&&"function"==typeof co.ownKeys?co.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var lo=Number.isNaN||function(e){return e!=e};function po(){po.init.call(this)}(so=po).once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}Eo(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Eo(e,"error",t,n)}(e,o,{once:!0})}))},po.EventEmitter=po,po.prototype._events=void 0,po.prototype._eventsCount=0,po.prototype._maxListeners=void 0;var fo=10;function ho(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function go(e){return void 0===e._maxListeners?po.defaultMaxListeners:e._maxListeners}function vo(e,t,n,r){var o,i,a,s;if(ho(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=go(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function _o(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function mo(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=_o.bind(r);return o.listener=n,r.wrapFn=o,o}function yo(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):wo(o,o.length)}function bo(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function wo(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Eo(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(po,"defaultMaxListeners",{enumerable:!0,get:function(){return fo},set:function(e){if("number"!=typeof e||e<0||lo(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");fo=e}}),po.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},po.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||lo(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},po.prototype.getMaxListeners=function(){return go(this)},po.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)uo(s,this,t);else{var c=s.length,u=wo(s,c);for(n=0;n<c;++n)uo(u[n],this,t)}return!0},po.prototype.addListener=function(e,t){return vo(this,e,t,!1)},po.prototype.on=po.prototype.addListener,po.prototype.prependListener=function(e,t){return vo(this,e,t,!0)},po.prototype.once=function(e,t){return ho(t),this.on(e,mo(this,e,t)),this},po.prototype.prependOnceListener=function(e,t){return ho(t),this.prependListener(e,mo(this,e,t)),this},po.prototype.removeListener=function(e,t){var n,r,o,i,a;if(ho(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},po.prototype.off=po.prototype.removeListener,po.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},po.prototype.listeners=function(e){return yo(this,e,!0)},po.prototype.rawListeners=function(e){return yo(this,e,!1)},po.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):bo.call(e,t)},po.prototype.listenerCount=bo,po.prototype.eventNames=function(){return this._eventsCount>0?oo(this._events):[]};var ko,xo={stateStore:(e={})=>{let t=1;const r=new Map,o=new Map,i=new(n(so)),a=e=>o.get(e)||{get:()=>null},s={onChange:(e,t,n)=>a(e).subscriptions.onChange(t,n),onChangeAny:(e,t)=>i.on(`change:${e}`,t),onInsert:e=>i.on("insert",e),onFirstInsert:e=>i.once("firstInsert",e),onBeforeRemove:e=>i.on("beforeRemove",e)},c=(e,a)=>{const s=e.id||t++,c={id:s,...e},u=new(n(so)),l={onChange:(e,t)=>{u.on(`change:${e}`,t),t(c[e],c)}};return o.set(s,{get:()=>({...c}),update:e=>{Object.entries(e).forEach((([e,t])=>{if(c[e]===t)return;c[e]=t;[u,i].forEach((t=>t.emit(`change:${e}`,c[e],c)))}))},subscriptions:l}),r.set(s,c),a&&a(s),i.emit("firstInsert",s),i.emit("insert",s),s};return Object.entries(e).map((([e,t])=>({id:e,...t}))).forEach((e=>c(e))),{insert:c,remove:e=>{i.emit("beforeRemove",e),o.delete(e),r.delete(e)},list:()=>[...r.values()],find:e=>a(e).get(),update:(e,t)=>a(e).update(t),subscriptions:s}}},So={setup:({storage:e,config:t})=>()=>Object.fromEntries(t.storage.stores.map((n=>{const r=t.storage.defaults[n];return[n,e.stateStore(r)]})))},To=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Oo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var Co={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var Ro=function(){function e(t,n,r,o){To(this,e);var i=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===r){var a=t&&""+t;a&&function(t){if(t.startsWith("hsl")){var n=t.match(/([\-\d\.e]+)/g).map(Number),r=jo(n,4),o=r[0],a=r[1],s=r[2],c=r[3];void 0===c&&(c=1),o/=360,a/=100,s/=100,i.hsla=[o,a,s,c]}else if(t.startsWith("rgb")){var u=t.match(/([\-\d\.e]+)/g).map(Number),l=jo(u,4),p=l[0],d=l[1],f=l[2],h=l[3];void 0===h&&(h=1),i.rgba=[p,d,f,h]}else t.startsWith("#")?i.rgba=e.hexToRgb(t):i.rgba=e.nameToRgb(t)||e.hexToRgb(t)}(a.toLowerCase())}else this.rgba=[t,n,r,void 0===o?1:o]}return Oo(e,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return No(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],r=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,r){return No(e*t[r],3===r?3:1)+n[r]}));return e?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)})).map((function(e){return e.padStart(2,"0")})).join("")},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(t){var n=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=Co[n];return void 0===r?r:e.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=jo(e,4),n=t[0],r=t[1],o=t[2],i=t[3];n/=255,r/=255,o/=255;var a=Math.max(n,r,o),s=Math.min(n,r,o),c=void 0,u=void 0,l=(a+s)/2;if(a===s)c=u=0;else{var p=a-s;switch(u=l>.5?p/(2-a-s):p/(a+s),a){case n:c=(r-o)/p+(r<o?6:0);break;case r:c=(o-n)/p+2;break;case o:c=(n-r)/p+4}c/=6}return[c,u,l,i]}},{key:"hslToRgb",value:function(e){var t=jo(e,4),n=t[0],r=t[1],o=t[2],i=t[3],a=void 0,s=void 0,c=void 0;if(0===r)a=s=c=o;else{var u=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=o<.5?o*(1+r):o+r-o*r,p=2*o-l;a=u(p,l,n+1/3),s=u(p,l,n),c=u(p,l,n-1/3)}var d=[255*a,255*s,255*c].map(Math.round);return d[3]=i,d}}]),e}(),Do=function(){function e(){To(this,e),this._events=[]}return Oo(e,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(t,n,r){this._events=this._events.filter((function(o){var i=!0;return t&&t!==o.target&&(i=!1),n&&n!==o.type&&(i=!1),r&&r!==o.handler&&(i=!1),i&&e._doRemove(o.target,o.type,o.handler),!i}))}},{key:"destroy",value:function(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),e}();function Io(e,t,n,r){var o=!1;function i(e,t,n){return Math.max(t,Math.min(e,n))}function a(e,t,a){if(a&&(o=!0),o){e.preventDefault();var s=n.getBoundingClientRect(),c=s.width,u=s.height,l=t.clientX,p=t.clientY,d=i(l-s.left,0,c),f=i(p-s.top,0,u);r(d/c,f/u)}}function s(e,t){1===(void 0===e.buttons?e.which:e.buttons)?a(e,e,t):o=!1}function c(e,t){1===e.touches.length?a(e,e.touches[0],t):o=!1}t.add(n,"mousedown",(function(e){s(e,!0)})),t.add(n,"touchstart",(function(e){c(e,!0)})),t.add(e,"mousemove",s),t.add(n,"touchmove",c),t.add(e,"mouseup",(function(e){o=!1})),t.add(n,"touchend",(function(e){o=!1})),t.add(n,"touchcancel",(function(e){o=!1}))}function Lo(e,t){return t.querySelector(e)}function $o(e){e.preventDefault(),e.stopPropagation()}function Bo(e,t,n,r,o){e.add(t,"keydown",(function(e){n.indexOf(e.key)>=0&&(o&&$o(e),r(e))}))}var Ao=function(){function e(t){To(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new Do,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return Oo(e,[{key:"setOptions",value:function(e){var t=this;if(e){var n=this.settings;n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(e,t,n){for(var r in e)n&&n.indexOf(r)>=0||(t[r]=e[r])}(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var r=e.color||e.colour;r&&this._setColor(r);var o=n.parent;if(o&&n.popup&&!this._popupInited){var i=function(e){return t.openHandler(e)};this._events.add(o,"click",i),Bo(this._events,o,[" ","Spacebar","Enter"],i),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&"keydown"===e.type?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;if(e)if("mousedown"===t||"focusin"===t){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(n=!0)}else $o(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="","mousedown"!==t&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var n=void 0;try{n=new Ro(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',n=function(e,t){var n=e.createElement("div");return n.innerHTML=t,n.firstElementChild}(this.settings.window.document,t);return this.domElement=n,this._domH=Lo(".picker_hue",n),this._domSL=Lo(".picker_sl",n),this._domA=Lo(".picker_alpha",n),this._domEdit=Lo(".picker_editor input",n),this._domSample=Lo(".picker_sample",n),this._domOkay=Lo(".picker_done button",n),this._domCancel=Lo(".picker_cancel button",n),n.classList.add("layout_"+this.settings.layout),this.settings.alpha||n.classList.add("no_alpha"),this.settings.editor||n.classList.add("no_editor"),this.settings.cancelButton||n.classList.add("no_cancel"),this._ifPopup((function(){return n.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,r=this._events;function o(e,t,n){r.add(e,t,n)}o(n,"click",(function(e){return e.preventDefault()})),Io(this.settings.window,r,this._domH,(function(e,n){return t._setHSLA(e)})),Io(this.settings.window,r,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&Io(this.settings.window,r,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var i=this._domEdit;o(i,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),o(i,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};o(e.settings.window,"mousedown",t),o(e.settings.window,"focusin",t),Bo(r,n,["Esc","Escape"],t);var i=function(t){e.__containedEvent=t.timeStamp};o(n,"mousedown",i),o(n,"focusin",i),o(e._domCancel,"click",t)}));var a=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",a),Bo(r,n,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this,t=this.settings.parent,n=this.domElement;t!==n.parentNode&&t.appendChild(n),this._ifPopup((function(r){"static"===e.settings.window.getComputedStyle(t).position&&(t.style.position="relative");var o=!0===r?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===o?n.classList.add(e):n.classList.remove(e)})),n.classList.add(o)}))}},{key:"_setHSLA",value:function(e,t,n,r,o){o=o||{};var i=this.colour,a=i.hsla;[e,t,n,r].forEach((function(e,t){(e||0===e)&&(a[t]=e)})),i.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(i)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,r="hsl("+360*n[0]+", 100%, 50%)",o=t.hslString,i=t.hslaString,a=this._domH,s=this._domSL,c=this._domA,u=Lo(".picker_selector",a),l=Lo(".picker_selector",s),p=Lo(".picker_selector",c);m(0,u,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,m(0,l,n[1]),y(0,l,1-n[2]),s.style.color=o,y(0,p,1-n[3]);var d=o,f=d.replace("hsl","hsla").replace(")",", 0)"),h="linear-gradient("+[d,f]+")";if(this._domA.style.backgroundImage=h+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!e.fromEditor){var g=this.settings.editorFormat,v=this.settings.alpha,_=void 0;switch(g){case"rgb":_=t.printRGB(v);break;case"hsl":_=t.printHSL(v);break;default:_=t.printHex(v)}this._domEdit.value=_}this._domSample.style.color=i}function m(e,t,n){t.style.left=100*n+"%"}function y(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",r=t.style.display!==n;return r&&(t.style.display=n),r}}],[{key:"StyleElement",get:function(){return _style}},{key:"css",get:function(){return".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}"}}]),e}();ko=Ao;var Uo={roleColor:({ui:e,subscriptions:t})=>n=>{const r=e.el("style");return t.roles.onChange(n,"color",(e=>{r.textContent=`\n                .role${n} .tag-image { border-color: ${e}; }            \n                .role${n} .role-name { background-color: ${e}; }\n            `})),r},tagImage:({ui:e,subscriptions:t})=>n=>{const r=e.el("style");return t.tags.onChange(n,"image",(e=>{r.textContent=e?`.tag${n} .tag-image { background-image: url(${e}); }`:""})),r},tagOutline:({ui:e,subscriptions:t})=>()=>{const n=e.el("style");return t.settings.onChange("options","outline",(e=>{n.textContent=e?"":".tag { border-color: transparent; }"})),n},tagShape:({ui:e,subscriptions:t,config:n})=>()=>{const r=e.el("style");return t.settings.onChange("options","shape",(e=>{const t=n.options.shapeRadius[e];r.textContent=`.tag-image { border-radius: ${t}%; }`})),r},tagSize:({ui:e,subscriptions:t,config:n})=>()=>{const r=e.el("style");return t.settings.onChange("options","size",(e=>{const t=e-2*n.tags.imagePadding;r.textContent=`\n            .tag-list { grid-template-columns: repeat(auto-fill, ${e}px); }\n            .tag-image { width: ${t}px; height: ${t}px; }\n        `})),r},tagSpacing:({ui:e,subscriptions:t})=>()=>{const n=e.el("style");return t.settings.onChange("options","spacing",(e=>{n.textContent=`.tag-list { gap: ${e}px; }`})),n},vanillaPicker:({ui:e})=>()=>e.el("style",{textContent:n(ko).css})},Po={setup:({stores:e,util:t})=>()=>t.mapValues(e,(e=>e.subscriptions))},Go={appendToHead:({window:e})=>(...t)=>e.document.head.append(...t),el:({window:e})=>(t,...n)=>{const r=e.document.createElement(t),o=n.map((e=>"string"==typeof e?{className:e}:e)),i=["append","addEventListener"].map((e=>{const t=r[e].bind(r);return{[e]:(...e)=>(t(...e),r)}}));return Object.assign(r,...o,...i)},event:({window:e})=>(...t)=>new e.Event(...t),refocus:({window:e})=>t=>{const n=e.document.activeElement;t(),n.focus()},toggleBoolClass:()=>(e,t,n)=>{e.classList.remove(`${t}-${Boolean(!n)}`),e.classList.add(`${t}-${Boolean(n)}`)}},Mo={debounce:(e,t)=>{if(!t)return e;let n=null;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e(...r)),t)}},mapValues:(e,t)=>Object.entries(e).reduce(((e,[n,r])=>Object.assign(e,{[n]:t(r)})),{}),pipe:(...e)=>t=>e.reduce(((e,t)=>t(e)),t),splitAt:(e,t,n)=>[e.slice(0,t),e.slice(t+n)],upperFirst:e=>e?e[0].toUpperCase()+e.slice(1):""},Yo={gtagScript:({ui:e,config:t})=>()=>{const{trackingId:n}=t.gtag;return e.el("script",{src:`https://www.googletagmanager.com/gtag/js?id=${n}`})},vanillaPicker:({window:e})=>({parent:t,color:r,onChange:o})=>(new(n(ko))({window:e,parent:t,color:r,onChange:o}),t)},qo={};t(qo,"Integrations",(function(){return qc})),t(qo,"FunctionToString",(function(){return Ca})),t(qo,"Hub",(function(){return Ma})),t(qo,"InboundFilters",(function(){return Ra})),t(qo,"SDK_VERSION",(function(){return bs})),t(qo,"Scope",(function(){return Ba})),t(qo,"addBreadcrumb",(function(){return Za})),t(qo,"addGlobalEventProcessor",(function(){return Ua})),t(qo,"captureEvent",(function(){return Ka})),t(qo,"captureException",(function(){return Va})),t(qo,"captureMessage",(function(){return Xa})),t(qo,"configureScope",(function(){return Ja})),t(qo,"createTransport",(function(){return ys})),t(qo,"getCurrentHub",(function(){return Fa})),t(qo,"getHubFromCarrier",(function(){return za})),t(qo,"makeMain",(function(){return qa})),t(qo,"setContext",(function(){return Qa})),t(qo,"setExtra",(function(){return ts})),t(qo,"setExtras",(function(){return es})),t(qo,"setTag",(function(){return rs})),t(qo,"setTags",(function(){return ns})),t(qo,"setUser",(function(){return os})),t(qo,"startTransaction",(function(){return as})),t(qo,"withScope",(function(){return is})),t(qo,"BrowserClient",(function(){return dc})),t(qo,"makeFetchTransport",(function(){return fc})),t(qo,"makeXHRTransport",(function(){return hc})),t(qo,"chromeStackLineParser",(function(){return mc})),t(qo,"defaultStackLineParsers",(function(){return jc})),t(qo,"defaultStackParser",(function(){return Cc})),t(qo,"geckoStackLineParser",(function(){return wc})),t(qo,"opera10StackLineParser",(function(){return Sc})),t(qo,"opera11StackLineParser",(function(){return Oc})),t(qo,"winjsStackLineParser",(function(){return kc})),t(qo,"close",(function(){return Uc})),t(qo,"defaultIntegrations",(function(){return Rc})),t(qo,"flush",(function(){return Ac})),t(qo,"forceLoad",(function(){return $c})),t(qo,"init",(function(){return Dc})),t(qo,"lastEventId",(function(){return Lc})),t(qo,"onLoad",(function(){return Bc})),t(qo,"showReportDialog",(function(){return Ic})),t(qo,"wrap",(function(){return Pc})),t(qo,"GlobalHandlers",(function(){return $s})),t(qo,"TryCatch",(function(){return Ys})),t(qo,"Breadcrumbs",(function(){return Ws})),t(qo,"LinkedErrors",(function(){return Zs})),t(qo,"HttpContext",(function(){return tc})),t(qo,"Dedupe",(function(){return nc}));var Fo={};t(Fo,"FunctionToString",(function(){return Ca})),t(Fo,"InboundFilters",(function(){return Ra}));var Ho=i("k6cxq"),zo=Object.prototype.toString;function Wo(e){switch(zo.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ri(e,Error)}}function Vo(e,t){return zo.call(e)===`[object ${t}]`}function Xo(e){return Vo(e,"ErrorEvent")}function Ko(e){return Vo(e,"DOMError")}function Jo(e){return Vo(e,"String")}function Zo(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function Qo(e){return Vo(e,"Object")}function ei(e){return"undefined"!=typeof Event&&ri(e,Event)}function ti(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function ni(e){return Qo(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ri(e,t){try{return e instanceof t}catch(e){return!1}}function oi(e,t){try{let o=e;var n=[];let i=0,a=0;var r=" > ".length;let s;for(;o&&i++<5&&(s=ii(o,t),!("html"===s||i>1&&a+n.length*r+s.length>=80));)n.push(s),a+=s.length,o=o.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function ii(e,t){var n=e,r=[];let o,i,a,s,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());var u=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&Jo(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);var l=["type","name","title","alt"];for(c=0;c<l.length;c++)a=l[c],s=n.getAttribute(a),s&&r.push(`[${a}="${s}"]`);return r.join("")}function ai(){var e=(0,Ho.getGlobalObject)();try{return e.document.location.href}catch(e){return""}}class si extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var ci=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ui(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function li(e){var t=ci.exec(e);if(!t)throw new si(`Invalid Sentry Dsn: ${e}`);const[n,r,o="",i,a="",s]=t.slice(1);let c="",u=s;var l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){var p=u.match(/^\d+/);p&&(u=p[0])}return pi({host:i,pass:o,path:c,projectId:u,port:a,protocol:n,publicKey:r})}function pi(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function di(e){var t="string"==typeof e?li(e):pi(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new si(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new si(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(r))throw new si(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new si(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}Ho=i("k6cxq");var fi=(0,(Ho=i("k6cxq")).getGlobalObject)(),hi=["debug","info","warn","error","log","assert","trace"];function gi(e){var t=(0,Ho.getGlobalObject)();if(!("console"in t))return e();var n=t.console,r={};hi.forEach((e=>{var o=n[e]&&n[e].__sentry_original__;e in t.console&&o&&(r[e]=n[e],n[e]=o)}));try{return e()}finally{Object.keys(r).forEach((e=>{n[e]=r[e]}))}}function vi(){let e=!1;var t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?hi.forEach((n=>{t[n]=(...t)=>{e&&gi((()=>{fi.console[n](`Sentry Logger [${n}]:`,...t)}))}})):hi.forEach((e=>{t[e]=()=>{}})),t}let _i;function mi(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}function yi(e,t){if(!Array.isArray(e))return"";var n=[];for(let t=0;t<e.length;t++){var r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function bi(e,t){return!!Jo(e)&&(Vo(t,"RegExp")?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}function wi(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{ki(o,r)}catch(e){}e[t]=o}}function Ei(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function ki(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,Ei(e,"__sentry_original__",t)}function xi(e){return e.__sentry_original__}function Si(e){if(Wo(e))return{message:e.message,name:e.name,stack:e.stack,...Oi(e)};if(ei(e)){var t={type:e.type,target:Ti(e.target),currentTarget:Ti(e.currentTarget),...Oi(e)};return"undefined"!=typeof CustomEvent&&ri(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ti(e){try{return t=e,"undefined"!=typeof Element&&ri(t,Element)?oi(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Oi(e){if("object"==typeof e&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ji(e,t=40){var n=Object.keys(Si(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return mi(n[0],t);for(let e=n.length;e>0;e--){var r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:mi(r,t)}return""}function Ci(e){return Ni(e,new Map)}function Ni(e,t){if(Qo(e)){if(void 0!==(o=t.get(e)))return o;var n={};for(var r of(t.set(e,n),Object.keys(e)))void 0!==e[r]&&(n[r]=Ni(e[r],t));return n}if(Array.isArray(e)){var o;if(void 0!==(o=t.get(e)))return o;n=[];return t.set(e,n),e.forEach((e=>{n.push(Ni(e,t))})),n}return e}function Ri(e){let t,n=e[0],r=1;for(;r<e.length;){var o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}_i="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,Ho.getGlobalSingleton)("logger",vi):vi();function Di(...e){var t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{var r=[];for(var o of e.split("\n").slice(n))for(var i of t){var a=i(o);if(a){r.push(a);break}}return function(e){if(!e.length)return[];let t=e;var n=t[0].function||"",r=t[t.length-1].function||"";-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1));-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1));return t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(r)}}function Ii(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}function Li(){if(!("fetch"in(0,Ho.getGlobalObject)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function $i(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Bi(){if(!Li())return!1;var e=(0,Ho.getGlobalObject)();if($i(e.fetch))return!0;let t=!1;var n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=$i(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function Ai(){var e=(0,Ho.getGlobalObject)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}var Ui=(0,(Ho=i("k6cxq")).getGlobalObject)(),Pi={},Gi={};function Mi(e){if(!Gi[e])switch(Gi[e]=!0,e){case"console":!function(){if(!("console"in Ui))return;hi.forEach((function(e){e in Ui.console&&wi(Ui.console,e,(function(t){return function(...n){qi("console",{args:n,level:e}),t&&t.apply(Ui.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Ui))return;var e=qi.bind(null,"dom"),t=Xi(e,!0);Ui.document.addEventListener("click",t,!1),Ui.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var n=Ui[t]&&Ui[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(wi(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,a=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},s=a[n]=a[n]||{refCount:0};if(!s.handler){var c=Xi(e);s.handler=c,t.call(this,n,c,o)}s.refCount+=1}catch(e){}return t.call(this,n,r,o)}})),wi(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount-=1,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Ui))return;var e=XMLHttpRequest.prototype;wi(e,"open",(function(e){return function(...t){var n=this,r=t[1],o=n.__sentry_xhr__={method:Jo(t[0])?t[0].toUpperCase():t[0],url:t[1]};Jo(r)&&"POST"===o.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var i=function(){if(4===n.readyState){try{o.status_code=n.status}catch(e){}qi("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?wi(n,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(n,t)}})):n.addEventListener("readystatechange",i),e.apply(n,t)}})),wi(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),qi("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!Bi())return;wi(Ui,"fetch",(function(e){return function(...t){var n={args:t,fetchData:{method:Fi(t),url:Hi(t)},startTimestamp:Date.now()};return qi("fetch",{...n}),e.apply(Ui,t).then((e=>(qi("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw qi("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!Ai())return;var e=Ui.onpopstate;function t(e){return function(...t){var n=t.length>2?t[2]:void 0;if(n){var r=zi,o=String(n);zi=o,qi("history",{from:r,to:o})}return e.apply(this,t)}}Ui.onpopstate=function(...t){var n=Ui.location.href,r=zi;if(zi=n,qi("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},wi(Ui.history,"pushState",t),wi(Ui.history,"replaceState",t)}();break;case"error":Ki=Ui.onerror,Ui.onerror=function(e,t,n,r,o){return qi("error",{column:r,error:o,line:n,msg:e,url:t}),!!Ki&&Ki.apply(this,arguments)};break;case"unhandledrejection":Ji=Ui.onunhandledrejection,Ui.onunhandledrejection=function(e){return qi("unhandledrejection",e),!Ji||Ji.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("unknown instrumentation type:",e))}}function Yi(e,t){Pi[e]=Pi[e]||[],Pi[e].push(t),Mi(e)}function qi(e,t){if(e&&Pi[e])for(var n of Pi[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Ii(n)}\nError:`,t)}}function Fi(e=[]){return"Request"in Ui&&ri(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Hi(e=[]){return"string"==typeof e[0]?e[0]:"Request"in Ui&&ri(e[0],Request)?e[0].url:String(e[0])}let zi;let Wi,Vi;function Xi(e,t=!1){return n=>{if(n&&Vi!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Wi||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(Vi,n))&&(e({event:n,name:r,global:t}),Vi=n),clearTimeout(Wi),Wi=Ui.setTimeout((()=>{Wi=void 0}),1e3)}}}let Ki=null;let Ji=null;Ho=i("k6cxq");function Zi(){var e=(0,Ho.getGlobalObject)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=e=>{let t=e.toString(16);for(;t.length<4;)t=`0${t}`;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Qi(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function ea(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ta(e){const{message:t,event_id:n}=e;if(t)return t;var r=ea(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function na(e,t,n){var r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ra(e,t){var n=ea(e);if(n){var r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){var o={...r&&r.data,...t.data};n.mechanism.data=o}}}var oa;function ia(e){if(e&&e.__sentry_captured__)return!0;try{Ei(e,"__sentry_captured__",!0)}catch(e){}return!1}function aa(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}function sa(e,t=1/0,n=1/0){try{return ua("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function ca(e,t=3,n=102400){var r,o=sa(e,t);return r=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?ca(e,t-1,n):o}function ua(t,n,r=1/0,o=1/0,i=aa()){const[a,s]=i;var c,u=n;if(u&&"function"==typeof u.toJSON)try{return u.toJSON()}catch(e){}if(null===n||["number","boolean","string"].includes(typeof n)&&("number"!=typeof(c=n)||c==c))return n;var l=function(t,n){try{return"domain"===t&&n&&"object"==typeof n&&n._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==e&&n===e?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":ni(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?`[Function: ${Ii(n)}]`:"symbol"==typeof n?`[${String(n)}]`:"bigint"==typeof n?`[BigInt: ${String(n)}]`:`[object ${Object.getPrototypeOf(n).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(t,n);if(!l.startsWith("[object "))return l;if(n.__sentry_skip_normalization__)return n;if(0===r)return l.replace("object ","");if(a(n))return"[Circular ~]";var p=Array.isArray(n)?[]:{};let d=0;var f=Si(n);for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h)){if(d>=o){p[h]="[MaxProperties ~]";break}var g=f[h];p[h]=ua(h,g,r-1,o,i),d+=1}return s(n),p}function la(e){return new da((t=>{t(e)}))}function pa(e){return new da(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(oa||(oa={}));class da{__init(){this._state=oa.PENDING}__init2(){this._handlers=[]}then(e,t){return new da(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new da(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(oa.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(oa.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===oa.PENDING&&(ti(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state!==oa.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===oa.RESOLVED&&e[1](this._value),this._state===oa.REJECTED&&e[2](this._value),e[0]=!0)}))}}}constructor(e){da.prototype.__init.call(this),da.prototype.__init2.call(this),da.prototype.__init3.call(this),da.prototype.__init4.call(this),da.prototype.__init5.call(this),da.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}}function fa(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return pa(new si("Not adding Promise due to buffer limit reached."));var o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new da(((n,r)=>{let o=t.length;if(!o)return n(!0);var i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{la(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}var ha=["fatal","error","warning","log","info","debug"];function ga(e){return"warn"===e?"warning":ha.includes(e)?e:"log"}function va(e,t=[]){return[e,t]}function _a(e,t){const[n,r]=e;return[n,[...r,t]]}function ma(e,t){e[1].forEach((e=>{var n=e[0].type;t(e,n)}))}function ya(e,t){return(t||new TextEncoder).encode(e)}function ba(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[ya(o,t),e]:o.push("string"==typeof e?ya(e,t):e)}for(var a of r){const[e,t]=a;i(`\n${JSON.stringify(e)}\n`),i("string"==typeof t||t instanceof Uint8Array?t:JSON.stringify(t))}return"string"==typeof o?o:function(e){var t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(var o of e)n.set(o,r),r+=o.length;return n}(o)}function wa(e,t){var n="string"==typeof e.data?ya(e.data,t):e.data;return[Ci({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var Ea={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function ka(e){return Ea[e]}var xa=i("3Wlpk");function Sa(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Ta(e,{statusCode:t,headers:n},r=Date.now()){var o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(var s of i.trim().split(",")){const[e,t]=s.split(":",2);var c=parseInt(e,10),u=1e3*(isNaN(c)?60:c);if(t)for(var l of t.split(";"))o[l]=r+u;else o.all=r+u}else a?o.all=r+function(e,t=Date.now()){var n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(o.all=r+6e4);return o}function Oa(e){return e[0]}let ja;class Ca{static __initStatic(){this.id="FunctionToString"}__init(){this.name=Ca.id}setupOnce(){ja=Function.prototype.toString,Function.prototype.toString=function(...e){var t=xi(this)||this;return ja.apply(t,e)}}constructor(){Ca.prototype.__init.call(this)}}Ca.__initStatic();var Na=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Ra{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Ra.id}setupOnce(e,t){var n=e=>{var n=t();if(n){var r=n.getIntegration(Ra);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...Na],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(r._options,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${ta(e)}`),!0;if(function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error(`Cannot extract message for event ${ta(e)}`),[]}return[]}(e).some((e=>t.some((t=>bi(e,t)))))}(e,t.ignoreErrors))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${ta(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;var n=Da(e);return!!n&&t.some((e=>bi(n,e)))}(e,t.denyUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${ta(e)}.\nUrl: ${Da(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=Da(e);return!n||t.some((e=>bi(n,e)))}(e,t.allowUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${ta(e)}.\nUrl: ${Da(e)}`),!0;return!1}(e,a)?null:e}}return e};n.id=this.name,e(n)}constructor(e={}){this._options=e,Ra.prototype.__init.call(this)}}function Da(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let n=e.length-1;n>=0;n--){var t=e[n];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error(`Cannot extract url for event ${ta(e)}`),null}}Ra.__initStatic();xa=i("3Wlpk"),Ho=i("k6cxq"),xa=i("3Wlpk");function Ia(e){var t=(0,xa.timestampInSeconds)(),n={sid:Zi(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Ci({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&La(n,e),n}function La(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,xa.timestampInSeconds)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Zi()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function $a(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),La(e,n)}class Ba{__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var t=new Ba;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments]),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&La(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts={...this._contexts,[e]:t},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){var t=e(this);return t instanceof Ba?t:this}return e instanceof Ba?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Qo(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var r={timestamp:(0,xa.dateTimestampInSeconds)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags={transaction:n,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Aa(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new da(((o,i)=>{var a=e[r];if(null===t||"function"!=typeof a)o(t);else{var s=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===s&&_i.log(`Event processor "${a.id}" dropped event`),ti(s)?s.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(o))).then(null,i):this._notifyEventProcessors(e,s,n,r+1).then(o).then(null,i)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}constructor(){Ba.prototype.__init.call(this),Ba.prototype.__init2.call(this),Ba.prototype.__init3.call(this),Ba.prototype.__init4.call(this),Ba.prototype.__init5.call(this),Ba.prototype.__init6.call(this),Ba.prototype.__init7.call(this),Ba.prototype.__init8.call(this),Ba.prototype.__init9.call(this),Ba.prototype.__init10.call(this)}}function Aa(){return(0,Ho.getGlobalSingleton)("globalEventProcessors",(()=>[]))}function Ua(e){Aa().push(e)}xa=i("3Wlpk"),Ho=i("k6cxq");var Pa=i("gL7ev"),Ga=100;class Ma{__init(){this._stack=[{}]}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=Ba.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Zi(),r=new Error("Sentry syntheticException");return this._withClient(((o,i)=>{o.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},i)})),n}captureMessage(e,t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:Zi(),o=new Error(e);return this._withClient(((i,a)=>{i.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},a)})),r}captureEvent(e,t){var n=t&&t.event_id?t.event_id:Zi();return"transaction"!==e.type&&(this._lastEventId=n),this._withClient(((r,o)=>{r.captureEvent(e,{...t,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Ga}=r.getOptions&&r.getOptions()||{};if(!(i<=0)){var a={timestamp:(0,xa.dateTimestampInSeconds)(),...e},s=o?gi((()=>o(a,t))):a;null!==s&&n.addBreadcrumb(s,i)}}setUser(e){var t=this.getScope();t&&t.setUser(e)}setTags(e){var t=this.getScope();t&&t.setTags(e)}setExtras(e){var t=this.getScope();t&&t.setExtras(e)}setTag(e,t){var n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){var n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){var n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){var t=qa(this);try{e(this)}finally{qa(t)}}getIntegration(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&$a(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o}=n&&n.getOptions()||{};var i=(0,Ho.getGlobalObject)();const{userAgent:a}=i.navigator||{};var s=Ia({release:r,environment:o,...t&&{user:t.getUser()},...a&&{userAgent:a},...e});if(t){var c=t.getSession&&t.getSession();c&&"ok"===c.status&&La(c,{status:"exited"}),this.endSession(),t.setSession(s)}return s}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(e){var n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){var n=Ya().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Extension method ${e} couldn't be found, doing nothing.`)}constructor(e,t=new Ba,n=4){this._version=n,Ma.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}}function Ya(){var e=(0,Ho.getGlobalObject)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function qa(e){var t=Ya(),n=za(t);return Wa(t,e),n}function Fa(){var e=Ya();return Ha(e)&&!za(e).isOlderThan(4)||Wa(e,new Ma),(0,Pa.isNodeEnv)()?function(e){try{var t=Ya().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return za(e);if(!Ha(n)||za(n).isOlderThan(4)){var r=za(e).getStackTop();Wa(n,new Ma(r.client,Ba.clone(r.scope)))}return za(n)}catch(t){return za(e)}}(e):za(e)}function Ha(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function za(e){return(0,Ho.getGlobalSingleton)("hub",(()=>new Ma),e)}function Wa(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Va(e,t){return Fa().captureException(e,{captureContext:t})}function Xa(e,t){var n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Fa().captureMessage(e,n,r)}function Ka(e,t){return Fa().captureEvent(e,t)}function Ja(e){Fa().configureScope(e)}function Za(e){Fa().addBreadcrumb(e)}function Qa(e,t){Fa().setContext(e,t)}function es(e){Fa().setExtras(e)}function ts(e,t){Fa().setExtra(e,t)}function ns(e){Fa().setTags(e)}function rs(e,t){Fa().setTag(e,t)}function os(e){Fa().setUser(e)}function is(e){Fa().withScope(e)}function as(e,t){return Fa().startTransaction({...e},t)}function ss(e){var t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function cs(e){return t={sentry_key:e.publicKey,sentry_version:"7"},Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&");var t}function us(e,t){return t||`${function(e){return`${ss(e)}${e.projectId}/envelope/`}(e)}?${cs(e)}`}function ls(e,t){var n=di(e),r=`${ss(n)}embed/error-page/`;let o=`dsn=${ui(n)}`;for(var i in t)if("dsn"!==i)if("user"===i){var a=t.user;if(!a)continue;a.name&&(o+=`&name=${encodeURIComponent(a.name)}`),a.email&&(o+=`&email=${encodeURIComponent(a.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}xa=i("3Wlpk");function ps(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ds(e,t,n,r){var o=ps(n);return va({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&{dsn:ui(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}function fs(e,t,n,r){var o=ps(n),i=e.type||"event";const{transactionSampling:a}=e.sdkProcessingMetadata||{},{method:s,rate:c}=a||{};!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);var u=function(e,t,n,r){var o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baggage,i=o&&Oa(o);return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:ui(r)},..."transaction"===e.type&&i&&{trace:Ci({...i})}}}(e,o,r,t);return delete e.sdkProcessingMetadata,va(u,[[{type:i,sample_rates:[{id:s,rate:c}]},e]])}var hs=[];function gs(e){return e.reduce(((e,t)=>(e.every((e=>t.name!==e.name))&&e.push(t),e)),[])}function vs(e){var t=e.defaultIntegrations&&[...e.defaultIntegrations]||[],n=e.integrations;let r=[...gs(t)];Array.isArray(n)?r=[...r.filter((e=>n.every((t=>t.name!==e.name)))),...gs(n)]:"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var o=r.map((e=>e.name)),i="Debug";return-1!==o.indexOf(i)&&r.push(...r.splice(o.indexOf(i),1)),r}class _s{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}captureException(e,t,n){if(ia(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log("Not capturing exception because it's already been captured."));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;var i=Zo(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&ia(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log("Not capturing exception because it's already been captured."));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),La(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):la(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){var e,t;this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(e=this._options.integrations,t={},e.forEach((e=>{t[e.name]=e,-1===hs.indexOf(e.name)&&(e.setupOnce(Ua,Fa),hs.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log(`Integration installed: ${e.name}`))})),t),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,t={}){if(this._dsn){let r=fs(e,this._dsn,this._options._metadata,this._options.tunnel);for(var n of t.attachments||[])r=_a(r,wa(n,Ri([this,"access",e=>e._options,"access",e=>e.transportOptions,"optionalAccess",e=>e.textEncoder])));this._sendEnvelope(r)}}sendSession(e){if(this._dsn){var t=ds(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t){if(this._options.sendClientReports){var n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,r=!1;var o=t.exception&&t.exception.values;if(o)for(var i of(r=!0,o)){var a=i.mechanism;if(a&&!1===a.handled){n=!0;break}}var s="ok"===e.status;(s&&0===e.errors||s&&n)&&(La(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new da((t=>{let n=0;var r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var i={...e,event_id:e.event_id||t.event_id||Zi(),timestamp:e.timestamp||(0,xa.dateTimestampInSeconds)()};this._applyClientOptions(i),this._applyIntegrationsMetadata(i);let a=n;t.captureContext&&(a=Ba.clone(a).update(t.captureContext));let s=la(i);if(a){var c=[...t.attachments||[],...a.getAttachments()];c.length&&(t.attachments=c),s=a.applyToEvent(i,t)}return s.then((e=>"number"==typeof r&&r>0?this._normalizeEvent(e,r,o):e))}_normalizeEvent(e,t,n){if(!e)return null;var r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:sa(e.data,t,n)}})))},...e.user&&{user:sa(e.user,t,n)},...e.contexts&&{contexts:sa(e.contexts,t,n)},...e.extra&&{extra:sa(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=sa(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=sa(e.data,t,n)),e)))),r}_applyClientOptions(e){var t=this.getOptions();const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=mi(e.message,i));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=mi(a.value,i));var s=e.request;s&&s.url&&(s.url=mi(s.url,i))}_applyIntegrationsMetadata(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(e)}))}_processEvent(e,t,n){const{beforeSend:r,sampleRate:o}=this.getOptions();if(!this._isEnabled())return pa(new si("SDK not enabled, will not capture event."));var i="transaction"===e.type;return!i&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),pa(new si(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",e.type||"error"),new si("An event processor returned null, will not send event.");return t.data&&!0===t.data.__sentry__||i||!r?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(ti(e))return e.then((e=>{if(!Qo(e)&&null!==e)throw new si(t);return e}),(e=>{throw new si(`beforeSend rejected with ${e}`)}));if(!Qo(e)&&null!==e)throw new si(t);return e}(r(n,t))})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",e.type||"error"),new si("`beforeSend` returned `null`, will not send event.");var o=n&&n.getSession();return!i&&o&&this._updateSessionFromEvent(o,r),this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof si)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new si(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing+=1,e.then((e=>(this._numProcessing-=1,e)),(e=>(this._numProcessing-=1,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}constructor(e){if(_s.prototype.__init.call(this),_s.prototype.__init2.call(this),_s.prototype.__init3.call(this),_s.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=di(e.dsn);var t=us(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("No DSN provided, client will not do anything.")}}function ms(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?_i.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Fa(),r=n.getScope();r&&r.update(t.initialScope);var o=new e(t);n.bindClient(o)}function ys(e,t,n=fa(e.bufferSize||30)){let r={};return{send:function(o){var i=[];if(ma(o,((t,n)=>{var o=ka(n);Sa(r,o)?e.recordDroppedEvent("ratelimit_backoff",o):i.push(t)})),0===i.length)return la();var a=va(o[0],i),s=t=>{ma(a,((n,r)=>{e.recordDroppedEvent(t,ka(r))}))};return n.add((()=>t({body:ba(a,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Ta(r,e)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("Failed while sending event:",e),s("network_error")})))).then((e=>e),(e=>{if(e instanceof si)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("Skipped sending event due to full buffer"),s("queue_overflow"),la();throw e}))},flush:e=>n.drain(e)}}var bs="7.3.0",ws=(Ho=i("k6cxq"),{});function Es(e,t){var n=xs(e,t),r={type:t&&t.name,value:Ts(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function ks(e,t){return{exception:{values:[Es(e,t)]}}}function xs(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Ss.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}t(ws,"GlobalHandlers",(function(){return $s})),t(ws,"TryCatch",(function(){return Ys})),t(ws,"Breadcrumbs",(function(){return Ws})),t(ws,"LinkedErrors",(function(){return Zs})),t(ws,"HttpContext",(function(){return tc})),t(ws,"Dedupe",(function(){return nc}));var Ss=/Minified React error #\d+;/i;function Ts(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Os(e,t,n,r){var o=Cs(e,t,n&&n.syntheticException||void 0,r);return ra(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),la(o)}function js(e,t,n="info",r,o){var i=Ns(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),la(i)}function Cs(e,t,n,r,o){let i;if(Xo(t)&&t.error)return ks(e,t.error);if(Ko(t)||Vo(t,"DOMException")){var a=t;if("stack"in t)i=ks(e,t);else{var s=a.name||(Ko(a)?"DOMError":"DOMException"),c=a.message?`${s}: ${a.message}`:s;i=Ns(e,c,n,r),na(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return Wo(t)?ks(e,t):Qo(t)||ei(t)?(i=function(e,t,n,r){var o={exception:{values:[{type:ei(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${ji(t)}`}]},extra:{__serialized__:ca(t)}};if(n){var i=xs(e,n);i.length&&(o.exception.values[0].stacktrace={frames:i})}return o}(e,t,n,o),ra(i,{synthetic:!0}),i):(i=Ns(e,t,n,r),na(i,`${t}`,void 0),ra(i,{synthetic:!0}),i)}function Ns(e,t,n,r){var o={message:t};if(r&&n){var i=xs(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}return o}let Rs=0;function Ds(){return Rs>0}function Is(){Rs+=1,setTimeout((()=>{Rs-=1}))}function Ls(e,t={},n){if("function"!=typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(xi(e))return e}catch(t){return e}var o=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((e=>Ls(e,t)));return e.apply(this,o)}catch(e){throw Is(),is((n=>{n.addEventProcessor((e=>(t.mechanism&&(na(e,void 0,void 0),ra(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),Va(e)})),e}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i])}catch(e){}ki(o,e),Ei(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}class $s{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=$s.id}__init2(){this._installFunc={onerror:Bs,onunhandledrejection:As}}setupOnce(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log(`Global Handler attached: ${e}`),r(),this._installFunc[n]=void 0)}}constructor(e){$s.prototype.__init.call(this),$s.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}}function Bs(){Yi("error",(e=>{const[t,n,r]=Gs();if(!t.getIntegration($s))return;const{msg:o,url:i,line:a,column:s,error:c}=e;if(!(Ds()||c&&c.__sentry_own_request__)){var u=void 0===c&&Jo(o)?function(e,t,n,r){var o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Xo(e)?e.message:e,a="Error";var s=i.match(o);s&&(a=s[1],i=s[2]);return Us({exception:{values:[{type:a,value:i}]}},t,n,r)}(o,i,a,s):Us(Cs(n,c||o,void 0,r,!1),i,a,s);u.level="error",Ps(t,c,u,"onerror")}}))}function As(){Yi("unhandledrejection",(e=>{const[t,n,r]=Gs();if(!t.getIntegration($s))return;let o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(e){}if(Ds()||o&&o.__sentry_own_request__)return!0;var i=Zo(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Cs(n,o,void 0,r,!0);i.level="error",Ps(t,o,i,"onunhandledrejection")}))}function Us(e,t,n,r){var o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,p=Jo(t)&&t.length>0?t:ai();return 0===c.length&&c.push({colno:u,filename:p,function:"?",in_app:!0,lineno:l}),e}function Ps(e,t,n,r){ra(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Gs(){var e=Fa(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}$s.__initStatic();Ho=i("k6cxq");var Ms=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ys{static __initStatic(){this.id="TryCatch"}__init(){this.name=Ys.id}setupOnce(){var e=(0,Ho.getGlobalObject)();this._options.setTimeout&&wi(e,"setTimeout",qs),this._options.setInterval&&wi(e,"setInterval",qs),this._options.requestAnimationFrame&&wi(e,"requestAnimationFrame",Fs),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&wi(XMLHttpRequest.prototype,"send",Hs);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:Ms).forEach(zs)}constructor(e){Ys.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}}function qs(e){return function(...t){var n=t[0];return t[0]=Ls(n,{mechanism:{data:{function:Ii(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Fs(e){return function(t){return e.apply(this,[Ls(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ii(e)},handled:!0,type:"instrument"}})])}}function Hs(e){return function(...t){var n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&wi(n,e,(function(t){var n={mechanism:{data:{function:e,handler:Ii(t)},handled:!0,type:"instrument"}},r=xi(t);return r&&(n.mechanism.data.handler=Ii(r)),Ls(t,n)}))})),e.apply(this,t)}}function zs(e){var t=(0,Ho.getGlobalObject)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(wi(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ls(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ii(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Ls(r,{mechanism:{data:{function:"addEventListener",handler:Ii(r),target:e},handled:!0,type:"instrument"}}),o])}})),wi(n,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{var i=o&&o.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,o,r)}})))}Ys.__initStatic();Ho=i("k6cxq");class Ws{static __initStatic(){this.id="Breadcrumbs"}__init(){this.name=Ws.id}setupOnce(){this.options.console&&Yi("console",Vs),this.options.dom&&Yi("dom",function(e){function t(t){let n,r="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=t.event.target?oi(t.event.target,r):oi(t.event,r)}catch(e){n="<unknown>"}0!==n.length&&Fa().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&Yi("xhr",Xs),this.options.fetch&&Yi("fetch",Ks),this.options.history&&Yi("history",Js)}constructor(e){Ws.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}}function Vs(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:ga(e.level),message:yi(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${yi(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}Fa().addBreadcrumb(t,{input:e.args,level:e.level})}function Xs(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:o}=e.xhr.__sentry_xhr__||{};Fa().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:o})}else;}function Ks(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Fa().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):Fa().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function Js(e){var t=(0,Ho.getGlobalObject)();let n=e.from,r=e.to;var o=Qi(t.location.href);let i=Qi(n);var a=Qi(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Fa().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}Ws.__initStatic();class Zs{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Zs.id}setupOnce(){var e=Fa().getClient();e&&Ua(((t,n)=>{var r=Fa().getIntegration(Zs);return r?function(e,t,n,r,o){if(!(r.exception&&r.exception.values&&o&&ri(o.originalException,Error)))return r;var i=Qs(e,n,o.originalException,t);return r.exception.values=[...i,...r.exception.values],r}(e.getOptions().stackParser,r._key,r._limit,t,n):t}))}constructor(e={}){Zs.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}}function Qs(e,t,n,r,o=[]){if(!ri(n[r],Error)||o.length+1>=t)return o;var i=Es(e,n[r]);return Qs(e,t,n[r],r,[i,...o])}Zs.__initStatic();var ec=(0,(Ho=i("k6cxq")).getGlobalObject)();class tc{static __initStatic(){this.id="HttpContext"}__init(){this.name=tc.id}setupOnce(){Ua((e=>{if(Fa().getIntegration(tc)){if(!ec.navigator&&!ec.location&&!ec.document)return e;var t=e.request&&e.request.url||ec.location&&ec.location.href;const{referrer:r}=ec.document||{},{userAgent:o}=ec.navigator||{};var n={...t&&{url:t},headers:{...e.request&&e.request.headers,...r&&{Referer:r},...o&&{"User-Agent":o}}};return{...e,request:n}}return e}))}constructor(){tc.prototype.__init.call(this)}}tc.__initStatic();class nc{static __initStatic(){this.id="Dedupe"}__init(){this.name=nc.id}setupOnce(e,t){var n=e=>{var n=t().getIntegration(nc);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!oc(e,t)&&!!rc(e,t))))}(e,t)||!!function(e,t){var n=ic(t),r=ic(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!oc(e,t)&&!!rc(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}constructor(){nc.prototype.__init.call(this)}}function rc(e,t){let n=ac(e),r=ac(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){var o=r[e],i=n[e];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function oc(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function ic(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ac(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}nc.__initStatic();Ho=i("k6cxq");var sc=(0,(Ho=i("k6cxq")).getGlobalObject)();let cc;function uc(){if(cc)return cc;if($i(sc.fetch))return cc=sc.fetch.bind(sc);var e=sc.document;let t=sc.fetch;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return cc=t.bind(sc)}function lc(e,t){if("[object Navigator]"===Object.prototype.toString.call(sc&&sc.navigator)&&"function"==typeof sc.navigator.sendBeacon)sc.navigator.sendBeacon.bind(sc.navigator)(e,t);else if(Li()){uc()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error(e)}))}}var pc=(0,Ho.getGlobalObject)();class dc extends _s{eventFromException(e,t){return Os(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return js(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){var n=this.getIntegrationById("Breadcrumbs");n&&n.options&&n.options.sentry&&Fa().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:ta(e)},{event:e}),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log("Sending outcomes:",e);var t,n,r,o=us(this._dsn,this._options.tunnel),i=(t=e,va((n=this._options.tunnel&&ui(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,xa.dateTimestampInSeconds)(),discarded_events:t}]]));try{lc(o,ba(i))}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error(e)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.log("No outcomes to send")}constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:bs}],version:bs},super(e),e.sendClientReports&&pc.document&&pc.document.addEventListener("visibilitychange",(()=>{"hidden"===pc.document.visibilityState&&this._flushOutcomes()}))}}function fc(e,t=uc()){return ys(e,(function(n){var r={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,...e.fetchOptions};return t(e.url,r).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}))}function hc(e){return ys(e,(function(t){return new da(((n,r)=>{var o=new XMLHttpRequest;for(var i in o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,i)&&o.setRequestHeader(i,e.headers[i]);o.send(t.body)}))}))}function gc(e,t,n,r){var o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}var vc=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_c=/\((\S*)(?::(\d+))(?::(\d+))\)/,mc=[30,e=>{var t=vc.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=_c.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}const[e,r]=Nc(t[1]||"?",t[2]);return gc(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],yc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,bc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wc=[50,e=>{var t=yc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=bc.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}let e=t[3],r=t[1]||"?";return[r,e]=Nc(r,e),gc(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Ec=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,kc=[40,e=>{var t=Ec.exec(e);return t?gc(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],xc=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Sc=[10,e=>{var t=xc.exec(e);return t?gc(t[2],t[3]||"?",+t[1]):void 0}],Tc=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Oc=[20,e=>{var t=Tc.exec(e);return t?gc(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0}],jc=[mc,wc,kc],Cc=Di(...jc),Nc=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Rc=(Ho=i("k6cxq"),[new Fo.InboundFilters,new Fo.FunctionToString,new Ys,new Ws,new $s,new Zs,new nc,new tc]);function Dc(e={}){if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=Rc),void 0===e.release){var t=(0,Ho.getGlobalObject)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var n,r={...e,stackParser:(n=e.stackParser||Cc,Array.isArray(n)?Di(...n):n),integrations:vs(e),transport:e.transport||(Li()?fc:hc)};ms(dc,r),e.autoSessionTracking&&function(){if(void 0===(0,Ho.getGlobalObject)().document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var e=Fa();if(!e.captureSession)return;Gc(e),Yi("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&Gc(Fa())}))}()}function Ic(e={},t=Fa()){var n=(0,Ho.getGlobalObject)();if(!n.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("Global document not defined in showReportDialog call"));const{client:r,scope:o}=t.getStackTop();var i=e.dsn||r&&r.getDsn();if(i){o&&(e.user={...o.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());var a=n.document.createElement("script");a.async=!0,a.src=ls(i,e),e.onLoad&&(a.onload=e.onLoad);var s=n.document.head||n.document.body;s?s.appendChild(a):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.error("DSN not configured for showReportDialog call")}function Lc(){return Fa().lastEventId()}function $c(){}function Bc(e){e()}function Ac(e){var t=Fa().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Cannot flush events. No client defined."),la(!1))}function Uc(e){var t=Fa().getClient();return t?t.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_i.warn("Cannot flush events and disable SDK. No client defined."),la(!1))}function Pc(e){return Ls(e)()}function Gc(e){e.startSession({ignoreDuration:!0}),e.captureSession()}let Mc={};var Yc=(0,Ho.getGlobalObject)();Yc.Sentry&&Yc.Sentry.Integrations&&(Mc=Yc.Sentry.Integrations);var qc={...Mc,...Fo,...ws},Fc={components:Kr,core:Qr,diagnostics:eo,elements:to,io:no,services:io,startup:ao,storage:xo,stores:So,styles:Uo,subscriptions:Po,ui:Go,util:Mo,vendorComponents:Yo,vendorServices:{gtag:({config:e,io:t,window:n})=>{const{trackingId:r,enabled:o}=e.gtag,i=()=>{n.dataLayer=[],n[`ga-disable-${r}`]=!o,a("js",t.date()),a("config",r)};function a(){n.dataLayer||i(),n.dataLayer.push(arguments)}return a},sentry:({config:e})=>(qo.init&&qo.init(e.sentry),qo)}},Hc={gtag:{trackingId:"UA-34497639-2",enabled:!1},sentry:{dsn:"https://63594154fcf34c34966aec13b15e2821@o418187.ingest.sentry.io/5320412",enabled:!1},app:{name:"Agile Avatars",issues:"https://github.com/mattriley/agileavatars/issues",source:"https://github.com/mattriley/agileavatars"},author:{name:"Matt Riley",profile:"https://www.linkedin.com/in/mattrileyau/"},gravatar:{domain:"https://secure.gravatar.com",size:600,fallbacks:["robohash","monsterid","wavatar","retro","identicon","mp"],errorMessage:"An error occurred. Please check your connection and try again."},options:{layout:"modes | shapes | size | spacing | sort | outline",modes:["active","passive"],shapes:["circle","square"],shapeRadius:{circle:50,square:0},active:{min:0,max:999,step:1},passive:{min:0,max:999,step:1},size:{min:100,max:600,step:10},spacing:{min:0,max:10,step:1},sort:{orderAdded:"Order added",roleThenName:"Role, then name",name:"Name"}},tags:{layout:"tagImage | tagName roleName",imagePadding:17},roles:{nilRole:{roleName:"",color:"#ffffff"},presetColors:{BA:"#6688c3",DEV:"#48a56a",PO:"#ce4a4a",QA:"#eaaf41",TL:"#000000",XD:"#b25da6"}},debounce:{adjustTagInstanceCounts:100,sortTagList:50},storage:{stores:["settings","roles","tags","tagInstances"],defaults:{settings:{app:{modal:"welcome",nilRoleId:null},options:{sort:"orderAdded",shape:"circle",active:1,passive:0,size:170,spacing:4,outline:!0},gravatar:{fallback:"robohash",freetext:"",status:"ready",errorMessage:""}}}}};const{storage:zc,util:Wc}=Fc;const Vc=/localhost/.test(window.location.host),Xc=(({window:e,overrides:t,configs:r})=>{const{compose:o,config:i}=n(a)(Fc,{overrides:t,defaultConfig:Hc,configs:r}),{stores:s}=o("stores",{storage:zc,config:i}),{subscriptions:c}=o("subscriptions",{stores:s,util:Wc}),{core:u}=o("core",{util:Wc,config:i}),{io:l}=o("io",{window:e}),{services:p}=o("services",{subscriptions:c,stores:s,core:u,io:l,util:Wc,config:i}),{vendorServices:d}=o("vendorServices",{io:l,config:i,window:e}),{ui:f}=o("ui",{window:e}),{elements:h}=o("elements",{ui:f,util:Wc}),{vendorComponents:g}=o("vendorComponents",{ui:f,config:i,window:e}),{components:v}=o("components",{ui:f,elements:h,vendorComponents:g,vendorServices:d,services:p,subscriptions:c,util:Wc,config:i}),{styles:_}=o("styles",{ui:f,subscriptions:c,config:i});return o("diagnostics",{stores:s,util:Wc}),o("startup",{ui:f,components:v,styles:_,services:p,subscriptions:c,stores:s,util:Wc,config:i,window:e}),o.end()})({window:window,configs:[{gtag:{enabled:!Vc}},{sentry:{enabled:!Vc}}]}),{config:Kc,modules:Jc}=Xc;window.app=Xc,window.document.title=Kc.app.name;const Zc=Jc.startup.start();document.getElementById("app").append(Zc);
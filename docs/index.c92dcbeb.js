var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var r={},o={},i=e.parcelRequire63d7;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequire63d7=i),i.register("94frH",(function(e,t){var n=i("l0CXE"),r=i("XwkFr"),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c})),i.register("l0CXE",(function(e,t){var n=i("cKotg"),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();e.exports=o})),i.register("cKotg",(function(t,n){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r})),i.register("XwkFr",(function(e,t){e.exports=function(){return!1}})),i.register("f0aqH",(function(e,t){var n=i("cKotg"),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s})),i.register("bEVqM",(function(e,t){var n=i("l0CXE"),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}})),i.register("gL7ev",(function(e,n){t(e.exports,"isNodeEnv",(function(){return a}),(function(e){return a=e})),t(e.exports,"dynamicRequire",(function(){return s}),(function(e){return s=e}));var r=i("hoEGD"),o=i("3crZL");function a(){return!(0,r.isBrowserBundle)()&&"[object process]"===Object.prototype.toString.call(void 0!==o?o:0)}function s(e,t){return e.require(t)}})),i.register("hoEGD",(function(e,n){function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}t(e.exports,"isBrowserBundle",(function(){return r}))})),i.register("3crZL",(function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}})),i.register("3Wlpk",(function(e,n){t(e.exports,"dateTimestampInSeconds",(function(){return u}),(function(e){return u=e})),t(e.exports,"timestampInSeconds",(function(){return l}),(function(e){return l=e}));var r=i("k6cxq"),o=i("gL7ev"),a={nowSeconds:()=>Date.now()/1e3};var s=(0,o.isNodeEnv)()?function(){try{return(0,o.dynamicRequire)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=(0,r.getGlobalObject)();if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},u=a.nowSeconds.bind(a),l=c.nowSeconds.bind(c);let p;(()=>{const{performance:e}=(0,r.getGlobalObject)();if(e&&e.now){var t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,a=i<t,s=e.timing&&e.timing.navigationStart,c="number"==typeof s?Math.abs(s+n-o):t;return a||c<t?i<=c?(p="timeOrigin",e.timeOrigin):(p="navigationStart",s):(p="dateNow",o)}p="none"})()})),i.register("k6cxq",(function(n,r){t(n.exports,"getGlobalObject",(function(){return s})),t(n.exports,"getGlobalSingleton",(function(){return c}));var o=i("gL7ev"),a={};function s(){return(0,o.isNodeEnv)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:a}function c(e,t,n){var r=n||s(),o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}}));var a,s={},c={},u={},l={};l=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var p,d;d=(Ce=i("l0CXE")).Symbol;var f={},h={},g={},v={},_=Object.prototype,m=_.hasOwnProperty,y=_.toString,b=d?d.toStringTag:void 0;v=function(e){var t=m.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var o=y.call(e);return r&&(t?e[b]=n:delete e[b]),o};var w={},E=Object.prototype.toString;w=function(e){return E.call(e)};var k=d?d.toStringTag:void 0;g=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?v(e):w(e)};var x={};x=function(e){return null!=e&&"object"==typeof e};h=function(e){return x(e)&&"[object Arguments]"==g(e)};var S=Object.prototype,T=S.hasOwnProperty,O=S.propertyIsEnumerable,j=h(function(){return arguments}())?h:function(e){return x(e)&&T.call(e,"callee")&&!O.call(e,"callee")};f=j;var C={},N=Array.isArray;C=N;var R=d?d.isConcatSpreadable:void 0;p=function(e){return C(e)||f(e)||!!(R&&e&&e[R])},u=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=p),i||(i=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):l(i,c):o||(i[i.length]=c)}return i};c=function(e){return(null==e?0:e.length)?u(e,Infinity):[]};var D={},I={},L={},$={},B={};B=function(e){return"symbol"==typeof e||x(e)&&"[object Symbol]"==g(e)};var A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/;$=function(e,t){if(C(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!B(e))||(U.test(e)||!A.test(e)||null!=t&&e in Object(t))};var P,G,M={},Y={},q={},F={},H={},z={},W={},V={},X={};X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};V=function(e){if(!X(e))return!1;var t=g(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var K,J,Z={},Q=(Ce=i("l0CXE"))["__core-js_shared__"],ee=(J=/[^.]+$/.exec((K=Q)&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"";Z=function(e){return!!ee&&ee in e};var te={},ne=Function.prototype.toString;te=function(e){if(null!=e){try{return ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var re=/^\[object .+?Constructor\]$/,oe=Function.prototype,ie=Object.prototype,ae=oe.toString,se=ie.hasOwnProperty,ce=RegExp("^"+ae.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");W=function(e){return!(!X(e)||Z(e))&&(V(e)?ce:re).test(te(e))};var ue={};ue=function(e,t){return null==e?void 0:e[t]};var le=(z=function(e,t){var n=ue(e,t);return W(n)?n:void 0})(Object,"create");H=le,G=function(){this.__data__=H?H(null):{},this.size=0};var pe;pe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var de,fe=Object.prototype.hasOwnProperty;de=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return fe.call(t,e)?t[e]:void 0};var he,ge=Object.prototype.hasOwnProperty;he=function(e){var t=this.__data__;return H?void 0!==t[e]:ge.call(t,e)};var ve;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ve=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},_e.prototype.clear=G,_e.prototype.delete=pe,_e.prototype.get=de,_e.prototype.has=he,_e.prototype.set=ve,F=_e;var me,ye={};me=function(){this.__data__=[],this.size=0};var be,we={},Ee={};Ee=function(e,t){return e===t||e!=e&&t!=t},we=function(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1};var ke=Array.prototype.splice;be=function(e){var t=this.__data__,n=we(t,e);return!(n<0)&&(n==t.length-1?t.pop():ke.call(t,n,1),--this.size,!0)};var xe;xe=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]};var Se;Se=function(e){return we(this.__data__,e)>-1};var Te;function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Te=function(e,t){var n=this.__data__,r=we(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=me,Oe.prototype.delete=be,Oe.prototype.get=xe,Oe.prototype.has=Se,Oe.prototype.set=Te,ye=Oe;var je={},Ce=i("l0CXE"),Ne=z(Ce,"Map");je=Ne,P=function(){this.size=0,this.__data__={hash:new F,map:new(je||ye),string:new F}};var Re,De={},Ie={};Ie=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},De=function(e,t){var n=e.__data__;return Ie(t)?n["string"==typeof t?"string":"hash"]:n.map},Re=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t};var Le;Le=function(e){return De(this,e).get(e)};var $e;$e=function(e){return De(this,e).has(e)};var Be;function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Be=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ae.prototype.clear=P,Ae.prototype.delete=Re,Ae.prototype.get=Le,Ae.prototype.has=$e,Ae.prototype.set=Be,q=Ae;function Ue(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ue.Cache||q),n}Ue.Cache=q,Y=Ue;var Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ge=/\\(\\)?/g,Me=function(e){var t=Y(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pe,(function(e,n,r,o){t.push(r?o.replace(Ge,"$1"):n||e)})),t}));M=Me;var Ye={},qe={},Fe={};Fe=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var He=d?d.prototype:void 0,ze=He?He.toString:void 0;qe=function e(t){if("string"==typeof t)return t;if(C(t))return Fe(t,e)+"";if(B(t))return ze?ze.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},Ye=function(e){return null==e?"":qe(e)},L=function(e,t){return C(e)?e:$(e,t)?[e]:M(Ye(e))};var We={};We=function(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},I=function(e,t){for(var n=0,r=(t=L(t,e)).length;null!=e&&n<r;)e=e[We(t[n++])];return n&&n==r?e:void 0},D=function(e,t,n){var r=null==e?void 0:I(e,t);return void 0===r?n:r};var Ve,Xe,Ke=Object.prototype.hasOwnProperty;Xe=function(e,t){return null!=e&&Ke.call(e,t)};var Je={},Ze={},Qe=/^(?:0|[1-9]\d*)$/;Ze=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qe.test(e))&&e>-1&&e%1==0&&e<t};var et={};et=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Je=function(e,t,n){for(var r=-1,o=(t=L(t,e)).length,i=!1;++r<o;){var a=We(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&et(o)&&Ze(a,o)&&(C(e)||f(e))},Ve=function(e,t){return null!=e&&Je(e,t,Xe)};var tt,nt,rt={};rt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var ot={};ot=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var it={},at={};at=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},it=function(e,t){return t.length<2?e:I(e,at(t,0,-1))},nt=function(e,t,n){t=L(t,e);var r=null==(e=it(e,t))?e:e[We(ot(t))];return null==r?void 0:rt(r,e,n)};var st,ct={};st=function(e){return e};var ut={},lt=Math.max;ut=function(e,t,n){return t=lt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=lt(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),rt(e,this,s)}};var pt,dt={},ft={};ft=function(e){return function(){return e}};var ht={},gt=function(){try{var e=z(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();pt=(ht=gt)?function(e,t){return ht(e,"toString",{configurable:!0,enumerable:!1,value:ft(t),writable:!0})}:st;var vt=Date.now;var _t=function(e){var t=0,n=0;return function(){var r=vt(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(pt);dt=_t,tt=(ct=function(e,t){return dt(ut(e,t,st),e+"")})(nt);var mt={},yt={},bt={};var wt=(bt=function(e,t){return function(n){return e(t(n))}})(Object.getPrototypeOf,Object);yt=wt;var Et=Function.prototype,kt=Object.prototype,xt=Et.toString,St=kt.hasOwnProperty,Tt=xt.call(Object);mt=function(e){if(!x(e)||"[object Object]"!=g(e))return!1;var t=yt(e);if(null===t)return!0;var n=St.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xt.call(n)==Tt};var Ot,jt={};jt=function(e,t,n){"__proto__"==t&&ht?ht(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Ct={},Nt={};var Rt=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();Nt=Rt;var Dt={},It={},Lt={};Lt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var $t,Bt=i("94frH"),At={},Ut={};Ut["[object Float32Array]"]=Ut["[object Float64Array]"]=Ut["[object Int8Array]"]=Ut["[object Int16Array]"]=Ut["[object Int32Array]"]=Ut["[object Uint8Array]"]=Ut["[object Uint8ClampedArray]"]=Ut["[object Uint16Array]"]=Ut["[object Uint32Array]"]=!0,Ut["[object Arguments]"]=Ut["[object Array]"]=Ut["[object ArrayBuffer]"]=Ut["[object Boolean]"]=Ut["[object DataView]"]=Ut["[object Date]"]=Ut["[object Error]"]=Ut["[object Function]"]=Ut["[object Map]"]=Ut["[object Number]"]=Ut["[object Object]"]=Ut["[object RegExp]"]=Ut["[object Set]"]=Ut["[object String]"]=Ut["[object WeakMap]"]=!1,$t=function(e){return x(e)&&et(e.length)&&!!Ut[g(e)]};var Pt={};Pt=function(e){return function(t){return e(t)}};var Gt=i("f0aqH"),Mt=Gt&&Gt.isTypedArray,Yt=Mt?Pt(Mt):$t;At=Yt;var qt=Object.prototype.hasOwnProperty;It=function(e,t){var n=C(e),r=!n&&f(e),o=!n&&!r&&Bt(e),i=!n&&!r&&!o&&At(e),a=n||r||o||i,s=a?Lt(e.length,String):[],c=s.length;for(var u in e)!t&&!qt.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ze(u,c))||s.push(u);return s};var Ft={},Ht={},zt=Object.prototype;Ht=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||zt)};var Wt={},Vt=bt(Object.keys,Object);Wt=Vt;var Xt=Object.prototype.hasOwnProperty;Ft=function(e){if(!Ht(e))return Wt(e);var t=[];for(var n in Object(e))Xt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Kt={};Kt=function(e){return null!=e&&et(e.length)&&!V(e)},Dt=function(e){return Kt(e)?It(e):Ft(e)},Ct=function(e,t){return e&&Nt(e,t,Dt)};var Jt,Zt={},Qt={},en={},tn={};Jt=function(){this.__data__=new ye,this.size=0};var nn;nn=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var rn;rn=function(e){return this.__data__.get(e)};var on;on=function(e){return this.__data__.has(e)};var an;function sn(e){var t=this.__data__=new ye(e);this.size=t.size}an=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!je||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new q(r)}return n.set(e,t),this.size=n.size,this},sn.prototype.clear=Jt,sn.prototype.delete=nn,sn.prototype.get=rn,sn.prototype.has=on,sn.prototype.set=an,tn=sn;var cn,un={},ln={},pn={},dn={};cn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var fn;function hn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new q;++t<n;)this.add(e[t])}fn=function(e){return this.__data__.has(e)},hn.prototype.add=hn.prototype.push=cn,hn.prototype.has=fn,dn=hn;var gn={};gn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var vn={};vn=function(e,t){return e.has(t)};pn=function(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var p=-1,d=!0,f=2&n?new dn:void 0;for(i.set(e,t),i.set(t,e);++p<s;){var h=e[p],g=t[p];if(r)var v=a?r(g,h,p,t,e,i):r(h,g,p,e,t,i);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!gn(t,(function(e,t){if(!vn(f,t)&&(h===e||o(h,e,n,r,i)))return f.push(t)}))){d=!1;break}}else if(h!==g&&!o(h,g,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d};var _n={},mn={},yn=(Ce=i("l0CXE")).Uint8Array;mn=yn;var bn;bn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var wn;wn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var En=d?d.prototype:void 0,kn=En?En.valueOf:void 0;_n=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new mn(e),new mn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=bn;case"[object Set]":var c=1&r;if(s||(s=wn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=pn(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(kn)return kn.call(e)==kn.call(t)}return!1};var xn={},Sn={},Tn={};Tn=function(e,t,n){var r=t(e);return C(e)?r:l(r,n(e))};var On,jn={};jn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Cn;Cn=function(){return[]};var Nn=Object.prototype.propertyIsEnumerable,Rn=Object.getOwnPropertySymbols;On=Rn?function(e){return null==e?[]:(e=Object(e),jn(Rn(e),(function(t){return Nn.call(e,t)})))}:Cn,Sn=function(e){return Tn(e,Dt,On)};var Dn=Object.prototype.hasOwnProperty;xn=function(e,t,n,r,o,i){var a=1&n,s=Sn(e),c=s.length;if(c!=Sn(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Dn.call(t,l)))return!1}var p=i.get(e),d=i.get(t);if(p&&d)return p==t&&d==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<c;){var g=e[l=s[u]],v=t[l];if(r)var _=a?r(v,g,l,t,e,i):r(g,v,l,e,t,i);if(!(void 0===_?g===v||o(g,v,n,r,i):_)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var m=e.constructor,y=t.constructor;m==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f};var In={},Ln={};Ce=i("l0CXE");Ln=z(Ce,"DataView");var $n={};Ce=i("l0CXE");$n=z(Ce,"Promise");var Bn={};Ce=i("l0CXE");Bn=z(Ce,"Set");var An={};Ce=i("l0CXE");An=z(Ce,"WeakMap");var Un=te(Ln),Pn=te(je),Gn=te($n),Mn=te(Bn),Yn=te(An),qn=g;(Ln&&"[object DataView]"!=qn(new Ln(new ArrayBuffer(1)))||je&&"[object Map]"!=qn(new je)||$n&&"[object Promise]"!=qn($n.resolve())||Bn&&"[object Set]"!=qn(new Bn)||An&&"[object WeakMap]"!=qn(new An))&&(qn=function(e){var t=g(e),n="[object Object]"==t?e.constructor:void 0,r=n?te(n):"";if(r)switch(r){case Un:return"[object DataView]";case Pn:return"[object Map]";case Gn:return"[object Promise]";case Mn:return"[object Set]";case Yn:return"[object WeakMap]"}return t}),In=qn;Bt=i("94frH");var Fn=Object.prototype.hasOwnProperty;ln=function(e,t,n,r,o,i){var a=C(e),s=C(t),c=a?"[object Array]":In(e),u=s?"[object Array]":In(t),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=c==u;if(d&&Bt(e)){if(!Bt(t))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new tn),a||At(e)?pn(e,t,n,r,o,i):_n(e,t,c,n,r,o,i);if(!(1&n)){var f=l&&Fn.call(e,"__wrapped__"),h=p&&Fn.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new tn),o(g,v,n,r,i)}}return!!d&&(i||(i=new tn),xn(e,t,n,r,o,i))},un=function e(t,n,r,o,i){return t===n||(null==t||null==n||!x(t)&&!x(n)?t!=t&&n!=n:ln(t,n,r,o,e,i))};en=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var p=new tn;if(r)var d=r(u,l,c,e,t,p);if(!(void 0===d?un(l,u,3,r,p):d))return!1}}return!0};var Hn={},zn={};zn=function(e){return e==e&&!X(e)},Hn=function(e){for(var t=Dt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,zn(o)]}return t};var Wn={};Wn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},Qt=function(e){var t=Hn(e);return 1==t.length&&t[0][2]?Wn(t[0][0],t[0][1]):function(n){return n===e||en(n,e,t)}};var Vn,Xn={},Kn={};Vn=function(e,t){return null!=e&&t in Object(e)},Kn=function(e,t){return null!=e&&Je(e,t,Vn)};Xn=function(e,t){return $(e)&&zn(t)?Wn(We(e),t):function(n){var r=D(n,e);return void 0===r&&r===t?Kn(n,e):un(t,r,3)}};var Jn={},Zn={};Zn=function(e){return function(t){return null==t?void 0:t[e]}};var Qn={};Qn=function(e){return function(t){return I(t,e)}},Jn=function(e){return $(e)?Zn(We(e)):Qn(e)},Zt=function(e){return"function"==typeof e?e:null==e?st:"object"==typeof e?C(e)?Xn(e[0],e[1]):Qt(e):Jn(e)},Ot=function(e,t){var n={};return t=Zt(t,3),Ct(e,(function(e,r,o){jt(n,r,t(e,r,o))})),n};var er={},tr={},nr={};nr=function(e,t,n){(void 0!==n&&!Ee(e[t],n)||void 0===n&&!(t in e))&&jt(e,t,n)};var rr={},or=i("bEVqM"),ir={},ar={};ar=function(e){var t=new e.constructor(e.byteLength);return new mn(t).set(new mn(e)),t},ir=function(e,t){var n=t?ar(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var sr={};sr=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var cr={},ur={},lr=Object.create,pr=function(){function e(){}return function(t){if(!X(t))return{};if(lr)return lr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();ur=pr,cr=function(e){return"function"!=typeof e.constructor||Ht(e)?{}:ur(yt(e))};var dr={};dr=function(e){return x(e)&&Kt(e)};Bt=i("94frH");var fr={};fr=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var hr={},gr={},vr={},_r=Object.prototype.hasOwnProperty;vr=function(e,t,n){var r=e[t];_r.call(e,t)&&Ee(r,n)&&(void 0!==n||t in e)||jt(e,t,n)},gr=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?jt(n,s,c):vr(n,s,c)}return n};var mr={},yr={},br={};br=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var wr=Object.prototype.hasOwnProperty;yr=function(e){if(!X(e))return br(e);var t=Ht(e),n=[];for(var r in e)("constructor"!=r||!t&&wr.call(e,r))&&n.push(r);return n},mr=function(e){return Kt(e)?It(e,!0):yr(e)},hr=function(e){return gr(e,mr(e))},rr=function(e,t,n,r,o,i,a){var s=fr(e,n),c=fr(t,n),u=a.get(c);if(u)nr(e,n,u);else{var l=i?i(s,c,n+"",e,t,a):void 0,p=void 0===l;if(p){var d=C(c),h=!d&&Bt(c),g=!d&&!h&&At(c);l=c,d||h||g?C(s)?l=s:dr(s)?l=sr(s):h?(p=!1,l=or(c,!0)):g?(p=!1,l=ir(c,!0)):l=[]:mt(c)||f(c)?(l=s,f(s)?l=hr(s):X(s)&&!V(s)||(l=cr(c))):p=!1}p&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),nr(e,n,l)}},tr=function e(t,n,r,o,i){t!==n&&Nt(n,(function(a,s){if(i||(i=new tn),X(a))rr(t,n,s,r,e,o,i);else{var c=o?o(fr(t,s),a,s+"",t,n,i):void 0;void 0===c&&(c=a),nr(t,s,c)}}),mr)};var Er={};Er=function(e,t,n){if(!X(n))return!1;var r=typeof t;return!!("number"==r?Kt(n)&&Ze(t,n.length):"string"==r&&t in n)&&Ee(n[t],e)};var kr=function(e){return ct((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Er(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}((function(e,t,n){tr(e,t,n)}));er=kr;var xr={},Sr={},Tr={},Or={};Or=function(e,t,n,r){if(!X(e))return e;for(var o=-1,i=(t=L(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var c=We(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=X(l)?l:Ze(t[o+1])?[]:{})}vr(s,c,u),s=s[c]}return e},Tr=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=I(e,a);n(s,a)&&Or(i,L(a,e),s)}return i},Sr=function(e,t){return Tr(e,t,(function(t,n){return Kn(e,n)}))};var jr;jr=function(e){return(null==e?0:e.length)?u(e,1):[]};var Cr=function(e){return dt(ut(e,void 0,jr),e+"")}((function(e,t){return null==e?{}:Sr(e,t)}));xr=Cr;var Nr;Nr=function(e,t,n){return null==e?e:Or(e,t,n)};var Rr={};Rr=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:at(e,t,n)};var Dr={},Ir=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Dr=function(e){return Ir.test(e)};var Lr={},$r={};$r=function(e){return e.split("")};var Br={},Ar="[\ud800-\udfff]",Ur="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pr="[^\ud800-\udfff]",Gr="(?:\ud83c[\udde6-\uddff]){2}",Mr="[\ud800-\udbff][\udc00-\udfff]",Yr="(?:"+Ur+"|\ud83c[\udffb-\udfff])"+"?",qr="[\\ufe0e\\ufe0f]?"+Yr+("(?:\\u200d(?:"+[Pr,Gr,Mr].join("|")+")[\\ufe0e\\ufe0f]?"+Yr+")*"),Fr="(?:"+[Pr+Ur+"?",Ur,Gr,Mr,Ar].join("|")+")",Hr=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Fr+qr,"g");Br=function(e){return e.match(Hr)||[]},Lr=function(e){return Dr(e)?Br(e):$r(e)};var zr=function(e){return function(t){t=Ye(t);var n=Dr(t)?Lr(t):void 0,r=n?n[0]:t.charAt(0),o=n?Rr(n,1).join(""):t.slice(1);return r[e]()+o}}("toUpperCase");const Wr=(e,t)=>Object.values(xr(e,t));s={get:D,has:Ve,invoke:tt,isPlainFunction:e=>V(e)&&!(e.prototype&&e.prototype.constructor===e),isPlainObject:mt,mapValues:Ot,merge:er,mergeValues:(e,t,n)=>er(e,...c(Wr(t,n))),set:Nr,upperFirst:zr};var Vr,Xr={};function Kr(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Jr(e){return e}function Zr(e,t){const n=(t=t||{}).delimiter||".",r=t.maxDepth,o=t.transformKey||Jr,i={};return function e(a,s,c){c=c||1,Object.keys(a).forEach((function(u){const l=a[u],p=t.safe&&Array.isArray(l),d=Object.prototype.toString.call(l),f=Kr(l),h="[object Object]"===d||"[object Array]"===d,g=s?s+n+o(u):o(u);if(!p&&!f&&h&&Object.keys(l).length&&(!t.maxDepth||c<r))return e(l,g,c+1);i[g]=l}))}(e),i}Xr=Zr,Zr.flatten=Zr,Zr.unflatten=function e(t,n){const r=(n=n||{}).delimiter||".",o=n.overwrite||!1,i=n.transformKey||Jr,a={};if(Kr(t)||"[object Object]"!==Object.prototype.toString.call(t))return t;function s(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||n.object?e:t}return t=Object.keys(t).reduce((function(e,o){const i=Object.prototype.toString.call(t[o]);return!("[object Object]"===i||"[object Array]"===i)||function(e){const t=Object.prototype.toString.call(e),n="[object Array]"===t,r="[object Object]"===t;if(!e)return!0;if(n)return!e.length;if(r)return!Object.keys(e).length}(t[o])?(e[o]=t[o],e):(a=o,s=e,c=Zr(t[o],n),Object.keys(c).reduce((function(e,t){return e[a+r+t]=c[t],e}),s));var a,s,c}),{}),Object.keys(t).forEach((function(c){const u=c.split(r).map(i);let l=s(u.shift()),p=s(u[0]),d=a;for(;void 0!==p;){if("__proto__"===l)return;const e=Object.prototype.toString.call(d[l]),t="[object Object]"===e||"[object Array]"===e;if(!o&&!t&&void 0!==d[l])return;(o&&!t||!o&&null==d[l])&&(d[l]="number"!=typeof p||n.object?{}:[]),d=d[l],u.length>0&&(l=s(u.shift()),p=s(u[0]))}d[l]=e(t[c],n)})),a},Vr=(e,t)=>{const n=Object.keys(t),r=Object.entries(t).flatMap((([t,n])=>{const r=t.split(".").pop(),o=Object.keys(Xr({[r]:s.get(e,t)}));return["",`const ${r} = { ...modules.${t} };`,`const ${r}Dependencies = { ${[r,...n].join(", ")} };`,...o.map((e=>`${e} = ${e}({ ...${r}Dependencies });`))]})).concat("",`return { ${["...modules",...n.map((e=>e.split(".").pop()))].join(", ")} };`,"");return[`(modules, { ${Array.from(new Set(Object.values(t).flat())).filter((t=>!e[t])).join(", ")} }) => {`,`${r.map((e=>" ".repeat(e?4:0)+e)).join("\n")}`,"};"].join("\n")};var Qr;Qr=(e,t={})=>{const{omit:n=[]}=t;return["graph TD;",...Object.entries(e).flatMap((e=>e[1].map((t=>[e[0],t])))).filter((e=>!e.some((e=>n.includes(e))))).map((e=>`    ${e.join("--\x3e")};`))].join("\n")};var eo;eo={stats:!0,configKeys:["defaultConfig","config","configs"],customiser:"setup",defaults:{},overrides:{}},a=(e,t={})=>{let n=!1;const r=s.merge({},eo,t),o=s.mergeValues({},r,r.configKeys),i={defaultOptions:eo,userOptions:t,options:r,config:o,target:e,modules:{...e},dependencies:s.mapValues(e,(()=>[])),composedDependencies:{},stats:{totalDuration:0,modules:{}},mermaid:e=>Qr(i.dependencies,e),eject:()=>Vr(e,i.composedDependencies)},a=(e,t,n)=>{if(!s.isPlainObject(e))return e;const r={};n=s.set({...n},t,r);return Object.assign(r,s.mapValues(e,((e,t)=>s.isPlainFunction(e)?e(n):a(e,t,n))))},c=(t,o={})=>{if(n)throw new Error("Composition has ended");if(!t)throw new Error("key is required");if(!s.has(e,t))throw new Error(`${t} not found`);if(i.composedDependencies[t])throw new Error(`${t} already composed`);o={...r.defaults,...o};const c=a(s.get(e,t),t,o),u=s.invoke(c,r.customiser,c)??c,l=s.merge({},u,s.get(r.overrides,t));return s.set(i.modules,t,l),i.dependencies[t]=i.composedDependencies[t]=Object.keys(o),i.modules},u=r.stats?(e,t={})=>{const n=performance.now(),r=c(e,t),o=performance.now()-n;return s.set(i.stats.modules,[e,"duration"],o),i.stats.totalDuration+=o,r}:c;return Object.assign(u,i,{end:()=>(n=!0,i)}),{compose:u,config:o}};var to={app:({ui:e,components:t,vendorComponents:n,subscriptions:r})=>()=>{const o=Object.values(t.modals).map((e=>e())),i=e.el("div","app").append(n.gtagScript(),e.el("div","modals").append(...o),t.header.container(),t.dropzone().append(e.el("div","control-panel").append(t.imageUploadOptions.container(),t.roleList.container(),t.optionsBar.container()),t.tagList.container()));return r.settings.onChange("app","modal",(t=>{e.toggleBoolClass(i,"modal",t)})),i},dropzone:({elements:e,services:t})=>()=>e.dropzone().addEventListener("drop",(e=>{t.tags.insertFileBatchAsync(e.dataTransfer.files)})),gravatar:{actions:{container:({ui:e,actions:t})=>()=>e.el("div").append(t.importButton(),t.loading(),t.error()),error:({ui:e,services:t,subscriptions:n})=>()=>{const r=e.el("div","error-message"),o=e.el("a","dismiss",{textContent:"Dismiss"}).addEventListener("click",t.gravatar.status.to.ready),i=e.el("div","error").append(r,o);return n.settings.onChange("gravatar","status",(()=>{e.toggleBoolClass(i,"visible",t.gravatar.status.is.error())})),n.settings.onChange("gravatar","errorMessage",(e=>{r.textContent=e})),i},importButton:({ui:e,services:t,subscriptions:n})=>()=>{const r=e.el("button","import",{textContent:"Import"}).addEventListener("click",(()=>{const{emails:e,fallback:n}=t.settings.getGravatar();t.tags.insertGravatarBatchAsync(e,n)}));return n.settings.onChange("gravatar","status",(()=>{e.toggleBoolClass(r,"visible",t.gravatar.status.is.ready())})),n.settings.onChange("gravatar","freetext",(e=>{r.disabled=!e.trim()})),r},loading:({ui:e,services:t,subscriptions:n})=>()=>{const r=e.el("div","loading-indicator lds-dual-ring");return n.settings.onChange("gravatar","status",(()=>{e.toggleBoolClass(r,"visible",t.gravatar.status.is.working())})),r}},content:{container:({ui:e,content:t})=>()=>e.el("div","gravatar").append(t.freetext(),t.fallbacks()),fallback:({ui:e,services:t,subscriptions:n})=>r=>{const o=e.el("img","fallback",{title:r,src:`img/gravatar-fallbacks/${r}.png`}).addEventListener("click",(()=>{t.gravatar.changeFallback(r)}));return n.settings.onChange("gravatar","fallback",(t=>{e.toggleBoolClass(o,"selected",r===t)})),o},fallbacks:({ui:e,content:t,elements:n,config:r})=>()=>{const o=r.gravatar.fallbacks.map(t.fallback),i=e.el("div").append(...o);return n.label("Select a generated image style to use in case profile image is not found.",i)},freetext:({ui:e,services:t,subscriptions:n,elements:r})=>()=>{const o=e.el("textarea","freetext").addEventListener("input",(()=>{t.gravatar.changeFreetext(o.value)}));n.settings.onChange("gravatar","freetext",(e=>{o.value=e})),n.settings.onChange("gravatar","status",(()=>{o.disabled=t.gravatar.status.is.working()}));return r.label("Email addresses:",o)}},title:({ui:e})=>()=>{const t=e.el("span","gravatar-title",{textContent:"Import images from Gravatar"}),n=e.el("a","about-gravatar",{text:"What is Gravatar?",href:"https://en.gravatar.com/support/what-is-gravatar/",target:"_blank"});return e.el("div").append(t,n)}},header:{container:({ui:e,header:t})=>()=>e.el("header").append(t.titleBar()),titleBar:({services:e,ui:t,config:n})=>()=>{const r=t.el("a","tips",{textContent:"Tips & tricks"}).addEventListener("click",(()=>{e.settings.changeModal("tips")})),o=t.el("a",{textContent:"Send feedback",target:"_blank",href:n.app.issues}),i=t.el("a",{textContent:"Source code",target:"_blank",href:n.app.source}),a=t.el("dev-bar").append(r,o,i);return a.setAttribute("app-name",n.app.name),a}},imageUploadOptions:{chooseImages:({ui:e,services:t})=>()=>{const n=e.el("input",{type:"file",multiple:!0,accept:"image/*"}).addEventListener("change",(e=>{t.tags.insertFileBatchAsync(e.target.files)})),r=e.el("a",{textContent:"Choose images"}).addEventListener("click",(e=>{e.preventDefault(),n.click(),e.fileInput=n}));return e.el("span").append(r)},container:({ui:e,imageUploadOptions:t})=>()=>e.el("div","image-upload-options").append(e.el("span",{textContent:"Drag & drop images"}),t.chooseImages(),t.gravatar()),gravatar:({ui:e,services:t,vendorServices:n})=>()=>e.el("a",{textContent:"Import images from Gravatar"}).addEventListener("click",(()=>{n.gtag("event","gravatar-clicked"),t.settings.changeModal("gravatar")}))},modal:({elements:e,services:t,subscriptions:n})=>({name:r,title:o,content:i,actions:a})=>e.modal({title:o,content:i,actions:a,onVisibilityChange:e=>{n.settings.onChange("app","modal",(t=>{e(t===r)}))}}).addEventListener("dismiss",t.settings.clearModal),modals:{gravatar:({components:e})=>()=>e.modal({name:"gravatar",title:e.gravatar.title(),content:e.gravatar.content.container(),actions:e.gravatar.actions.container()}),tips:({ui:e,components:t})=>()=>{const{roleShortcut:n,naming:r,images:o,laminating:i,multiples:a,badges:s}=t.tips,c=[n,r,o,i,a,s],u=e.el("div","tips");return c.forEach((t=>{const n=t();n.className="tip";const r=e.el("div","heading",{textContent:n.title});n.prepend(r),u.append(n)})),t.modal({name:"tips",content:u,title:"Tips & tricks"})},welcome:({ui:e,components:t,services:n,config:r})=>()=>{const o=e.el("h1","welcome-title",{textContent:`Welcome to ${r.app.name}`}),i=e.el("img",{src:"img/welcome.png",width:800}),a=e.el("button",{textContent:"Continue"});a.addEventListener("click",n.settings.clearModal);const s=e.el("div","welcome").append(o,i);return t.modal({name:"welcome",content:s,actions:a})}},optionsBar:{container:({components:e,elements:t,subscriptions:n,ui:r,config:o})=>()=>{const i=t.layout({layout:o.options.layout,components:e.optionsBar.options});return i.className="options-bar visible-false",n.tags.onFirstInsert((()=>{r.toggleBoolClass(i,"visible",!0)})),i},numberOption:({elements:e,services:t,subscriptions:n,util:r,config:o})=>i=>{const{min:a,max:s,step:c}=o.options[i],u=e.number({min:a,max:s,step:c}).addEventListener("change",(e=>{t.settings.changeOption(i,parseInt(e.target.value))}));n.settings.onChange("options",i,(e=>{u.value=e}));const l=r.upperFirst(i);return e.label(l,u)},options:{modes:({ui:e,components:t,config:n})=>()=>{const r=n.options.modes.map(t.optionsBar.numberOption);return e.el("span").append(...r)},outline:({ui:e,elements:t,services:n,subscriptions:r})=>()=>{const o=e.el("input",{type:"checkbox"}).addEventListener("change",(()=>{n.settings.changeOption("outline",o.checked)}));return r.settings.onChange("options","outline",(e=>{o.checked=e})),t.label(o,"Show outline")},shapes:({ui:e,components:t,config:n})=>()=>{const r=n.options.shapes.map(t.optionsBar.shapeOption);return e.el("span").append(...r)},size:({components:e})=>()=>e.optionsBar.numberOption("size"),sort:({ui:e,elements:t,services:n,subscriptions:r,config:o})=>()=>{const i=Object.entries(o.options.sort).map((([t,n])=>e.el("option",{value:t,textContent:n}))),a=e.el("select").append(...i).addEventListener("change",(()=>{n.settings.changeOption("sort",a.value)}));return r.settings.onChange("options","sort",(e=>{a.value=e})),t.label("Keep sorted by",a)},spacing:({components:e})=>()=>e.optionsBar.numberOption("spacing")},shapeOption:({ui:e,subscriptions:t,services:n,config:r})=>o=>{const i=e.el("span","shape-option",{title:`Change shape to ${o}`,tabIndex:0}).addEventListener("click",(()=>{n.settings.changeOption("shape",o)})).addEventListener("keydown",(e=>{["Enter","Space"].includes(e.code)&&(i.click(),e.preventDefault())})),a=r.options.shapeRadius[o]||0;return i.style.borderRadius=`${a}%`,t.settings.onChange("options","shape",(t=>{e.toggleBoolClass(i,"selected",o===t)})),i}},roleList:{container:({ui:e,roleList:t,subscriptions:n})=>()=>{const r=e.el("div","role-list visible-false");return n.roles.onInsert((e=>{const n=t.roleCustomiser.container(e);r.append(n)})),n.roles.onFirstInsert((()=>{e.toggleBoolClass(r,"visible",!0)})),r},roleCustomiser:{container:({ui:e,roleCustomiser:t,services:n})=>r=>{const o=t.masterRoleName(r),i=t.roleColorPicker(r),a=n.roles.isNilRole(r);return e.el("span",`role-customiser role${r}`,{hidden:a}).append(o,i)},masterRoleName:({elements:e,services:t,subscriptions:n})=>r=>{const o=e.editableSpan(`role-name role${r}`).addEventListener("change",(()=>{t.roles.changeRoleName(r,o.textContent)}));return n.roles.onChange(r,"roleName",(e=>{o.textContent=e})),o},roleColorPicker:({ui:e,vendorComponents:t,services:n})=>r=>{const o=n.roles.getRole(r);return t.vanillaPicker({parent:e.el("div","color-picker"),color:o.color,onChange:e=>n.roles.changeRoleColor(r,e.hex)})}}},tagList:{container:({ui:e,tagList:t,services:n,subscriptions:r,util:o,config:i})=>()=>{const a=new Map,s=e.el("div","tag-list");r.tagInstances.onInsert((e=>{const n=t.tag.container(e);a.set(e,n),s.append(n),u()})),r.tagInstances.onBeforeRemove((e=>{a.get(e).remove(),a.delete(e)}));const c=()=>{e.refocus((()=>{n.tags.sortTagInstances().forEach((e=>{s.append(a.get(e.id))}))}))},u=o.debounce(c,i.debounce.sortTagList);return r.settings.onChange("options","sort",c),r.tagInstances.onChangeAny("tagName",u),r.tagInstances.onChangeAny("roleName",u),s},tag:{components:{roleName:({elements:e,services:t,subscriptions:n})=>r=>{const o=e.editableSpan("role-name").addEventListener("change",(()=>{t.tags.changeTagRole(r,o.textContent)}));return n.tagInstances.onChange(r,"roleName",(e=>{o.textContent=e})),o},tagImage:({ui:e})=>()=>e.el("div","tag-image"),tagName:({elements:e,services:t,subscriptions:n})=>r=>{const o=e.editableSpan("tag-name").addEventListener("change",(()=>{t.tags.changeTagName(r,o.textContent)}));return n.tagInstances.onChange(r,"tagName",(e=>{o.textContent=e})),o}},container:({ui:e,tag:t,elements:n,services:r,subscriptions:o,config:i})=>a=>{const s=n.layout({layout:i.tags.layout,components:t.components,componentArgs:[a]}),c=e.el("div").append(s);return o.tagInstances.onChange(a,"roleId",((e,{tagId:t,mode:n})=>{const o=r.roles.isNilRole(e);c.className=`tag tag${t} role${e} nil-role-${o} ${n}`})),c}}},tips:{badges:({ui:e})=>()=>e.el("div",{title:"Blocked and other badges",innerHTML:"\n            <p>Create blocked and other badges in the same way as avatars.</p>\n            <img src='img/tips/blocked-risk.png' />\n        "}),images:({ui:e})=>()=>e.el("div",{title:"Images",innerHTML:"\n            <p>\n                Have you ever joined a new team and struggled to remember everyone's names?\n                You're not alone! Profile <mark>photos are the most effective</mark> way to identify people.\n                Cartoon characters may be cute, but unless your team never changes, they're unhelpful.\n            </p>            \n            <p>            \n                For a better looking result, <mark>make sure your images are square</mark> in shape.\n            </p>"}),laminating:({ui:e})=>()=>e.el("div",{title:"Laminating",innerHTML:"\n            <p>\n                For a more durable result, <mark>cut out the tags before your laminate them</mark>.\n                Keeping a small lip around the edges helps maintain adhesion.\n            </p>"}),multiples:({ui:e})=>()=>e.el("div","multiples",{title:"Multiples",innerHTML:'\n            <p>\n                Only needing a single avatar per team member may be a sign that user stories are well defined,\n                and that team members can take stories to completion without context switching.\n                It also makes it easier to gauge who is focused on what and can serve as a natural WIP limit for the\n                team.\n                See <a target="_blank" href="https://en.wikipedia.org/wiki/INVEST_(mnemonic)">INVEST</a> for\n                characteristics of good quality user stories.\n            </p>\n\n            <p>\n                If multiples are really needed, consider one <mark>active</mark>, and one or more <mark>passive</mark>\n                avatars for each team member.\n                The active avatar indicates what a team member is focused on, while\n                the passive avatar may be used to indicate the team member is across an activity which has\n                become blocked, dependent on another team, or otherwise only requires ad hoc attention.\n            </p>\n            \n            <img src=\'img/tips/active-passive.png\' />\n        '}),naming:({ui:e})=>()=>e.el("div",{title:"Naming",innerHTML:"\n            <p>\n                Prefer <mark>short names</mark> and <mark>abbreviated roles</mark>. \n                Less is more. Use just enough detail to identify people at a glance.\n                Avoid full names and position titles if possible.\n            </p>"}),roleShortcut:({ui:e})=>()=>e.el("div",{title:"Role shortcut",innerHTML:"\n            <p>Roles can be set quickly by appending <mark>+role</mark> to a name. This applies to:</p>\n\n            <ul>\n                <li>File names, e.g. matt+dev.jpg</li>\n                <li>Directly on the name field of each tag, e.g. matt+dev</li>\n                <li>Gravatar emails, e.g. matt@fakemail.com+dev</li>\n            </ul>\n        "})}},no={};!function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,o,i,a){return t((s=t(t(n,e),t(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function r(e,t,r,o,i,a,s){return n(t&r|~t&o,e,t,i,a,s)}function o(e,t,r,o,i,a,s){return n(t&o|r&~o,e,t,i,a,s)}function i(e,t,r,o,i,a,s){return n(t^r^o,e,t,i,a,s)}function a(e,t,r,o,i,a,s){return n(r^(t|~o),e,t,i,a,s)}function s(e,n){var s,c,u,l,p;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var d=1732584193,f=-271733879,h=-1732584194,g=271733878;for(s=0;s<e.length;s+=16)c=d,u=f,l=h,p=g,d=r(d,f,h,g,e[s],7,-680876936),g=r(g,d,f,h,e[s+1],12,-389564586),h=r(h,g,d,f,e[s+2],17,606105819),f=r(f,h,g,d,e[s+3],22,-1044525330),d=r(d,f,h,g,e[s+4],7,-176418897),g=r(g,d,f,h,e[s+5],12,1200080426),h=r(h,g,d,f,e[s+6],17,-1473231341),f=r(f,h,g,d,e[s+7],22,-45705983),d=r(d,f,h,g,e[s+8],7,1770035416),g=r(g,d,f,h,e[s+9],12,-1958414417),h=r(h,g,d,f,e[s+10],17,-42063),f=r(f,h,g,d,e[s+11],22,-1990404162),d=r(d,f,h,g,e[s+12],7,1804603682),g=r(g,d,f,h,e[s+13],12,-40341101),h=r(h,g,d,f,e[s+14],17,-1502002290),d=o(d,f=r(f,h,g,d,e[s+15],22,1236535329),h,g,e[s+1],5,-165796510),g=o(g,d,f,h,e[s+6],9,-1069501632),h=o(h,g,d,f,e[s+11],14,643717713),f=o(f,h,g,d,e[s],20,-373897302),d=o(d,f,h,g,e[s+5],5,-701558691),g=o(g,d,f,h,e[s+10],9,38016083),h=o(h,g,d,f,e[s+15],14,-660478335),f=o(f,h,g,d,e[s+4],20,-405537848),d=o(d,f,h,g,e[s+9],5,568446438),g=o(g,d,f,h,e[s+14],9,-1019803690),h=o(h,g,d,f,e[s+3],14,-187363961),f=o(f,h,g,d,e[s+8],20,1163531501),d=o(d,f,h,g,e[s+13],5,-1444681467),g=o(g,d,f,h,e[s+2],9,-51403784),h=o(h,g,d,f,e[s+7],14,1735328473),d=i(d,f=o(f,h,g,d,e[s+12],20,-1926607734),h,g,e[s+5],4,-378558),g=i(g,d,f,h,e[s+8],11,-2022574463),h=i(h,g,d,f,e[s+11],16,1839030562),f=i(f,h,g,d,e[s+14],23,-35309556),d=i(d,f,h,g,e[s+1],4,-1530992060),g=i(g,d,f,h,e[s+4],11,1272893353),h=i(h,g,d,f,e[s+7],16,-155497632),f=i(f,h,g,d,e[s+10],23,-1094730640),d=i(d,f,h,g,e[s+13],4,681279174),g=i(g,d,f,h,e[s],11,-358537222),h=i(h,g,d,f,e[s+3],16,-722521979),f=i(f,h,g,d,e[s+6],23,76029189),d=i(d,f,h,g,e[s+9],4,-640364487),g=i(g,d,f,h,e[s+12],11,-421815835),h=i(h,g,d,f,e[s+15],16,530742520),d=a(d,f=i(f,h,g,d,e[s+2],23,-995338651),h,g,e[s],6,-198630844),g=a(g,d,f,h,e[s+7],10,1126891415),h=a(h,g,d,f,e[s+14],15,-1416354905),f=a(f,h,g,d,e[s+5],21,-57434055),d=a(d,f,h,g,e[s+12],6,1700485571),g=a(g,d,f,h,e[s+3],10,-1894986606),h=a(h,g,d,f,e[s+10],15,-1051523),f=a(f,h,g,d,e[s+1],21,-2054922799),d=a(d,f,h,g,e[s+8],6,1873313359),g=a(g,d,f,h,e[s+15],10,-30611744),h=a(h,g,d,f,e[s+6],15,-1560198380),f=a(f,h,g,d,e[s+13],21,1309151649),d=a(d,f,h,g,e[s+4],6,-145523070),g=a(g,d,f,h,e[s+11],10,-1120210379),h=a(h,g,d,f,e[s+2],15,718787259),f=a(f,h,g,d,e[s+9],21,-343485551),d=t(d,c),f=t(f,u),h=t(h,l),g=t(g,p);return[d,f,h,g]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function p(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return c(s(u(e),8*e.length))}(p(e))}function f(e,t){return function(e,t){var n,r,o=u(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=s(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=s(i.concat(u(t)),512+8*t.length),c(s(a.concat(r),640))}(p(e),p(t))}function h(e,t,n){return t?n?f(t,e):l(f(t,e)):n?d(e):l(d(e))}"function"==typeof define&&define.amd?define((function(){return h})):no?no=h:e.md5=h}(no);const ro=({tag:e,mode:t,count:n})=>{const r=n-e[t].length;return r?r>0?{insert:Array(r).fill({tagId:e.id,mode:t})}:{remove:e[t].slice(r)}:{}};var oo={gravatar:{buildImageUrl:({core:e,config:t})=>(n,r)=>{const{domain:o,size:i}=t.gravatar;return`${o}/avatar/${e.gravatar.hashEmail(n)}?r=g&s=${i}&d=${r}`},buildProfileUrl:({config:e,core:t})=>n=>{const{domain:r}=e.gravatar;return`${r}/${t.gravatar.hashEmail(n)}.json`},getNameFromProfile:()=>(e,t)=>e.name?.givenName||e.displayName||t,hashEmail:()=>e=>n(no)(e.trim().toLowerCase())},roles:{assignColor:({core:e,config:t})=>n=>r=>{const o=t.roles.presetColors[r.roleName],i=e.roles.randomColor(n),a=o||r.color||i;return{...r,color:a}},buildRole:({core:e,util:t})=>(n,r)=>t.pipe((e=>{const t=(e.roleName||"").trim().toUpperCase();return{...e,roleName:t}}),e.roles.assignColor(r))(n),randomColor:()=>e=>"#"+("00000"+(16777216*e|0).toString(16)).slice(-6)},tags:{buildTag:({util:e})=>t=>{const n=e.upperFirst((t.tagName||"").trim());return{...t,tagName:n,instances:[],active:[],passive:[]}},parseEmailExpression:({util:e})=>t=>{const n=t.indexOf("@"),r=n>-1,[o]=(r?t.substr(0,n):t).split("+"),i=t.lastIndexOf("+"),a=i>n,[s,c]=a?e.splitAt(t,i,1):[t];return{email:r?s:"",username:o,emailOrUsername:s,roleName:c}},parseFileExpression:()=>e=>{const[t,n]=e.split("/").pop().match(/^(\d+)?(.+)/)[2].split(".")[0].split("+").map((e=>e.trim()));return{tagName:t,roleName:n}},parseTagExpression:()=>e=>{const[t,n]=e.split("+").map((e=>e.trim()));return{tagName:t,roleName:n}},planTagInstanceAdjustment:()=>(e,t)=>e.flatMap((e=>Object.entries(t).flatMap((([t,n])=>ro({tag:e,mode:t,count:n}))))),sortTagInstancesByTagThenMode:({config:e})=>(t,n)=>t.flatMap((t=>e.options.modes.flatMap((e=>t[e].map((e=>n(e))))))),sortTagsByName:()=>e=>e.sort(((e,t)=>e.tagName.localeCompare(t.tagName))),sortTagsByRoleThenName:()=>(e,t)=>e.sort(((e,n)=>{const{roleName:r}=t(e.roleId),{roleName:o}=t(n.roleId),i=r.localeCompare(o),a=e.tagName.localeCompare(n.tagName);return i||a}))}},io={dumpState:({stores:e,util:t})=>()=>t.mapValues(e,(e=>e.list()))},ao={dropzone:({ui:e})=>()=>{const t=e=>e.preventDefault();return e.el("div","dropzone").addEventListener("dragenter",t).addEventListener("dragover",t).addEventListener("drop",t)},editableSpan:({ui:e})=>t=>{const n=()=>r.dispatchEvent(e.event("change")),r=e.el("span",t).addEventListener("blur",(()=>{n()})).addEventListener("keydown",(e=>{"Enter"===e.code&&(e.preventDefault(),n())}));return r.setAttribute("contenteditable",!0),r},label:({ui:e})=>(...t)=>{const n=t.map((t=>"string"==typeof t?e.el("span","label",{innerHTML:t}):t));return e.el("label").append(...n)},layout:({ui:e})=>({layout:t,components:n,componentArgs:r=[]})=>{const o=t.split("|").map((e=>e.trim().split(" "))).map((t=>{const o=t.map((e=>n[e](...r)));return e.el("span","group").append(...o)}));return e.el("div","layout").append(...o)},modal:({ui:e})=>(t={})=>{const n={visible:!1,onVisibilityChange:()=>{}},{title:r,content:o,actions:i,visible:a,onVisibilityChange:s}={...n,...t},c=()=>{h.dispatchEvent(e.event("dismiss"))},u=e.el("span","dismiss").addEventListener("click",c),l=e.el("div","modal-title").append(r,u);e.toggleBoolClass(l,"visible",Boolean(r));const p=e.el("div","modal-content").append(o),d=e.el("div","modal-actions").append(i);e.toggleBoolClass(d,"visible",Boolean(i));const f=e.el("div","modal-prompt").append(l,p,d).addEventListener("click",(e=>e.stopPropagation())),h=e.el("div","modal-overlay").append(f).addEventListener("click",c),g=t=>{e.toggleBoolClass(h,"visible",t)};return g(a),s(g,h),h},number:({ui:e,util:t})=>({min:n,max:r,step:o})=>{const i=()=>parseInt(c.value),a=t.pipe((e=>isNaN(e)?n:e),(e=>e<n?n:e),(e=>e>r?r:e)),s=()=>{const t=i();t===a(t)&&c.dispatchEvent(e.event("change"))},c=e.el("input",{type:"number",min:n,max:r,step:o}).addEventListener("input",s).addEventListener("blur",(()=>{c.value=a(i()),s()}));return c}},so={setup:({window:e})=>()=>({date:()=>new e.Date,fetch:(...t)=>e.fetch(...t),random:()=>e.Math.random(),fileReader:()=>new e.FileReader})};const co={ready:"ready",working:"working",error:"error"};var uo,lo={gravatar:{changeFallback:({stores:e})=>t=>{e.settings.update("gravatar",{fallback:t})},changeFreetext:({stores:e})=>t=>{e.settings.update("gravatar",{freetext:t})},fetchImageAsync:({core:e,io:t})=>async(n,r)=>{const o=e.gravatar.buildImageUrl(n,r),i=await t.fetch(o);if(!i.ok)throw new Error(`Unexpected Gravatar response status ${i.status}.`);return i.blob()},fetchProfileAsync:({core:e,io:t})=>async n=>{if(!n)return{};const r=e.gravatar.buildProfileUrl(n),o=await t.fetch(r);if(404===o.status)return{};if(!o.ok)throw new Error(`Unexpected Gravatar response status ${o.status}.`);const i=await o.json(),[a]=i.entry;return a},status:({stores:e})=>{const t=Object.keys(co).reduce(((t,n)=>Object.assign(t,{[n]:()=>e.settings.find("gravatar").status===n})),{}),n={ready:()=>{const{freetext:n}=e.settings.find("gravatar");e.settings.update("gravatar",{status:co.ready,freetext:t.error()?n:"",errorMessage:""})},working:()=>{e.settings.update("gravatar",{status:co.working})},error:t=>{e.settings.update("gravatar",{status:co.error,errorMessage:t})}};return{is:t,to:n}}},roles:{changeRoleColor:({stores:e})=>(t,n)=>{e.roles.update(t,{color:n})},changeRoleName:({core:e,stores:t})=>(n,r)=>{const o=t.roles.find(n),i=e.roles.buildRole({...o,roleName:r});t.roles.update(n,i)},findOrInsertRoleWithName:({services:e,stores:t})=>(n="")=>{const r=t.roles.list().find((e=>n.toUpperCase()===e.roleName.toUpperCase()));return r?r.id:e.roles.insertRole({roleName:n})},getNilRoleId:({stores:e})=>()=>e.settings.find("app").nilRoleId,getRole:({stores:e})=>t=>e.roles.find(t),insertRole:({core:e,services:t,subscriptions:n,stores:r,io:o})=>i=>{const a=e.roles.buildRole(i,o.random());return r.roles.insert(a,(e=>{n.roles.onChange(e,"roleName",t.roles.setupRolePropagation(e))}))},isNilRole:({services:e})=>t=>t===e.roles.getNilRoleId(),setupRolePropagation:({stores:e})=>t=>()=>{const{roleName:n}=e.roles.find(t),r={roleName:n};e.tagInstances.list().filter((e=>e.roleId===t)).forEach((t=>e.tagInstances.update(t.id,r)))}},settings:{changeModal:({stores:e})=>t=>{e.settings.update("app",{modal:t})},changeOption:({stores:e})=>(t,n)=>{e.settings.update("options",{[t]:n})},clearModal:({stores:e})=>()=>{e.settings.update("app",{modal:null})},getGravatar:({stores:e})=>()=>{const t=e.settings.find("gravatar");return{emails:t.freetext.split(/[\r\n,;]+/g).map((e=>e.trim())).filter((e=>e)),...t}}},tags:{adjustTagInstanceCounts:({core:e,config:t,stores:n,services:r})=>()=>{const o=n.tags.list(),i=n.settings.find("options"),a=Object.fromEntries(t.options.modes.map((e=>[e,i[e]])));e.tags.planTagInstanceAdjustment(o,a).forEach((e=>{(e={insert:[],remove:[],...e}).insert.forEach(r.tags.insertTagInstance),e.remove.forEach(r.tags.removeTagInstance)}))},attachImageAsync:({stores:e,io:t})=>n=>r=>new Promise(((o,i)=>{const a=t.fileReader();a.readAsDataURL(n),a.addEventListener("load",(()=>{const t=a.result;e.tags.update(r,{image:t}),o()})),a.addEventListener("error",(()=>{i(a.error)}))})),buildTagInstance:({stores:e})=>t=>{const{tagId:n,mode:r}=t,{tagName:o,roleId:i}=e.tags.find(n),{roleName:a}=e.roles.find(i);return{tagId:n,tagName:o,roleId:i,roleName:a,mode:r}},changeTagName:({core:e,services:t,stores:n})=>(r,o)=>{const{tagId:i}=t.tags.getTagInstance(r),{tagName:a,roleName:s}=e.tags.parseTagExpression(o);if(n.tags.update(i,{tagName:a}),s){const e=t.roles.findOrInsertRoleWithName(s);n.tags.update(i,{roleId:e})}},changeTagRole:({services:e,stores:t})=>(n,r)=>{const o=e.roles.findOrInsertRoleWithName(r),{tagId:i}=t.tagInstances.find(n);t.tags.update(i,{roleId:o})},getTagInstance:({stores:e})=>t=>e.tagInstances.find(t),insertFileAsync:({core:e,services:t,util:n})=>r=>n.pipe(e.tags.parseFileExpression,t.tags.insertTag,t.tags.attachImageAsync(r))(r.name),insertFileBatchAsync:({services:e})=>t=>Array.from(t).map(e.tags.insertFileAsync),insertGravatarAsync:({core:e,services:t})=>(n,r)=>{const{email:o,username:i,emailOrUsername:a,roleName:s}=e.tags.parseEmailExpression(n),c=t.gravatar.fetchProfileAsync(o).then((n=>{const r=e.gravatar.getNameFromProfile(n,i);return t.tags.insertTag({tagName:r,roleName:s})}));return t.gravatar.fetchImageAsync(a,r).then((async e=>{const n=await c;return t.tags.attachImageAsync(e)(n)}))},insertGravatarBatchAsync:({services:e,config:t})=>async(n,r)=>{try{e.gravatar.status.to.working();const t=async t=>{try{await e.tags.insertGravatarAsync(t,r)}catch(e){}};await Promise.all(n.map(t)),e.gravatar.status.to.ready(),e.settings.clearModal()}catch(n){throw e.gravatar.status.to.error(t.gravatar.errorMessage),n}},insertTag:({core:e,services:t,stores:n,subscriptions:r,util:o})=>i=>o.pipe((({roleName:e,...n})=>({roleId:n.roleId||t.roles.findOrInsertRoleWithName(e),...n})),e.tags.buildTag,(e=>n.tags.insert(e,(e=>{r.tags.onChange(e,"tagName",t.tags.setupTagPropagation(e)),r.tags.onChange(e,"roleId",t.tags.setupRolePropagation(e))}))))(i||{}),insertTagInstance:({services:e,stores:t})=>n=>{const r=e.tags.buildTagInstance(n);return t.tagInstances.insert(r,(e=>{const{tagId:n,mode:o}=r,i=t.tags.find(n);t.tags.update(n,{instances:i.instances.concat(e),[o]:i[o].concat(e)})}))},removeTagInstance:({stores:e})=>t=>{const{tagId:n,mode:r}=e.tagInstances.find(t),o=e.tags.find(n),i=e=>e!==t;e.tags.update(n,{instances:o.instances.filter(i),[r]:o[r].filter(i)}),e.tagInstances.remove(t)},setupRolePropagation:({stores:e})=>t=>()=>{const{roleId:n,instances:r}=e.tags.find(t),{roleName:o}=e.roles.find(n);r.forEach((t=>e.tagInstances.update(t,{roleId:n,roleName:o})))},setupTagPropagation:({stores:e})=>t=>()=>{const{tagName:n,instances:r}=e.tags.find(t);r.forEach((t=>e.tagInstances.update(t,{tagName:n})))},sortTagInstances:({core:e,stores:t})=>()=>{const n={orderAdded:t.tags.list,roleThenName:()=>e.tags.sortTagsByRoleThenName(t.tags.list(),t.roles.find),name:()=>e.tags.sortTagsByName(t.tags.list())},{sort:r}=t.settings.find("options"),o=n[r]();return e.tags.sortTagInstancesByTagThenMode(o,t.tagInstances.find)}}},po={createHandlers:({services:e,subscriptions:t,util:n,config:r})=>()=>{const o=n.debounce(e.tags.adjustTagInstanceCounts,r.debounce.adjustTagInstanceCounts);r.options.modes.forEach((e=>{t.settings.onChange("options",e,o)})),t.tags.onInsert(o)},createStyleManager:({styles:e,subscriptions:t,ui:n,util:r})=>()=>{const{tagImage:o,roleColor:i,...a}=e,s=(...e)=>n.appendToHead(...e);s(...Object.values(a).map((e=>e()))),t.tags.onInsert(r.pipe(o,s)),t.roles.onInsert(r.pipe(i,s))},insertNilRole:({config:e,stores:t})=>()=>{const n=t.roles.insert(e.roles.nilRole);t.settings.update("app",{nilRoleId:n})},start:({startup:e,components:t})=>()=>(e.insertNilRole(),e.createHandlers(),e.createStyleManager(),t.app())},fo={},ho="object"==typeof Reflect?Reflect:null,go=ho&&"function"==typeof ho.apply?ho.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};uo=ho&&"function"==typeof ho.ownKeys?ho.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var vo=Number.isNaN||function(e){return e!=e};function _o(){_o.init.call(this)}(fo=_o).once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}Oo(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Oo(e,"error",t,n)}(e,o,{once:!0})}))},_o.EventEmitter=_o,_o.prototype._events=void 0,_o.prototype._eventsCount=0,_o.prototype._maxListeners=void 0;var mo=10;function yo(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function bo(e){return void 0===e._maxListeners?_o.defaultMaxListeners:e._maxListeners}function wo(e,t,n,r){var o,i,a,s;if(yo(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=bo(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function Eo(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ko(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=Eo.bind(r);return o.listener=n,r.wrapFn=o,o}function xo(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):To(o,o.length)}function So(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function To(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Oo(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(_o,"defaultMaxListeners",{enumerable:!0,get:function(){return mo},set:function(e){if("number"!=typeof e||e<0||vo(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");mo=e}}),_o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||vo(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},_o.prototype.getMaxListeners=function(){return bo(this)},_o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)go(s,this,t);else{var c=s.length,u=To(s,c);for(n=0;n<c;++n)go(u[n],this,t)}return!0},_o.prototype.addListener=function(e,t){return wo(this,e,t,!1)},_o.prototype.on=_o.prototype.addListener,_o.prototype.prependListener=function(e,t){return wo(this,e,t,!0)},_o.prototype.once=function(e,t){return yo(t),this.on(e,ko(this,e,t)),this},_o.prototype.prependOnceListener=function(e,t){return yo(t),this.prependListener(e,ko(this,e,t)),this},_o.prototype.removeListener=function(e,t){var n,r,o,i,a;if(yo(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},_o.prototype.off=_o.prototype.removeListener,_o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},_o.prototype.listeners=function(e){return xo(this,e,!0)},_o.prototype.rawListeners=function(e){return xo(this,e,!1)},_o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):So.call(e,t)},_o.prototype.listenerCount=So,_o.prototype.eventNames=function(){return this._eventsCount>0?uo(this._events):[]};var jo,Co={stateStore:(e={})=>{let t=1;const r=new Map,o=new Map,i=new(n(fo)),a=e=>o.get(e)||{get:()=>null},s={onChange:(e,t,n)=>a(e).subscriptions.onChange(t,n),onChangeAny:(e,t)=>i.on(`change:${e}`,t),onInsert:e=>i.on("insert",e),onFirstInsert:e=>i.once("firstInsert",e),onBeforeRemove:e=>i.on("beforeRemove",e)},c=(e,a)=>{const s=e.id||t++,c={id:s,...e},u=new(n(fo)),l={onChange:(e,t)=>{u.on(`change:${e}`,t),t(c[e],c)}};return o.set(s,{get:()=>({...c}),update:e=>{Object.entries(e).forEach((([e,t])=>{if(c[e]===t)return;c[e]=t;[u,i].forEach((t=>t.emit(`change:${e}`,c[e],c)))}))},subscriptions:l}),r.set(s,c),a&&a(s),i.emit("firstInsert",s),i.emit("insert",s),s};return Object.entries(e).map((([e,t])=>({id:e,...t}))).forEach((e=>c(e))),{insert:c,remove:e=>{i.emit("beforeRemove",e),o.delete(e),r.delete(e)},list:()=>[...r.values()],find:e=>a(e).get(),update:(e,t)=>a(e).update(t),subscriptions:s}}},No={setup:({storage:e,config:t})=>()=>Object.fromEntries(t.storage.stores.map((n=>{const r=t.storage.defaults[n];return[n,e.stateStore(r)]})))},Ro=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Do=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Io=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var Lo={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function $o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var Bo=function(){function e(t,n,r,o){Ro(this,e);var i=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===r){var a=t&&""+t;a&&function(t){if(t.startsWith("hsl")){var n=t.match(/([\-\d\.e]+)/g).map(Number),r=Io(n,4),o=r[0],a=r[1],s=r[2],c=r[3];void 0===c&&(c=1),o/=360,a/=100,s/=100,i.hsla=[o,a,s,c]}else if(t.startsWith("rgb")){var u=t.match(/([\-\d\.e]+)/g).map(Number),l=Io(u,4),p=l[0],d=l[1],f=l[2],h=l[3];void 0===h&&(h=1),i.rgba=[p,d,f,h]}else t.startsWith("#")?i.rgba=e.hexToRgb(t):i.rgba=e.nameToRgb(t)||e.hexToRgb(t)}(a.toLowerCase())}else this.rgba=[t,n,r,void 0===o?1:o]}return Do(e,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return $o(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],r=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,r){return $o(e*t[r],3===r?3:1)+n[r]}));return e?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)})).map((function(e){return e.padStart(2,"0")})).join("")},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(t){var n=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=Lo[n];return void 0===r?r:e.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=Io(e,4),n=t[0],r=t[1],o=t[2],i=t[3];n/=255,r/=255,o/=255;var a=Math.max(n,r,o),s=Math.min(n,r,o),c=void 0,u=void 0,l=(a+s)/2;if(a===s)c=u=0;else{var p=a-s;switch(u=l>.5?p/(2-a-s):p/(a+s),a){case n:c=(r-o)/p+(r<o?6:0);break;case r:c=(o-n)/p+2;break;case o:c=(n-r)/p+4}c/=6}return[c,u,l,i]}},{key:"hslToRgb",value:function(e){var t=Io(e,4),n=t[0],r=t[1],o=t[2],i=t[3],a=void 0,s=void 0,c=void 0;if(0===r)a=s=c=o;else{var u=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=o<.5?o*(1+r):o+r-o*r,p=2*o-l;a=u(p,l,n+1/3),s=u(p,l,n),c=u(p,l,n-1/3)}var d=[255*a,255*s,255*c].map(Math.round);return d[3]=i,d}}]),e}(),Ao=function(){function e(){Ro(this,e),this._events=[]}return Do(e,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(t,n,r){this._events=this._events.filter((function(o){var i=!0;return t&&t!==o.target&&(i=!1),n&&n!==o.type&&(i=!1),r&&r!==o.handler&&(i=!1),i&&e._doRemove(o.target,o.type,o.handler),!i}))}},{key:"destroy",value:function(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),e}();function Uo(e,t,n,r){var o=!1;function i(e,t,n){return Math.max(t,Math.min(e,n))}function a(e,t,a){if(a&&(o=!0),o){e.preventDefault();var s=n.getBoundingClientRect(),c=s.width,u=s.height,l=t.clientX,p=t.clientY,d=i(l-s.left,0,c),f=i(p-s.top,0,u);r(d/c,f/u)}}function s(e,t){1===(void 0===e.buttons?e.which:e.buttons)?a(e,e,t):o=!1}function c(e,t){1===e.touches.length?a(e,e.touches[0],t):o=!1}t.add(n,"mousedown",(function(e){s(e,!0)})),t.add(n,"touchstart",(function(e){c(e,!0)})),t.add(e,"mousemove",s),t.add(n,"touchmove",c),t.add(e,"mouseup",(function(e){o=!1})),t.add(n,"touchend",(function(e){o=!1})),t.add(n,"touchcancel",(function(e){o=!1}))}function Po(e,t){return t.querySelector(e)}function Go(e){e.preventDefault(),e.stopPropagation()}function Mo(e,t,n,r,o){e.add(t,"keydown",(function(e){n.indexOf(e.key)>=0&&(o&&Go(e),r(e))}))}var Yo=function(){function e(t){Ro(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new Ao,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return Do(e,[{key:"setOptions",value:function(e){var t=this;if(e){var n=this.settings;n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(e,t,n){for(var r in e)n&&n.indexOf(r)>=0||(t[r]=e[r])}(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var r=e.color||e.colour;r&&this._setColor(r);var o=n.parent;if(o&&n.popup&&!this._popupInited){var i=function(e){return t.openHandler(e)};this._events.add(o,"click",i),Mo(this._events,o,[" ","Spacebar","Enter"],i),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&"keydown"===e.type?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;if(e)if("mousedown"===t||"focusin"===t){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(n=!0)}else Go(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="","mousedown"!==t&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var n=void 0;try{n=new Bo(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',n=function(e,t){var n=e.createElement("div");return n.innerHTML=t,n.firstElementChild}(this.settings.window.document,t);return this.domElement=n,this._domH=Po(".picker_hue",n),this._domSL=Po(".picker_sl",n),this._domA=Po(".picker_alpha",n),this._domEdit=Po(".picker_editor input",n),this._domSample=Po(".picker_sample",n),this._domOkay=Po(".picker_done button",n),this._domCancel=Po(".picker_cancel button",n),n.classList.add("layout_"+this.settings.layout),this.settings.alpha||n.classList.add("no_alpha"),this.settings.editor||n.classList.add("no_editor"),this.settings.cancelButton||n.classList.add("no_cancel"),this._ifPopup((function(){return n.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,r=this._events;function o(e,t,n){r.add(e,t,n)}o(n,"click",(function(e){return e.preventDefault()})),Uo(this.settings.window,r,this._domH,(function(e,n){return t._setHSLA(e)})),Uo(this.settings.window,r,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&Uo(this.settings.window,r,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var i=this._domEdit;o(i,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),o(i,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};o(e.settings.window,"mousedown",t),o(e.settings.window,"focusin",t),Mo(r,n,["Esc","Escape"],t);var i=function(t){e.__containedEvent=t.timeStamp};o(n,"mousedown",i),o(n,"focusin",i),o(e._domCancel,"click",t)}));var a=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",a),Mo(r,n,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this,t=this.settings.parent,n=this.domElement;t!==n.parentNode&&t.appendChild(n),this._ifPopup((function(r){"static"===e.settings.window.getComputedStyle(t).position&&(t.style.position="relative");var o=!0===r?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===o?n.classList.add(e):n.classList.remove(e)})),n.classList.add(o)}))}},{key:"_setHSLA",value:function(e,t,n,r,o){o=o||{};var i=this.colour,a=i.hsla;[e,t,n,r].forEach((function(e,t){(e||0===e)&&(a[t]=e)})),i.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(i)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,r="hsl("+360*n[0]+", 100%, 50%)",o=t.hslString,i=t.hslaString,a=this._domH,s=this._domSL,c=this._domA,u=Po(".picker_selector",a),l=Po(".picker_selector",s),p=Po(".picker_selector",c);m(0,u,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,m(0,l,n[1]),y(0,l,1-n[2]),s.style.color=o,y(0,p,1-n[3]);var d=o,f=d.replace("hsl","hsla").replace(")",", 0)"),h="linear-gradient("+[d,f]+")";if(this._domA.style.backgroundImage=h+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!e.fromEditor){var g=this.settings.editorFormat,v=this.settings.alpha,_=void 0;switch(g){case"rgb":_=t.printRGB(v);break;case"hsl":_=t.printHSL(v);break;default:_=t.printHex(v)}this._domEdit.value=_}this._domSample.style.color=i}function m(e,t,n){t.style.left=100*n+"%"}function y(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",r=t.style.display!==n;return r&&(t.style.display=n),r}}],[{key:"StyleElement",get:function(){return _style}},{key:"css",get:function(){return".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}"}}]),e}();jo=Yo;var qo={roleColor:({ui:e,subscriptions:t})=>n=>{const r=e.el("style");return t.roles.onChange(n,"color",(e=>{r.textContent=`\n                .role${n} .tag-image { border-color: ${e}; }            \n                .role${n} .role-name { background-color: ${e}; }\n            `})),r},tagImage:({ui:e,subscriptions:t})=>n=>{const r=e.el("style");return t.tags.onChange(n,"image",(e=>{r.textContent=e?`.tag${n} .tag-image { background-image: url(${e}); }`:""})),r},tagOutline:({ui:e,subscriptions:t})=>()=>{const n=e.el("style");return t.settings.onChange("options","outline",(e=>{n.textContent=e?"":".tag { border-color: transparent; }"})),n},tagShape:({ui:e,subscriptions:t,config:n})=>()=>{const r=e.el("style");return t.settings.onChange("options","shape",(e=>{const t=n.options.shapeRadius[e];r.textContent=`.tag-image { border-radius: ${t}%; }`})),r},tagSize:({ui:e,subscriptions:t,config:n})=>()=>{const r=e.el("style");return t.settings.onChange("options","size",(e=>{const t=e-2*n.tags.imagePadding;r.textContent=`\n            .tag-list { grid-template-columns: repeat(auto-fill, ${e}px); }\n            .tag-image { width: ${t}px; height: ${t}px; }\n        `})),r},tagSpacing:({ui:e,subscriptions:t})=>()=>{const n=e.el("style");return t.settings.onChange("options","spacing",(e=>{n.textContent=`.tag-list { gap: ${e}px; }`})),n},vanillaPicker:({ui:e})=>()=>e.el("style",{textContent:n(jo).css})},Fo={setup:({stores:e,util:t})=>()=>t.mapValues(e,(e=>e.subscriptions))},Ho={appendToHead:({window:e})=>(...t)=>e.document.head.append(...t),el:({window:e})=>(t,...n)=>{const r=e.document.createElement(t),o=n.map((e=>"string"==typeof e?{className:e}:e)),i=["append","addEventListener"].map((e=>{const t=r[e].bind(r);return{[e]:(...e)=>(t(...e),r)}}));return Object.assign(r,...o,...i)},event:({window:e})=>(...t)=>new e.Event(...t),refocus:({window:e})=>t=>{const n=e.document.activeElement;t(),n.focus()},toggleBoolClass:()=>(e,t,n)=>{e.classList.remove(`${t}-${Boolean(!n)}`),e.classList.add(`${t}-${Boolean(n)}`)}},zo={debounce:(e,t)=>{if(!t)return e;let n=null;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e(...r)),t)}},mapValues:(e,t)=>Object.entries(e).reduce(((e,[n,r])=>Object.assign(e,{[n]:t(r)})),{}),pipe:(...e)=>t=>e.reduce(((e,t)=>t(e)),t),splitAt:(e,t,n)=>[e.slice(0,t),e.slice(t+n)],upperFirst:e=>e?e[0].toUpperCase()+e.slice(1):""},Wo={gtagScript:({ui:e,config:t})=>()=>{const{trackingId:n}=t.gtag;return e.el("script",{src:`https://www.googletagmanager.com/gtag/js?id=${n}`})},vanillaPicker:({window:e})=>({parent:t,color:r,onChange:o})=>(new(n(jo))({window:e,parent:t,color:r,onChange:o}),t)},Vo={};t(Vo,"Integrations",(function(){return Vc})),t(Vo,"FunctionToString",(function(){return La})),t(Vo,"Hub",(function(){return za})),t(Vo,"InboundFilters",(function(){return Ba})),t(Vo,"SDK_VERSION",(function(){return Ss})),t(Vo,"Scope",(function(){return Ma})),t(Vo,"addBreadcrumb",(function(){return rs})),t(Vo,"addGlobalEventProcessor",(function(){return qa})),t(Vo,"captureEvent",(function(){return ts})),t(Vo,"captureException",(function(){return Qa})),t(Vo,"captureMessage",(function(){return es})),t(Vo,"configureScope",(function(){return ns})),t(Vo,"createTransport",(function(){return xs})),t(Vo,"getCurrentHub",(function(){return Xa})),t(Vo,"getHubFromCarrier",(function(){return Ja})),t(Vo,"makeMain",(function(){return Va})),t(Vo,"setContext",(function(){return os})),t(Vo,"setExtra",(function(){return as})),t(Vo,"setExtras",(function(){return is})),t(Vo,"setTag",(function(){return cs})),t(Vo,"setTags",(function(){return ss})),t(Vo,"setUser",(function(){return us})),t(Vo,"startTransaction",(function(){return ps})),t(Vo,"withScope",(function(){return ls})),t(Vo,"BrowserClient",(function(){return _c})),t(Vo,"makeFetchTransport",(function(){return mc})),t(Vo,"makeXHRTransport",(function(){return yc})),t(Vo,"chromeStackLineParser",(function(){return kc})),t(Vo,"defaultStackLineParsers",(function(){return Ic})),t(Vo,"defaultStackParser",(function(){return Lc})),t(Vo,"geckoStackLineParser",(function(){return Tc})),t(Vo,"opera10StackLineParser",(function(){return Nc})),t(Vo,"opera11StackLineParser",(function(){return Dc})),t(Vo,"winjsStackLineParser",(function(){return jc})),t(Vo,"close",(function(){return qc})),t(Vo,"defaultIntegrations",(function(){return Bc})),t(Vo,"flush",(function(){return Yc})),t(Vo,"forceLoad",(function(){return Gc})),t(Vo,"init",(function(){return Ac})),t(Vo,"lastEventId",(function(){return Pc})),t(Vo,"onLoad",(function(){return Mc})),t(Vo,"showReportDialog",(function(){return Uc})),t(Vo,"wrap",(function(){return Fc})),t(Vo,"GlobalHandlers",(function(){return Gs})),t(Vo,"TryCatch",(function(){return Ws})),t(Vo,"Breadcrumbs",(function(){return Zs})),t(Vo,"LinkedErrors",(function(){return rc})),t(Vo,"HttpContext",(function(){return ac})),t(Vo,"Dedupe",(function(){return sc}));var Xo={};t(Xo,"FunctionToString",(function(){return La})),t(Xo,"InboundFilters",(function(){return Ba}));var Ko=i("k6cxq"),Jo=Object.prototype.toString;function Zo(e){switch(Jo.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ci(e,Error)}}function Qo(e,t){return Jo.call(e)===`[object ${t}]`}function ei(e){return Qo(e,"ErrorEvent")}function ti(e){return Qo(e,"DOMError")}function ni(e){return Qo(e,"String")}function ri(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function oi(e){return Qo(e,"Object")}function ii(e){return"undefined"!=typeof Event&&ci(e,Event)}function ai(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function si(e){return oi(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ci(e,t){try{return e instanceof t}catch(e){return!1}}function ui(e,t){try{let o=e;var n=[];let i=0,a=0;var r=" > ".length;let s;for(;o&&i++<5&&(s=li(o,t),!("html"===s||i>1&&a+n.length*r+s.length>=80));)n.push(s),a+=s.length,o=o.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function li(e,t){var n=e,r=[];let o,i,a,s,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());var u=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&ni(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);var l=["type","name","title","alt"];for(c=0;c<l.length;c++)a=l[c],s=n.getAttribute(a),s&&r.push(`[${a}="${s}"]`);return r.join("")}function pi(){var e=(0,Ko.getGlobalObject)();try{return e.document.location.href}catch(e){return""}}class di extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var fi=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function hi(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function gi(e){var t=fi.exec(e);if(!t)throw new di(`Invalid Sentry Dsn: ${e}`);const[n,r,o="",i,a="",s]=t.slice(1);let c="",u=s;var l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){var p=u.match(/^\d+/);p&&(u=p[0])}return vi({host:i,pass:o,path:c,projectId:u,port:a,protocol:n,publicKey:r})}function vi(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function _i(e){var t="string"==typeof e?gi(e):vi(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new di(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new di(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(r))throw new di(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new di(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}Ko=i("k6cxq");var mi=(0,(Ko=i("k6cxq")).getGlobalObject)(),yi=["debug","info","warn","error","log","assert","trace"];function bi(e){var t=(0,Ko.getGlobalObject)();if(!("console"in t))return e();var n=t.console,r={};yi.forEach((e=>{var o=n[e]&&n[e].__sentry_original__;e in t.console&&o&&(r[e]=n[e],n[e]=o)}));try{return e()}finally{Object.keys(r).forEach((e=>{n[e]=r[e]}))}}function wi(){let e=!1;var t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?yi.forEach((n=>{t[n]=(...t)=>{e&&bi((()=>{mi.console[n](`Sentry Logger [${n}]:`,...t)}))}})):yi.forEach((e=>{t[e]=()=>{}})),t}let Ei;function ki(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}function xi(e,t){if(!Array.isArray(e))return"";var n=[];for(let t=0;t<e.length;t++){var r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Si(e,t){return!!ni(e)&&(Qo(t,"RegExp")?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}function Ti(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{ji(o,r)}catch(e){}e[t]=o}}function Oi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function ji(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,Oi(e,"__sentry_original__",t)}function Ci(e){return e.__sentry_original__}function Ni(e){if(Zo(e))return{message:e.message,name:e.name,stack:e.stack,...Di(e)};if(ii(e)){var t={type:e.type,target:Ri(e.target),currentTarget:Ri(e.currentTarget),...Di(e)};return"undefined"!=typeof CustomEvent&&ci(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ri(e){try{return t=e,"undefined"!=typeof Element&&ci(t,Element)?ui(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Di(e){if("object"==typeof e&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Ii(e,t=40){var n=Object.keys(Ni(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return ki(n[0],t);for(let e=n.length;e>0;e--){var r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:ki(r,t)}return""}function Li(e){return $i(e,new Map)}function $i(e,t){if(oi(e)){if(void 0!==(o=t.get(e)))return o;var n={};for(var r of(t.set(e,n),Object.keys(e)))void 0!==e[r]&&(n[r]=$i(e[r],t));return n}if(Array.isArray(e)){var o;if(void 0!==(o=t.get(e)))return o;n=[];return t.set(e,n),e.forEach((e=>{n.push($i(e,t))})),n}return e}function Bi(e){let t,n=e[0],r=1;for(;r<e.length;){var o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}Ei="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,Ko.getGlobalSingleton)("logger",wi):wi();function Ai(...e){var t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{var r=[];for(var o of e.split("\n").slice(n))for(var i of t){var a=i(o);if(a){r.push(a);break}}return function(e){if(!e.length)return[];let t=e;var n=t[0].function||"",r=t[t.length-1].function||"";-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1));-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1));return t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(r)}}function Ui(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}function Pi(){if(!("fetch"in(0,Ko.getGlobalObject)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Gi(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Mi(){if(!Pi())return!1;var e=(0,Ko.getGlobalObject)();if(Gi(e.fetch))return!0;let t=!1;var n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Gi(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function Yi(){var e=(0,Ko.getGlobalObject)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}var qi=(0,(Ko=i("k6cxq")).getGlobalObject)(),Fi={},Hi={};function zi(e){if(!Hi[e])switch(Hi[e]=!0,e){case"console":!function(){if(!("console"in qi))return;yi.forEach((function(e){e in qi.console&&Ti(qi.console,e,(function(t){return function(...n){Vi("console",{args:n,level:e}),t&&t.apply(qi.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in qi))return;var e=Vi.bind(null,"dom"),t=ea(e,!0);qi.document.addEventListener("click",t,!1),qi.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var n=qi[t]&&qi[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ti(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,a=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},s=a[n]=a[n]||{refCount:0};if(!s.handler){var c=ea(e);s.handler=c,t.call(this,n,c,o)}s.refCount+=1}catch(e){}return t.call(this,n,r,o)}})),Ti(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount-=1,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in qi))return;var e=XMLHttpRequest.prototype;Ti(e,"open",(function(e){return function(...t){var n=this,r=t[1],o=n.__sentry_xhr__={method:ni(t[0])?t[0].toUpperCase():t[0],url:t[1]};ni(r)&&"POST"===o.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var i=function(){if(4===n.readyState){try{o.status_code=n.status}catch(e){}Vi("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?Ti(n,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(n,t)}})):n.addEventListener("readystatechange",i),e.apply(n,t)}})),Ti(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),Vi("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!Mi())return;Ti(qi,"fetch",(function(e){return function(...t){var n={args:t,fetchData:{method:Xi(t),url:Ki(t)},startTimestamp:Date.now()};return Vi("fetch",{...n}),e.apply(qi,t).then((e=>(Vi("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Vi("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!Yi())return;var e=qi.onpopstate;function t(e){return function(...t){var n=t.length>2?t[2]:void 0;if(n){var r=Ji,o=String(n);Ji=o,Vi("history",{from:r,to:o})}return e.apply(this,t)}}qi.onpopstate=function(...t){var n=qi.location.href,r=Ji;if(Ji=n,Vi("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Ti(qi.history,"pushState",t),Ti(qi.history,"replaceState",t)}();break;case"error":ta=qi.onerror,qi.onerror=function(e,t,n,r,o){return Vi("error",{column:r,error:o,line:n,msg:e,url:t}),!!ta&&ta.apply(this,arguments)};break;case"unhandledrejection":na=qi.onunhandledrejection,qi.onunhandledrejection=function(e){return Vi("unhandledrejection",e),!na||na.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("unknown instrumentation type:",e))}}function Wi(e,t){Fi[e]=Fi[e]||[],Fi[e].push(t),zi(e)}function Vi(e,t){if(e&&Fi[e])for(var n of Fi[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Ui(n)}\nError:`,t)}}function Xi(e=[]){return"Request"in qi&&ci(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Ki(e=[]){return"string"==typeof e[0]?e[0]:"Request"in qi&&ci(e[0],Request)?e[0].url:String(e[0])}let Ji;let Zi,Qi;function ea(e,t=!1){return n=>{if(n&&Qi!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Zi||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(Qi,n))&&(e({event:n,name:r,global:t}),Qi=n),clearTimeout(Zi),Zi=qi.setTimeout((()=>{Zi=void 0}),1e3)}}}let ta=null;let na=null;Ko=i("k6cxq");function ra(){var e=(0,Ko.getGlobalObject)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=e=>{let t=e.toString(16);for(;t.length<4;)t=`0${t}`;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function oa(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function ia(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function aa(e){const{message:t,event_id:n}=e;if(t)return t;var r=ia(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function sa(e,t,n){var r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ca(e,t){var n=ia(e);if(n){var r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){var o={...r&&r.data,...t.data};n.mechanism.data=o}}}var ua;function la(e){if(e&&e.__sentry_captured__)return!0;try{Oi(e,"__sentry_captured__",!0)}catch(e){}return!1}function pa(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}function da(e,t=1/0,n=1/0){try{return ha("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function fa(e,t=3,n=102400){var r,o=da(e,t);return r=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?fa(e,t-1,n):o}function ha(t,n,r=1/0,o=1/0,i=pa()){const[a,s]=i;var c,u=n;if(u&&"function"==typeof u.toJSON)try{return u.toJSON()}catch(e){}if(null===n||["number","boolean","string"].includes(typeof n)&&("number"!=typeof(c=n)||c==c))return n;var l=function(t,n){try{return"domain"===t&&n&&"object"==typeof n&&n._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==e&&n===e?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":si(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?`[Function: ${Ui(n)}]`:"symbol"==typeof n?`[${String(n)}]`:"bigint"==typeof n?`[BigInt: ${String(n)}]`:`[object ${Object.getPrototypeOf(n).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(t,n);if(!l.startsWith("[object "))return l;if(n.__sentry_skip_normalization__)return n;if(0===r)return l.replace("object ","");if(a(n))return"[Circular ~]";var p=Array.isArray(n)?[]:{};let d=0;var f=Ni(n);for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h)){if(d>=o){p[h]="[MaxProperties ~]";break}var g=f[h];p[h]=ha(h,g,r-1,o,i),d+=1}return s(n),p}function ga(e){return new _a((t=>{t(e)}))}function va(e){return new _a(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(ua||(ua={}));class _a{__init(){this._state=ua.PENDING}__init2(){this._handlers=[]}then(e,t){return new _a(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new _a(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(ua.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(ua.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===ua.PENDING&&(ai(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state!==ua.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===ua.RESOLVED&&e[1](this._value),this._state===ua.REJECTED&&e[2](this._value),e[0]=!0)}))}}}constructor(e){_a.prototype.__init.call(this),_a.prototype.__init2.call(this),_a.prototype.__init3.call(this),_a.prototype.__init4.call(this),_a.prototype.__init5.call(this),_a.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}}function ma(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return va(new di("Not adding Promise due to buffer limit reached."));var o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new _a(((n,r)=>{let o=t.length;if(!o)return n(!0);var i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{ga(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}var ya=["fatal","error","warning","log","info","debug"];function ba(e){return"warn"===e?"warning":ya.includes(e)?e:"log"}function wa(e,t=[]){return[e,t]}function Ea(e,t){const[n,r]=e;return[n,[...r,t]]}function ka(e,t){e[1].forEach((e=>{var n=e[0].type;t(e,n)}))}function xa(e,t){return(t||new TextEncoder).encode(e)}function Sa(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[xa(o,t),e]:o.push("string"==typeof e?xa(e,t):e)}for(var a of r){const[e,t]=a;i(`\n${JSON.stringify(e)}\n`),i("string"==typeof t||t instanceof Uint8Array?t:JSON.stringify(t))}return"string"==typeof o?o:function(e){var t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(var o of e)n.set(o,r),r+=o.length;return n}(o)}function Ta(e,t){var n="string"==typeof e.data?xa(e.data,t):e.data;return[Li({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var Oa={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function ja(e){return Oa[e]}var Ca=i("3Wlpk");function Na(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Ra(e,{statusCode:t,headers:n},r=Date.now()){var o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(var s of i.trim().split(",")){const[e,t]=s.split(":",2);var c=parseInt(e,10),u=1e3*(isNaN(c)?60:c);if(t)for(var l of t.split(";"))o[l]=r+u;else o.all=r+u}else a?o.all=r+function(e,t=Date.now()){var n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(o.all=r+6e4);return o}function Da(e){return e[0]}let Ia;class La{static __initStatic(){this.id="FunctionToString"}__init(){this.name=La.id}setupOnce(){Ia=Function.prototype.toString,Function.prototype.toString=function(...e){var t=Ci(this)||this;return Ia.apply(t,e)}}constructor(){La.prototype.__init.call(this)}}La.__initStatic();var $a=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Ba{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Ba.id}setupOnce(e,t){var n=e=>{var n=t();if(n){var r=n.getIntegration(Ba);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...$a],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(r._options,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${aa(e)}`),!0;if(function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error(`Cannot extract message for event ${aa(e)}`),[]}return[]}(e).some((e=>t.some((t=>Si(e,t)))))}(e,t.ignoreErrors))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${aa(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;var n=Aa(e);return!!n&&t.some((e=>Si(n,e)))}(e,t.denyUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${aa(e)}.\nUrl: ${Aa(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=Aa(e);return!n||t.some((e=>Si(n,e)))}(e,t.allowUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${aa(e)}.\nUrl: ${Aa(e)}`),!0;return!1}(e,a)?null:e}}return e};n.id=this.name,e(n)}constructor(e={}){this._options=e,Ba.prototype.__init.call(this)}}function Aa(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let n=e.length-1;n>=0;n--){var t=e[n];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error(`Cannot extract url for event ${aa(e)}`),null}}Ba.__initStatic();Ca=i("3Wlpk"),Ko=i("k6cxq"),Ca=i("3Wlpk");function Ua(e){var t=(0,Ca.timestampInSeconds)(),n={sid:ra(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Li({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Pa(n,e),n}function Pa(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,Ca.timestampInSeconds)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ra()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ga(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),Pa(e,n)}class Ma{__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var t=new Ma;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments]),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Pa(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts={...this._contexts,[e]:t},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){var t=e(this);return t instanceof Ma?t:this}return e instanceof Ma?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):oi(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var r={timestamp:(0,Ca.dateTimestampInSeconds)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags={transaction:n,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ya(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new _a(((o,i)=>{var a=e[r];if(null===t||"function"!=typeof a)o(t);else{var s=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===s&&Ei.log(`Event processor "${a.id}" dropped event`),ai(s)?s.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(o))).then(null,i):this._notifyEventProcessors(e,s,n,r+1).then(o).then(null,i)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}constructor(){Ma.prototype.__init.call(this),Ma.prototype.__init2.call(this),Ma.prototype.__init3.call(this),Ma.prototype.__init4.call(this),Ma.prototype.__init5.call(this),Ma.prototype.__init6.call(this),Ma.prototype.__init7.call(this),Ma.prototype.__init8.call(this),Ma.prototype.__init9.call(this),Ma.prototype.__init10.call(this)}}function Ya(){return(0,Ko.getGlobalSingleton)("globalEventProcessors",(()=>[]))}function qa(e){Ya().push(e)}Ca=i("3Wlpk"),Ko=i("k6cxq");var Fa=i("gL7ev"),Ha=100;class za{__init(){this._stack=[{}]}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=Ma.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:ra(),r=new Error("Sentry syntheticException");return this._withClient(((o,i)=>{o.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},i)})),n}captureMessage(e,t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:ra(),o=new Error(e);return this._withClient(((i,a)=>{i.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},a)})),r}captureEvent(e,t){var n=t&&t.event_id?t.event_id:ra();return"transaction"!==e.type&&(this._lastEventId=n),this._withClient(((r,o)=>{r.captureEvent(e,{...t,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Ha}=r.getOptions&&r.getOptions()||{};if(!(i<=0)){var a={timestamp:(0,Ca.dateTimestampInSeconds)(),...e},s=o?bi((()=>o(a,t))):a;null!==s&&n.addBreadcrumb(s,i)}}setUser(e){var t=this.getScope();t&&t.setUser(e)}setTags(e){var t=this.getScope();t&&t.setTags(e)}setExtras(e){var t=this.getScope();t&&t.setExtras(e)}setTag(e,t){var n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){var n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){var n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){var t=Va(this);try{e(this)}finally{Va(t)}}getIntegration(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&Ga(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o}=n&&n.getOptions()||{};var i=(0,Ko.getGlobalObject)();const{userAgent:a}=i.navigator||{};var s=Ua({release:r,environment:o,...t&&{user:t.getUser()},...a&&{userAgent:a},...e});if(t){var c=t.getSession&&t.getSession();c&&"ok"===c.status&&Pa(c,{status:"exited"}),this.endSession(),t.setSession(s)}return s}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(e){var n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){var n=Wa().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Extension method ${e} couldn't be found, doing nothing.`)}constructor(e,t=new Ma,n=4){this._version=n,za.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}}function Wa(){var e=(0,Ko.getGlobalObject)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Va(e){var t=Wa(),n=Ja(t);return Za(t,e),n}function Xa(){var e=Wa();return Ka(e)&&!Ja(e).isOlderThan(4)||Za(e,new za),(0,Fa.isNodeEnv)()?function(e){try{var t=Wa().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return Ja(e);if(!Ka(n)||Ja(n).isOlderThan(4)){var r=Ja(e).getStackTop();Za(n,new za(r.client,Ma.clone(r.scope)))}return Ja(n)}catch(t){return Ja(e)}}(e):Ja(e)}function Ka(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Ja(e){return(0,Ko.getGlobalSingleton)("hub",(()=>new za),e)}function Za(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Qa(e,t){return Xa().captureException(e,{captureContext:t})}function es(e,t){var n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Xa().captureMessage(e,n,r)}function ts(e,t){return Xa().captureEvent(e,t)}function ns(e){Xa().configureScope(e)}function rs(e){Xa().addBreadcrumb(e)}function os(e,t){Xa().setContext(e,t)}function is(e){Xa().setExtras(e)}function as(e,t){Xa().setExtra(e,t)}function ss(e){Xa().setTags(e)}function cs(e,t){Xa().setTag(e,t)}function us(e){Xa().setUser(e)}function ls(e){Xa().withScope(e)}function ps(e,t){return Xa().startTransaction({...e},t)}function ds(e){var t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function fs(e){return t={sentry_key:e.publicKey,sentry_version:"7"},Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&");var t}function hs(e,t){return t||`${function(e){return`${ds(e)}${e.projectId}/envelope/`}(e)}?${fs(e)}`}function gs(e,t){var n=_i(e),r=`${ds(n)}embed/error-page/`;let o=`dsn=${hi(n)}`;for(var i in t)if("dsn"!==i)if("user"===i){var a=t.user;if(!a)continue;a.name&&(o+=`&name=${encodeURIComponent(a.name)}`),a.email&&(o+=`&email=${encodeURIComponent(a.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}Ca=i("3Wlpk");function vs(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _s(e,t,n,r){var o=vs(n);return wa({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&{dsn:hi(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}function ms(e,t,n,r){var o=vs(n),i=e.type||"event";const{transactionSampling:a}=e.sdkProcessingMetadata||{},{method:s,rate:c}=a||{};!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);var u=function(e,t,n,r){var o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baggage,i=o&&Da(o);return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:hi(r)},..."transaction"===e.type&&i&&{trace:Li({...i})}}}(e,o,r,t);return delete e.sdkProcessingMetadata,wa(u,[[{type:i,sample_rates:[{id:s,rate:c}]},e]])}var ys=[];function bs(e){return e.reduce(((e,t)=>(e.every((e=>t.name!==e.name))&&e.push(t),e)),[])}function ws(e){var t=e.defaultIntegrations&&[...e.defaultIntegrations]||[],n=e.integrations;let r=[...bs(t)];Array.isArray(n)?r=[...r.filter((e=>n.every((t=>t.name!==e.name)))),...bs(n)]:"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var o=r.map((e=>e.name)),i="Debug";return-1!==o.indexOf(i)&&r.push(...r.splice(o.indexOf(i),1)),r}class Es{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}captureException(e,t,n){if(la(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log("Not capturing exception because it's already been captured."));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;var i=ri(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&la(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log("Not capturing exception because it's already been captured."));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Pa(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):ga(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){var e,t;this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(e=this._options.integrations,t={},e.forEach((e=>{t[e.name]=e,-1===ys.indexOf(e.name)&&(e.setupOnce(qa,Xa),ys.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log(`Integration installed: ${e.name}`))})),t),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,t={}){if(this._dsn){let r=ms(e,this._dsn,this._options._metadata,this._options.tunnel);for(var n of t.attachments||[])r=Ea(r,Ta(n,Bi([this,"access",e=>e._options,"access",e=>e.transportOptions,"optionalAccess",e=>e.textEncoder])));this._sendEnvelope(r)}}sendSession(e){if(this._dsn){var t=_s(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t){if(this._options.sendClientReports){var n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,r=!1;var o=t.exception&&t.exception.values;if(o)for(var i of(r=!0,o)){var a=i.mechanism;if(a&&!1===a.handled){n=!0;break}}var s="ok"===e.status;(s&&0===e.errors||s&&n)&&(Pa(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new _a((t=>{let n=0;var r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var i={...e,event_id:e.event_id||t.event_id||ra(),timestamp:e.timestamp||(0,Ca.dateTimestampInSeconds)()};this._applyClientOptions(i),this._applyIntegrationsMetadata(i);let a=n;t.captureContext&&(a=Ma.clone(a).update(t.captureContext));let s=ga(i);if(a){var c=[...t.attachments||[],...a.getAttachments()];c.length&&(t.attachments=c),s=a.applyToEvent(i,t)}return s.then((e=>"number"==typeof r&&r>0?this._normalizeEvent(e,r,o):e))}_normalizeEvent(e,t,n){if(!e)return null;var r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:da(e.data,t,n)}})))},...e.user&&{user:da(e.user,t,n)},...e.contexts&&{contexts:da(e.contexts,t,n)},...e.extra&&{extra:da(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=da(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=da(e.data,t,n)),e)))),r}_applyClientOptions(e){var t=this.getOptions();const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=ki(e.message,i));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=ki(a.value,i));var s=e.request;s&&s.url&&(s.url=ki(s.url,i))}_applyIntegrationsMetadata(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(e)}))}_processEvent(e,t,n){const{beforeSend:r,sampleRate:o}=this.getOptions();if(!this._isEnabled())return va(new di("SDK not enabled, will not capture event."));var i="transaction"===e.type;return!i&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),va(new di(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",e.type||"error"),new di("An event processor returned null, will not send event.");return t.data&&!0===t.data.__sentry__||i||!r?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(ai(e))return e.then((e=>{if(!oi(e)&&null!==e)throw new di(t);return e}),(e=>{throw new di(`beforeSend rejected with ${e}`)}));if(!oi(e)&&null!==e)throw new di(t);return e}(r(n,t))})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",e.type||"error"),new di("`beforeSend` returned `null`, will not send event.");var o=n&&n.getSession();return!i&&o&&this._updateSessionFromEvent(o,r),this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof di)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new di(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing+=1,e.then((e=>(this._numProcessing-=1,e)),(e=>(this._numProcessing-=1,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}constructor(e){if(Es.prototype.__init.call(this),Es.prototype.__init2.call(this),Es.prototype.__init3.call(this),Es.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=_i(e.dsn);var t=hs(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("No DSN provided, client will not do anything.")}}function ks(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Ei.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Xa(),r=n.getScope();r&&r.update(t.initialScope);var o=new e(t);n.bindClient(o)}function xs(e,t,n=ma(e.bufferSize||30)){let r={};return{send:function(o){var i=[];if(ka(o,((t,n)=>{var o=ja(n);Na(r,o)?e.recordDroppedEvent("ratelimit_backoff",o):i.push(t)})),0===i.length)return ga();var a=wa(o[0],i),s=t=>{ka(a,((n,r)=>{e.recordDroppedEvent(t,ja(r))}))};return n.add((()=>t({body:Sa(a,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Ra(r,e)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("Failed while sending event:",e),s("network_error")})))).then((e=>e),(e=>{if(e instanceof di)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("Skipped sending event due to full buffer"),s("queue_overflow"),ga();throw e}))},flush:e=>n.drain(e)}}var Ss="7.3.0",Ts=(Ko=i("k6cxq"),{});function Os(e,t){var n=Cs(e,t),r={type:t&&t.name,value:Rs(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function js(e,t){return{exception:{values:[Os(e,t)]}}}function Cs(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Ns.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}t(Ts,"GlobalHandlers",(function(){return Gs})),t(Ts,"TryCatch",(function(){return Ws})),t(Ts,"Breadcrumbs",(function(){return Zs})),t(Ts,"LinkedErrors",(function(){return rc})),t(Ts,"HttpContext",(function(){return ac})),t(Ts,"Dedupe",(function(){return sc}));var Ns=/Minified React error #\d+;/i;function Rs(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Ds(e,t,n,r){var o=Ls(e,t,n&&n.syntheticException||void 0,r);return ca(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),ga(o)}function Is(e,t,n="info",r,o){var i=$s(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),ga(i)}function Ls(e,t,n,r,o){let i;if(ei(t)&&t.error)return js(e,t.error);if(ti(t)||Qo(t,"DOMException")){var a=t;if("stack"in t)i=js(e,t);else{var s=a.name||(ti(a)?"DOMError":"DOMException"),c=a.message?`${s}: ${a.message}`:s;i=$s(e,c,n,r),sa(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return Zo(t)?js(e,t):oi(t)||ii(t)?(i=function(e,t,n,r){var o={exception:{values:[{type:ii(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${Ii(t)}`}]},extra:{__serialized__:fa(t)}};if(n){var i=Cs(e,n);i.length&&(o.exception.values[0].stacktrace={frames:i})}return o}(e,t,n,o),ca(i,{synthetic:!0}),i):(i=$s(e,t,n,r),sa(i,`${t}`,void 0),ca(i,{synthetic:!0}),i)}function $s(e,t,n,r){var o={message:t};if(r&&n){var i=Cs(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}return o}let Bs=0;function As(){return Bs>0}function Us(){Bs+=1,setTimeout((()=>{Bs-=1}))}function Ps(e,t={},n){if("function"!=typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(Ci(e))return e}catch(t){return e}var o=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((e=>Ps(e,t)));return e.apply(this,o)}catch(e){throw Us(),ls((n=>{n.addEventProcessor((e=>(t.mechanism&&(sa(e,void 0,void 0),ca(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),Qa(e)})),e}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i])}catch(e){}ji(o,e),Oi(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}class Gs{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Gs.id}__init2(){this._installFunc={onerror:Ms,onunhandledrejection:Ys}}setupOnce(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log(`Global Handler attached: ${e}`),r(),this._installFunc[n]=void 0)}}constructor(e){Gs.prototype.__init.call(this),Gs.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}}function Ms(){Wi("error",(e=>{const[t,n,r]=Hs();if(!t.getIntegration(Gs))return;const{msg:o,url:i,line:a,column:s,error:c}=e;if(!(As()||c&&c.__sentry_own_request__)){var u=void 0===c&&ni(o)?function(e,t,n,r){var o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ei(e)?e.message:e,a="Error";var s=i.match(o);s&&(a=s[1],i=s[2]);return qs({exception:{values:[{type:a,value:i}]}},t,n,r)}(o,i,a,s):qs(Ls(n,c||o,void 0,r,!1),i,a,s);u.level="error",Fs(t,c,u,"onerror")}}))}function Ys(){Wi("unhandledrejection",(e=>{const[t,n,r]=Hs();if(!t.getIntegration(Gs))return;let o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(e){}if(As()||o&&o.__sentry_own_request__)return!0;var i=ri(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Ls(n,o,void 0,r,!0);i.level="error",Fs(t,o,i,"onunhandledrejection")}))}function qs(e,t,n,r){var o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,p=ni(t)&&t.length>0?t:pi();return 0===c.length&&c.push({colno:u,filename:p,function:"?",in_app:!0,lineno:l}),e}function Fs(e,t,n,r){ca(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Hs(){var e=Xa(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}Gs.__initStatic();Ko=i("k6cxq");var zs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ws{static __initStatic(){this.id="TryCatch"}__init(){this.name=Ws.id}setupOnce(){var e=(0,Ko.getGlobalObject)();this._options.setTimeout&&Ti(e,"setTimeout",Vs),this._options.setInterval&&Ti(e,"setInterval",Vs),this._options.requestAnimationFrame&&Ti(e,"requestAnimationFrame",Xs),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Ti(XMLHttpRequest.prototype,"send",Ks);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:zs).forEach(Js)}constructor(e){Ws.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}}function Vs(e){return function(...t){var n=t[0];return t[0]=Ps(n,{mechanism:{data:{function:Ui(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Xs(e){return function(t){return e.apply(this,[Ps(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ui(e)},handled:!0,type:"instrument"}})])}}function Ks(e){return function(...t){var n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&Ti(n,e,(function(t){var n={mechanism:{data:{function:e,handler:Ui(t)},handled:!0,type:"instrument"}},r=Ci(t);return r&&(n.mechanism.data.handler=Ui(r)),Ps(t,n)}))})),e.apply(this,t)}}function Js(e){var t=(0,Ko.getGlobalObject)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ti(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ps(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ui(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Ps(r,{mechanism:{data:{function:"addEventListener",handler:Ui(r),target:e},handled:!0,type:"instrument"}}),o])}})),Ti(n,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{var i=o&&o.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,o,r)}})))}Ws.__initStatic();Ko=i("k6cxq");class Zs{static __initStatic(){this.id="Breadcrumbs"}__init(){this.name=Zs.id}setupOnce(){this.options.console&&Wi("console",Qs),this.options.dom&&Wi("dom",function(e){function t(t){let n,r="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=t.event.target?ui(t.event.target,r):ui(t.event,r)}catch(e){n="<unknown>"}0!==n.length&&Xa().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&Wi("xhr",ec),this.options.fetch&&Wi("fetch",tc),this.options.history&&Wi("history",nc)}constructor(e){Zs.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}}function Qs(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:ba(e.level),message:xi(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${xi(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}Xa().addBreadcrumb(t,{input:e.args,level:e.level})}function ec(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:o}=e.xhr.__sentry_xhr__||{};Xa().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:o})}else;}function tc(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Xa().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):Xa().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function nc(e){var t=(0,Ko.getGlobalObject)();let n=e.from,r=e.to;var o=oa(t.location.href);let i=oa(n);var a=oa(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Xa().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}Zs.__initStatic();class rc{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=rc.id}setupOnce(){var e=Xa().getClient();e&&qa(((t,n)=>{var r=Xa().getIntegration(rc);return r?function(e,t,n,r,o){if(!(r.exception&&r.exception.values&&o&&ci(o.originalException,Error)))return r;var i=oc(e,n,o.originalException,t);return r.exception.values=[...i,...r.exception.values],r}(e.getOptions().stackParser,r._key,r._limit,t,n):t}))}constructor(e={}){rc.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}}function oc(e,t,n,r,o=[]){if(!ci(n[r],Error)||o.length+1>=t)return o;var i=Os(e,n[r]);return oc(e,t,n[r],r,[i,...o])}rc.__initStatic();var ic=(0,(Ko=i("k6cxq")).getGlobalObject)();class ac{static __initStatic(){this.id="HttpContext"}__init(){this.name=ac.id}setupOnce(){qa((e=>{if(Xa().getIntegration(ac)){if(!ic.navigator&&!ic.location&&!ic.document)return e;var t=e.request&&e.request.url||ic.location&&ic.location.href;const{referrer:r}=ic.document||{},{userAgent:o}=ic.navigator||{};var n={...t&&{url:t},headers:{...e.request&&e.request.headers,...r&&{Referer:r},...o&&{"User-Agent":o}}};return{...e,request:n}}return e}))}constructor(){ac.prototype.__init.call(this)}}ac.__initStatic();class sc{static __initStatic(){this.id="Dedupe"}__init(){this.name=sc.id}setupOnce(e,t){var n=e=>{var n=t().getIntegration(sc);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!uc(e,t)&&!!cc(e,t))))}(e,t)||!!function(e,t){var n=lc(t),r=lc(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!uc(e,t)&&!!cc(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}constructor(){sc.prototype.__init.call(this)}}function cc(e,t){let n=pc(e),r=pc(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){var o=r[e],i=n[e];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function uc(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function lc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function pc(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}sc.__initStatic();Ko=i("k6cxq");var dc=(0,(Ko=i("k6cxq")).getGlobalObject)();let fc;function hc(){if(fc)return fc;if(Gi(dc.fetch))return fc=dc.fetch.bind(dc);var e=dc.document;let t=dc.fetch;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return fc=t.bind(dc)}function gc(e,t){if("[object Navigator]"===Object.prototype.toString.call(dc&&dc.navigator)&&"function"==typeof dc.navigator.sendBeacon)dc.navigator.sendBeacon.bind(dc.navigator)(e,t);else if(Pi()){hc()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error(e)}))}}var vc=(0,Ko.getGlobalObject)();class _c extends Es{eventFromException(e,t){return Ds(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Is(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){var n=this.getIntegrationById("Breadcrumbs");n&&n.options&&n.options.sentry&&Xa().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:aa(e)},{event:e}),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log("Sending outcomes:",e);var t,n,r,o=hs(this._dsn,this._options.tunnel),i=(t=e,wa((n=this._options.tunnel&&hi(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,Ca.dateTimestampInSeconds)(),discarded_events:t}]]));try{gc(o,Sa(i))}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error(e)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.log("No outcomes to send")}constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Ss}],version:Ss},super(e),e.sendClientReports&&vc.document&&vc.document.addEventListener("visibilitychange",(()=>{"hidden"===vc.document.visibilityState&&this._flushOutcomes()}))}}function mc(e,t=hc()){return xs(e,(function(n){var r={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,...e.fetchOptions};return t(e.url,r).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}))}function yc(e){return xs(e,(function(t){return new _a(((n,r)=>{var o=new XMLHttpRequest;for(var i in o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,i)&&o.setRequestHeader(i,e.headers[i]);o.send(t.body)}))}))}function bc(e,t,n,r){var o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}var wc=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ec=/\((\S*)(?::(\d+))(?::(\d+))\)/,kc=[30,e=>{var t=wc.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=Ec.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}const[e,r]=$c(t[1]||"?",t[2]);return bc(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],xc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Sc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Tc=[50,e=>{var t=xc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=Sc.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}let e=t[3],r=t[1]||"?";return[r,e]=$c(r,e),bc(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Oc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,jc=[40,e=>{var t=Oc.exec(e);return t?bc(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],Cc=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Nc=[10,e=>{var t=Cc.exec(e);return t?bc(t[2],t[3]||"?",+t[1]):void 0}],Rc=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Dc=[20,e=>{var t=Rc.exec(e);return t?bc(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0}],Ic=[kc,Tc,jc],Lc=Ai(...Ic),$c=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Bc=(Ko=i("k6cxq"),[new Xo.InboundFilters,new Xo.FunctionToString,new Ws,new Zs,new Gs,new rc,new sc,new ac]);function Ac(e={}){if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=Bc),void 0===e.release){var t=(0,Ko.getGlobalObject)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var n,r={...e,stackParser:(n=e.stackParser||Lc,Array.isArray(n)?Ai(...n):n),integrations:ws(e),transport:e.transport||(Pi()?mc:yc)};ks(_c,r),e.autoSessionTracking&&function(){if(void 0===(0,Ko.getGlobalObject)().document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var e=Xa();if(!e.captureSession)return;Hc(e),Wi("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&Hc(Xa())}))}()}function Uc(e={},t=Xa()){var n=(0,Ko.getGlobalObject)();if(!n.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("Global document not defined in showReportDialog call"));const{client:r,scope:o}=t.getStackTop();var i=e.dsn||r&&r.getDsn();if(i){o&&(e.user={...o.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());var a=n.document.createElement("script");a.async=!0,a.src=gs(i,e),e.onLoad&&(a.onload=e.onLoad);var s=n.document.head||n.document.body;s?s.appendChild(a):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.error("DSN not configured for showReportDialog call")}function Pc(){return Xa().lastEventId()}function Gc(){}function Mc(e){e()}function Yc(e){var t=Xa().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Cannot flush events. No client defined."),ga(!1))}function qc(e){var t=Xa().getClient();return t?t.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ei.warn("Cannot flush events and disable SDK. No client defined."),ga(!1))}function Fc(e){return Ps(e)()}function Hc(e){e.startSession({ignoreDuration:!0}),e.captureSession()}let zc={};var Wc=(0,Ko.getGlobalObject)();Wc.Sentry&&Wc.Sentry.Integrations&&(zc=Wc.Sentry.Integrations);var Vc={...zc,...Xo,...Ts},Xc={components:to,core:oo,diagnostics:io,elements:ao,io:so,services:lo,startup:po,storage:Co,stores:No,styles:qo,subscriptions:Fo,ui:Ho,util:zo,vendorComponents:Wo,vendorServices:{gtag:({config:e,io:t,window:n})=>{const{trackingId:r,enabled:o}=e.gtag,i=()=>{n.dataLayer=[],n[`ga-disable-${r}`]=!o,a("js",t.date()),a("config",r)};function a(){n.dataLayer||i(),n.dataLayer.push(arguments)}return a},sentry:({config:e})=>(Vo.init&&Vo.init(e.sentry),Vo)}},Kc={gtag:{trackingId:"UA-34497639-2",enabled:!1},sentry:{dsn:"https://63594154fcf34c34966aec13b15e2821@o418187.ingest.sentry.io/5320412",enabled:!1},app:{name:"Agile Avatars",issues:"https://github.com/mattriley/agileavatars/issues",source:"https://github.com/mattriley/agileavatars"},author:{name:"Matt Riley",profile:"https://www.linkedin.com/in/mattrileyau/"},gravatar:{domain:"https://secure.gravatar.com",size:600,fallbacks:["robohash","monsterid","wavatar","retro","identicon","mp"],errorMessage:"An error occurred. Please check your connection and try again."},options:{layout:"modes | shapes | size | spacing | sort | outline",modes:["active","passive"],shapes:["circle","square"],shapeRadius:{circle:50,square:0},active:{min:0,max:999,step:1},passive:{min:0,max:999,step:1},size:{min:100,max:600,step:10},spacing:{min:0,max:10,step:1},sort:{orderAdded:"Order added",roleThenName:"Role, then name",name:"Name"}},tags:{layout:"tagImage | tagName roleName",imagePadding:17},roles:{nilRole:{roleName:"",color:"#ffffff"},presetColors:{BA:"#6688c3",DEV:"#48a56a",PO:"#ce4a4a",QA:"#eaaf41",TL:"#000000",XD:"#b25da6"}},debounce:{adjustTagInstanceCounts:100,sortTagList:50},storage:{stores:["settings","roles","tags","tagInstances"],defaults:{settings:{app:{modal:"welcome",nilRoleId:null},options:{sort:"orderAdded",shape:"circle",active:1,passive:0,size:170,spacing:4,outline:!0},gravatar:{fallback:"robohash",freetext:"",status:"ready",errorMessage:""}}}}};const{storage:Jc,util:Zc}=Xc;const Qc=/localhost/.test(window.location.host),eu=(({window:e,overrides:t,configs:r})=>{const{compose:o,config:i}=n(a)(Xc,{overrides:t,defaultConfig:Kc,configs:r}),{stores:s}=o("stores",{storage:Jc,config:i}),{subscriptions:c}=o("subscriptions",{stores:s,util:Zc}),{core:u}=o("core",{util:Zc,config:i}),{io:l}=o("io",{window:e}),{services:p}=o("services",{subscriptions:c,stores:s,core:u,io:l,util:Zc,config:i}),{vendorServices:d}=o("vendorServices",{io:l,config:i,window:e}),{ui:f}=o("ui",{window:e}),{elements:h}=o("elements",{ui:f,util:Zc}),{vendorComponents:g}=o("vendorComponents",{ui:f,config:i,window:e}),{components:v}=o("components",{ui:f,elements:h,vendorComponents:g,vendorServices:d,services:p,subscriptions:c,util:Zc,config:i}),{styles:_}=o("styles",{ui:f,subscriptions:c,config:i});return o("diagnostics",{stores:s,util:Zc}),o("startup",{ui:f,components:v,styles:_,services:p,subscriptions:c,stores:s,util:Zc,config:i,window:e}),o.end()})({window:window,configs:[{gtag:{enabled:!Qc}},{sentry:{enabled:!Qc}}]}),{config:tu,modules:nu}=eu;window.app=eu,window.document.title=tu.app.name;const ru=nu.startup.start();document.getElementById("app").append(ru);
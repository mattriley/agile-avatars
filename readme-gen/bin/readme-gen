#!/usr/bin/env bash

export TARGET_DIR=$1

README="$TARGET_DIR/README.md"

DIRNAME="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
cd "$DIRNAME/.."

# Generate README.md from ejs template.
node --experimental-specifier-resolution=node ./bin/readme-gen.js > $README

# Generate table of contents.
npx doctoc --maxlevel 1 $README 

cd $TARGET_DIR && git add $README
